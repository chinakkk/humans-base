/*! For license information please see main.7235614c.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=c(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var g=h(n,m);try{l(t,m,g)}catch(_){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case l:case h:case y:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return b(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||b(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===l},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===y},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===h||e.$$typeof===g||e.$$typeof===_||e.$$typeof===k||e.$$typeof===m)},t.typeOf=b},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case x:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,Se=null;function xe(e){if(e=_i(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),we(e.stateNode,e.type,t))}}function Ce(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==Ee||null!==Se)&&(Ne(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,Et,St,xt,Ct=!1,Tt=[],It=null,Nt=null,Pt=null,At=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Ct=!1,null!==It&&jt(It)&&(It=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==Pt&&jt(Pt)&&(Pt=null),At.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Nt&&Bt(Nt,e),null!==Pt&&Bt(Pt,e),At.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=k.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=_t,a=qt.transition;qt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,qt.transition=a}}function Kt(e,t,n,r){var i=_t,a=qt.transition;qt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&bt(a),null===(a=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=be(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=F({},ln,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(gn),kn=an(F({},ln,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function xn(){return Sn}var Cn=F({},fn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Cn),In=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Pn=an(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(An),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Wn(t,Gn,e,be(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,_r=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Er={},Sr={};function xr(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Cr=xr("animationend"),Tr=xr("animationiteration"),Ir=xr("animationstart"),Nr=xr("transitionend"),Pr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),u(t,[e])}for(var Or=0;Or<Ar.length;Or++){var Dr=Ar[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Fe;Me=!1,Fe=null,je||(je=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=be(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":l="focus",u=yn;break;case"focusout":l="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Cr:case Tr:case Ir:u=mn;break;case Nr:u=Pn;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&c.push(Wr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==l?s:ki(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Gr(c),h=Gr(h)}c=null}else c=null;null!==u&&Qr(o,s,u,c,!1),null!==l&&null!==f&&Qr(o,f,l,c,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Yn;else if(Hn(s))if(Xn)y=or;else{y=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ar);switch(y&&(y=y(e,r))?Wn(o,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?ki(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zn?Vn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==_?"onCompositionEnd"===_&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(m=Kr(r,_)).length&&(_=new kn(_,e,null,n,i),o.push({event:_,listeners:m}),g?_.data=g:null!==(g=Bn(n))&&(_.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Re(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Re(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[di]||null}var wi=[],Ei=-1;function Si(e){return{current:e}}function xi(e){0>Ei||(e.current=wi[Ei],wi[Ei]=null,Ei--)}function Ci(e,t){Ei++,wi[Ei]=e.current,e.current=t}var Ti={},Ii=Si(Ti),Ni=Si(!1),Pi=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){xi(Ni),xi(Ii)}function Di(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Ci(Ii,t),Ci(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ii.current,Ci(Ii,e),Ci(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,xi(Ni),xi(Ii),Ci(Ii,e)):xi(Ni),Ci(Ni,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=_t;try{var n=ji;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,zi),i}finally{_t=t,Vi=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Si(null),ga=null,_a=null,ka=null;function ba(){ka=_a=ga=null}function wa(e){var t=ma.current;xi(ma),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ga)throw Error(a(308));_a=e,ga.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Ca=null;function Ta(e){null===Ca?Ca=[e]:Ca.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rl(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=xa(a):(i=Ri(t)?Pi:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=xa(a):(a=Ri(t)?Pi:Ii.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case w:return(t=Ul(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m,f=y}if(v===s.length)return n(i,f),ia&&Ji(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ji(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function y(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,y=s=0,m=null,g=u.next();null!==v&&!g.done;y++,g=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var _=d(i,v,g.value,l);if(null===_){null===v&&(v=m);break}e&&v&&null===_.alternate&&t(i,v),s=o(_,s,y),null===f?c=_:f.sibling=_,f=_,v=m}if(g.done)return n(i,v),ia&&Ji(i,y),c;if(null===v){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,l))&&(s=o(g,s,y),null===f?c=g:f.sibling=g,f=g);return ia&&Ji(i,y),c}for(v=r(i,v);!g.done;y++,g=u.next())null!==(g=p(v,i,y,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),s=o(g,s,y),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,y),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===E){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Qa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ka(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((a=Ml(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ll(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return y(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Za),Ci(Za,t)}function io(){xi(Za),xi(eo),xi(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ci(eo,e),Ci(Za,n))}function oo(e){eo.current===e&&(xi(Za),xi(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,_o=!1,ko=0,bo=0;function wo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),_o){o=0;do{if(_o=!1,ko=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(_o)}if(fo.current=os,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function xo(){var e=0!==ko;return ko=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Io(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,vo.lanes|=f,Fu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&rl(t,e,1,-1)}function jo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Co();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ho(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Ko(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function Zo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{_t=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){rl(n,e,r,tl()),as(n,t,r)}}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(rl(n,e,r,i=tl()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){_o=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:xa,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:xa,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:xa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Co();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Pu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:xa,useCallback:Yo,useContext:xa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Io)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),yo.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},ls={readContext:xa,useCallback:Yo,useContext:xa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Po,useRef:Vo,useState:function(){return Po(Io)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Jo(t,yo.memoizedState,e)},useTransition:function(){return[Po(Io)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cl.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=k.ReactCurrentOwner,ks=!1;function bs(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=xo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ol(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Dl(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ts(e,t,n,r,i)}function xs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Du,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Du,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Du,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Du,Ou),Ou|=r;return bs(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ri(n)?Pi:Ii.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=xo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Is(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Hs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=xa(l):l=Ai(t,l=Ri(n)?Pi:Ii.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Ha(t,o,r,l),Pa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Pa?("function"===typeof c&&(Va(t,n,c,r),u=t.memoizedState),(s=Pa||za(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ya(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=xa(u):u=Ai(t,u=Ri(n)?Pi:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Pa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Pa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(l=Pa||za(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ws(e,t,a);r=t.stateNode,_s.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return da(),pa(i),t.flags|=256,bs(e,t,n,r),t.child}var Rs,Os,Ds,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fl(u,i,0,null),e=Ml(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rl(r,e,i,-1))}return yl(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dl(r,s):(s=Ml(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Gs(t),null;case 3:return r=t.stateNode,io(),xi(Ni),xi(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sl(aa),aa=null))),Os(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ye(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&_(e,o,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(xi(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sl(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):yl())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Os(e,t),null===e&&zr(t.stateNode.containerInfo),Gs(t),null;case 10:return wa(t.type._context),Gs(t),null;case 19:if(xi(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ci(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $s(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),xi(Ni),xi(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(xi(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xl(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){xl(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xl(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){xl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)mu(t,e),t=t.sibling}function mu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(y){xl(e,e.return,y)}try{ru(5,e,e.return)}catch(y){xl(e,e.return,y)}}break;case 1:yu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(yu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){xl(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),_e(u,s);var c=_e(u,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):_(i,f,h,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){xl(e,e.return,y)}}break;case 6:if(yu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){xl(e,e.return,y)}}break;case 3:if(yu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(y){xl(e,e.return,y)}break;case 4:default:yu(t,e),gu(e);break;case 13:yu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(c=Xs)||f,yu(t,e),Xs=c):yu(t,e),gu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){xl(r,n,y)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Zs=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(y){xl(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){xl(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){xl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _u(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Ys;var l=Xs;if(Ys=o,(Xs=u)&&!l)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Eu(i):null!==u?(u.return=o,Zs=u):Eu(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,Ys=s,Xs=l}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):bu(e)}}function bu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){xl(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Eu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){xl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){xl(t,i,u)}}var a=t.return;try{au(t)}catch(u){xl(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){xl(t,o,u)}}}catch(u){xl(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Su,xu=Math.ceil,Cu=k.ReactCurrentDispatcher,Tu=k.ReactCurrentOwner,Iu=k.ReactCurrentBatchConfig,Nu=0,Pu=null,Au=null,Ru=0,Ou=0,Du=Si(0),Lu=0,Mu=null,Fu=0,ju=0,Uu=0,Vu=null,Bu=null,zu=0,qu=1/0,Hu=null,Wu=!1,Ku=null,Gu=null,Qu=!1,$u=null,Yu=0,Xu=0,Ju=null,Zu=-1,el=0;function tl(){return 0!==(6&Nu)?Xe():-1!==Zu?Zu:Zu=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rl(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));mt(e,n,r),0!==(2&Nu)&&e===Pu||(e===Pu&&(0===(2&Nu)&&(ju|=n),4===Lu&&ul(e,Ru)),il(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(qu=Xe()+500,Ui&&zi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Pu?Ru:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(ll.bind(null,e)):Bi(ll.bind(null,e)),oi((function(){0===(6&Nu)&&zi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if(Zu=-1,el=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(El()&&e.callbackNode!==n)return null;var r=ht(e,e===Pu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ml(e,r);else{t=r;var i=Nu;Nu|=2;var o=vl();for(Pu===e&&Ru===t||(Hu=null,qu=Xe()+500,dl(e,t));;)try{_l();break}catch(u){pl(e,u)}ba(),Cu.current=o,Nu=i,null!==Au?t=0:(Pu=null,Ru=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Mu,dl(e,0),ul(e,r),il(e,Xe()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ml(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Mu,dl(e,0),ul(e,r),il(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,Bu,Hu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=zu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,Bu,Hu),t);break}wl(e,Bu,Hu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xu(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,Bu,Hu),r);break}wl(e,Bu,Hu);break;default:throw Error(a(329))}}}return il(e,Xe()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=ml(e,t))&&(t=Bu,Bu=n,null!==t&&sl(t)),e}function sl(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function ul(e,t){for(t&=~Uu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Nu))throw Error(a(327));El();var t=ht(e,0);if(0===(1&t))return il(e,Xe()),null;var n=ml(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Mu,dl(e,0),ul(e,t),il(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Bu,Hu),il(e,Xe()),null}function cl(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(qu=Xe()+500,Ui&&zi())}}function fl(e){null!==$u&&0===$u.tag&&0===(6&Nu)&&El();var t=Nu;Nu|=1;var n=Iu.transition,r=_t;try{if(Iu.transition=null,_t=1,e)return e()}finally{_t=r,Iu.transition=n,0===(6&(Nu=t))&&zi()}}function hl(){Ou=Du.current,xi(Du)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),xi(Ni),xi(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:xi(so);break;case 10:wa(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Pu=e,Au=e=Dl(e.current,null),Ru=Ou=t,Lu=0,Mu=null,Uu=ju=Fu=0,Bu=Vu=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function pl(e,t){for(;;){var n=Au;try{if(ba(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,_o=!1,ko=0,Tu.current=null,null===n||null===n.return){Lu=1,Mu=t,Au=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Ru,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ys(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}if(0===(1&t)){ys(o,c,t),yl();break e}l=Error(a(426))}else if(ia&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gs(m,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,l,t));break e;case 1:u=l;var g=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Gu||!Gu.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bl(n)}catch(k){t=k,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function vl(){var e=Cu.current;return Cu.current=os,null===e?os:e}function yl(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Pu||0===(268435455&Fu)&&0===(268435455&ju)||ul(Pu,Ru)}function ml(e,t){var n=Nu;Nu|=2;var r=vl();for(Pu===e&&Ru===t||(Hu=null,dl(e,t));;)try{gl();break}catch(i){pl(e,i)}if(ba(),Nu=n,Cu.current=r,null!==Au)throw Error(a(261));return Pu=null,Ru=0,Lu}function gl(){for(;null!==Au;)kl(Au)}function _l(){for(;null!==Au&&!$e();)kl(Au)}function kl(e){var t=Su(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?bl(e):Au=t,Tu.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ou)))return void(Au=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Lu=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Lu&&(Lu=5)}function wl(e,t,n){var r=_t,i=Iu.transition;try{Iu.transition=null,_t=1,function(e,t,n,r){do{El()}while(null!==$u);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pu&&(Au=Pu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Pl(tt,(function(){return El(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=_t;_t=1;var u=Nu;Nu|=4,Tu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++f===r&&(l=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(b){xl(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),mu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,_u(n,e,i),Ye(),Nu=u,_t=s,Iu.transition=o}else e.current=n;if(Qu&&(Qu=!1,$u=e,Yu=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Ku,Ku=null,e;0!==(1&Yu)&&0!==e.tag&&El(),o=e.pendingLanes,0!==(1&o)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,zi()}(e,t,n,r)}finally{Iu.transition=i,_t=r}return null}function El(){if(null!==$u){var e=kt(Yu),t=Iu.transition,n=_t;try{if(Iu.transition=null,_t=16>e?16:e,null===$u)var r=!1;else{if(e=$u,$u=null,Yu=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Zs=c;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===c){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var _=e.current;for(Zs=_;null!==Zs;){var k=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Zs=k;else e:for(s=_;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(w){xl(u,u.return,w)}if(u===s){Zs=null;break e}var b=u.sibling;if(null!==b){b.return=u.return,Zs=b;break e}Zs=u.return}}if(Nu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{_t=n,Iu.transition=t}}return!1}function Sl(e,t,n){e=Da(e,t=ps(0,t=cs(n,t),1),1),t=tl(),null!==e&&(mt(e,1,t),il(e,t))}function xl(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Da(t,e=vs(t,e=cs(n,e),1),1),e=tl(),null!==t&&(mt(t,1,e),il(t,e));break}}t=t.return}}function Cl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Ru&n)===n&&(4===Lu||3===Lu&&(130023424&Ru)===Ru&&500>Xe()-zu?dl(e,0):Uu|=n),il(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Na(e,t))&&(mt(e,t,n),il(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tl(e,n)}function Pl(e,t){return Ge(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Al(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ol(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Ml(n.children,i,o,t);case S:s=8,i|=8;break;case x:return(e=Rl(12,n,t,2|i)).elementType=x,e.lanes=o,e;case N:return(e=Rl(13,n,t,i)).elementType=N,e.lanes=o,e;case P:return(e=Rl(19,n,t,i)).elementType=P,e.lanes=o,e;case O:return Fl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case I:s=11;break e;case A:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,a,o,s,u){return e=new Vl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function zl(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function ql(e,t,n,r,i,a,o,s,u){return(e=Bl(n,r,!0,e,0,a,0,s,u)).context=zl(null),n=e.current,(a=Oa(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,mt(e,i,r),il(e,r),e}function Hl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rl(e,i,o,a),La(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ci(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ci(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return Ws(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ai(t,Ii.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=xo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ws(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Cs(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(ma,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ea(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ea(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=xa(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),Es(e,t,r,i=ya(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),Hs(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return xs(e,t,n)}throw Error(a(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wl(o);s.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wl(o);a.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wl(u);s.call(e)}}var u=Bl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),fl((function(){Hl(t,u,n,r)})),u}(n,t,e,i,r);return Wl(o)}Yl.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hl(e,t,null,null)},Yl.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){Hl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),il(t,Xe()),0===(6&Nu)&&(qu=Xe()+500,zi()))}break;case 13:fl((function(){var t=Na(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Gl(e,1)}},wt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rl(t,e,134217728,tl());Gl(e,134217728)}},Et=function(e){if(13===e.tag){var t=nl(e),n=Na(e,t);if(null!==n)rl(n,e,t,tl());Gl(e,t)}},St=function(){return _t},xt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cl,Ne=fl;var tc={usingClientEntryPoint:!1,Events:[_i,ki,bi,Ce,Te,cl]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(a(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $l(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case c:case l:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){n(459)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function _(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var k=_.prototype=new g;k.constructor=_,v(k,m.prototype),k.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,b(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",b(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=N(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function b(e){if(y=!1,k(e),!v)if(null!==r(l))v=!0,O(w);else{var t=r(c);null!==t&&D(b,t.startTime-e)}}function w(e,n){v=!1,y&&(y=!1,g(C),C=-1),p=!0;var a=d;try{for(k(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),k(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&D(b,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,x=null,C=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function P(){if(null!==x){var e=t.unstable_now();I=e;var n=!0;try{n=x(!0,e)}finally{n?E():(S=!1,x=null)}}else S=!1}if("function"===typeof _)E=function(){_(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=P,E=function(){R.postMessage(null)}}else E=function(){m(P,0)};function O(e){x=e,S||(S=!0,E())}function D(e,n){C=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(y?(g(C),C=-1):y=!0,D(b,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)},561:function(e,t,n){var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,l(i)&&c({inst:i})}),[e,n,t]),o((function(){return l(i)&&c({inst:i}),e((function(){l(i)&&c({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},595:function(e,t,n){var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=l((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),c(d),d}},248:function(e,t,n){e.exports=n(561)},327:function(e,t,n){e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/humans-base/",function(){var e,t=n(791),r=n.t(t,2),i=n(250),a="App_container__4L7Vo";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function l(e){return function(e){if(Array.isArray(e))return o(e)}(e)||s(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){var t=g();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,n)}}function b(e){if(Array.isArray(e))return e}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){return b(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||u(e,t)||w()}function S(e,t,n){return S=g()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&v(i,n.prototype),i},S.apply(null,arguments)}function x(e){var t="function"===typeof Map?new Map:void 0;return x=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,m(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)},x(e)}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var I,N="popstate";function P(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function A(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function R(e,t){return{usr:e.state,key:e.key,idx:t}}function O(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function D(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,l=void 0!==u&&u,c=s.history,f=e.Pop,h=null,d=p();function p(){return(c.state||{idx:null}).idx}function v(){f=e.Pop;var t=p(),n=null==t?null:t-d;d=t,h&&h({action:f,location:m.location,delta:n})}function y(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:D(e);return P(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,c.replaceState(T({},c.state,{idx:d}),""));var m={get action(){return f},get location(){return t(s,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(N,v),h=e,function(){s.removeEventListener(N,v),h=null}},createHref:function(e){return n(s,e)},createURL:y,encodeLocation:function(e){var t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;var i=O(m.location,t,n);r&&r(i,t);var a=R(i,d=p()+1),o=m.createHref(i);try{c.pushState(a,"",o)}catch(O_){s.location.assign(o)}l&&h&&h({action:f,location:m.location,delta:1})},replace:function(t,n){f=e.Replace;var i=O(m.location,t,n);r&&r(i,t);var a=R(i,d=p()),o=m.createHref(i);c.replaceState(a,"",o),l&&h&&h({action:f,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(I||(I={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){void 0===n&&(n="/");var r=X(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=j(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Q(i[o],Y(r));return a}function j(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(P(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=te([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(P(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),j(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:G(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(U(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function U(e){var t=e.split("/");if(0===t.length)return[];var n,r=b(n=t)||s(n)||u(n)||w(),i=r[0],a=r.slice(1),o=i.endsWith("?"),c=i.replace(/\?$/,"");if(0===a.length)return o?[c,""]:[c];var f=U(a.join("/")),h=[];return h.push.apply(h,l(f.map((function(e){return""===e?c:[c,e].join("/")})))),o&&h.push.apply(h,l(f)),h.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,B=3,z=2,q=1,H=10,W=-2,K=function(e){return"*"===e};function G(e,t){var n=e.split("/"),r=n.length;return n.some(K)&&(r+=W),t&&(r+=z),n.filter((function(e){return!K(e)})).reduce((function(e,t){return e+(V.test(t)?B:""===t?q:H)}),r)}function Q(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=$({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:te([i,c.pathname]),pathnameBase:ne(te([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=te([i,c.pathnameBase]))}return a}function $(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);A("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=E(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),c=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(O_){return A(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+O_+")."),e}}(l[n]||"",t),e}),{});return{params:c,pathname:s,pathnameBase:u,pattern:e}}function Y(e){try{return decodeURI(e)}catch(O_){return A(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+O_+")."),e}}function X(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function J(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Z(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ee(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(P(!(i=T({},e)).pathname||!i.pathname.includes("?"),J("?","pathname","search",i)),P(!i.pathname||!i.pathname.includes("#"),J("#","pathname","hash",i)),P(!i.search||!i.search.includes("#"),J("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u-=1;i.pathname=l.join("/")}a=u>=0?t[u]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:re(a),hash:ie(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!f&&!h||(c.pathname+="/"),c}var te=function(e){return e.join("/").replace(/\/\/+/g,"/")},ne=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},re=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ie=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ae=function(e){y(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n)}(x(Error));function oe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var se=["post","put","patch","delete"],ue=(new Set(se),["get"].concat(se));new Set(ue),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");var le="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ce=t.useState,fe=t.useEffect,he=t.useLayoutEffect,de=t.useDebugValue;function pe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!le(n,r)}catch(O_){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var ve=t.createContext(null);var ye=t.createContext(null);var me=t.createContext(null);var ge=t.createContext(null);var _e=t.createContext(null);var ke=t.createContext({outlet:null,matches:[]});var be=t.createContext(null);function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function Ee(){return null!=t.useContext(_e)}function Se(){return Ee()||P(!1),t.useContext(_e).location}function xe(){Ee()||P(!1);var e=t.useContext(ge),n=e.basename,r=e.navigator,i=t.useContext(ke).matches,a=Se().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);t.useEffect((function(){s.current=!0}));var u=t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=ee(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:te([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}var Ce=t.createContext(null);function Te(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(ke).matches,a=Se().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return ee(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Ie(){var e=function(){var e,n=t.useContext(be),r=De(Pe.UseRouteError),i=Le(Pe.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=oe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Ne,Pe,Ae=function(e){y(r,e);var n=k(r);function r(e){var t;return c(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return p(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(ke.Provider,{value:this.props.routeContext},t.createElement(be.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Re(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(ve);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ke.Provider,{value:n},i)}function Oe(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||P(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,l=null;r&&(l=o.route.ErrorBoundary?t.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:t.createElement(Ie,null));var c=n.concat(i.slice(0,s+1)),f=function(){var n=e;return u?n=l:o.route.Component?n=t.createElement(o.route.Component,null):o.route.element&&(n=o.route.element),t.createElement(Re,{match:o,routeContext:{outlet:e,matches:c},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===s)?t.createElement(Ae,{location:r.location,component:l,error:u,children:f(),routeContext:{outlet:null,matches:c}}):f()}),null)}function De(e){var n=t.useContext(ye);return n||P(!1),n}function Le(e){var n=function(e){var n=t.useContext(ke);return n||P(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||P(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Ne||(Ne={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Pe||(Pe={}));var Me;function Fe(e){var n=e.to,r=e.replace,i=e.state,a=e.relative;Ee()||P(!1);var o=t.useContext(ye),s=xe();return t.useEffect((function(){o&&"idle"!==o.navigation.state||s(n,{replace:r,state:i,relative:a})})),null}function je(e){return function(e){var n=t.useContext(ke).outlet;return n?t.createElement(Ce.Provider,{value:e},n):n}(e.context)}function Ue(e){P(!1)}function Ve(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,l=void 0===u?e.Pop:u,c=n.navigator,f=n.static,h=void 0!==f&&f;Ee()&&P(!1);var d=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof s&&(s=L(s));var v=s,y=v.pathname,m=void 0===y?"/":y,g=v.search,_=void 0===g?"":g,k=v.hash,b=void 0===k?"":k,w=v.state,E=void 0===w?null:w,S=v.key,x=void 0===S?"default":S,C=t.useMemo((function(){var e=X(m,d);return null==e?null:{location:{pathname:e,search:_,hash:b,state:E,key:x},navigationType:l}}),[d,m,_,b,E,x,l]);return null==C?null:t.createElement(ge.Provider,{value:p},t.createElement(_e.Provider,{children:o,value:C}))}function Be(n){var r=n.children,i=n.location,a=t.useContext(ve);return function(n,r){Ee()||P(!1);var i,a=t.useContext(ge).navigator,o=t.useContext(ye),s=t.useContext(ke).matches,u=s[s.length-1],l=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,Se());if(r){var h,d="string"===typeof r?L(r):r;"/"===c||(null==(h=d.pathname)?void 0:h.startsWith(c))||P(!1),i=d}else i=f;var p=i.pathname||"/",v=F(n,{pathname:"/"===c?p:p.slice(c.length)||"/"}),y=Oe(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:te([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:te([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,o||void 0);return r&&y?t.createElement(_e.Provider,{value:{location:we({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},y):y}(a&&!r?a.router.routes:qe(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Me||(Me={}));var ze=new Promise((function(){}));t.Component;function qe(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Ue&&P(!1),e.props.index&&e.props.children&&P(!1);var a=[].concat(l(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=qe(e.props.children,a)),r.push(o)}else r.push.apply(r,qe(e.props.children,n))})),r}var He="Header_container__TsUVY",We="PagesButton_pages__NR7US",Ke="PagesButton_page__sGIKh",Ge="PagesButton_opened__zP81n";function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)}function $e(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Ye=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Xe(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),M((function(e,t){var n=L(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash;return O("",{pathname:i,search:o,hash:void 0===s?"":s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:D(t))}),(function(e,t){A("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var s=o.current,u=E(t.useState({action:s.action,location:s.location}),2),l=u[0],c=u[1];return t.useLayoutEffect((function(){return s.listen(c)}),[s]),t.createElement(Ve,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:s})}var Je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,l=e.target,c=e.to,f=e.preventScrollReset,h=$e(e,Ye),d=t.useContext(ge).basename,p=!1;if("string"===typeof c&&Ze.test(c)&&(r=c,Je)){var v=new URL(window.location.href),y=c.startsWith("//")?new URL(v.protocol+c):new URL(c),m=X(y.pathname,d);y.origin===v.origin&&null!=m?c=m+y.search+y.hash:p=!0}var g=function(e,n){var r=(void 0===n?{}:n).relative;Ee()||P(!1);var i=t.useContext(ge),a=i.basename,o=i.navigator,s=Te(e,{relative:r}),u=s.hash,l=s.pathname,c=s.search,f=l;return"/"!==a&&(f="/"===l?a:te([a,l])),o.createHref({pathname:f,search:c,hash:u})}(c,{relative:a}),_=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,l=xe(),c=Se(),f=Te(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:D(c)===D(f);l(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[c,l,f,a,o,i,e,s,u])}(c,{replace:s,state:u,target:l,preventScrollReset:f,relative:a});return t.createElement("a",Qe({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||_(e)},ref:n,target:l}))}));var tt,nt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(tt||(tt={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(nt||(nt={}));var rt=n(184),it=function(e){var n=e.pagesArr,r=e.clearInput,i=Se(),a=E((0,t.useState)(),2),o=a[0],s=a[1];return(0,t.useEffect)((function(){var e=i.pathname.split("/"),t=e[e.length-1],n=t[0].toUpperCase()+t.slice(1);s(n)}),[i]),(0,rt.jsx)("div",{className:We,children:n.map((function(e){return(0,rt.jsx)(et,{className:Ke+" "+(o===e?Ge:""),to:"/menu/".concat(e.toLowerCase()),onClick:function(){!function(e){s(e),r()}(e)},children:e},e)}))})},at="Search_container__kN-0r",ot="Search_searchWrapper__RSQY6",st="Search_search__ljLp0",ut="Search_clearButton__qfVBr",lt="Search_hidden__Ldb2l",ct=function(e){var n=e.searchInput,r=e.setSearchInput,i=Se(),a=(0,t.useRef)(null),o="/menu/profile"===i.pathname;return(0,rt.jsxs)("div",{className:at+" "+(o?lt:""),children:[(0,rt.jsx)("div",{className:ot,children:(0,rt.jsx)("input",{ref:a,className:st,type:"text",placeholder:"Search...",value:n,onChange:function(e){return r(e.target.value)}})}),n.length&&(0,rt.jsx)("svg",{onClick:function(){r("")},fill:"#000000",width:"16px",height:"16px",viewBox:"-3.5 0 19 19",xmlns:"http://www.w3.org/2000/svg",className:ut,children:(0,rt.jsx)("path",{d:"M11.383 13.644A1.03 1.03 0 0 1 9.928 15.1L6 11.172 2.072 15.1a1.03 1.03 0 1 1-1.455-1.456l3.928-3.928L.617 5.79a1.03 1.03 0 1 1 1.455-1.456L6 8.261l3.928-3.928a1.03 1.03 0 0 1 1.455 1.456L7.455 9.716z"})})]})};function ft(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ht(e){return!!e&&!!e[tn]}function dt(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===nn}(e)||Array.isArray(e)||!!e[en]||!!(null===(t=e.constructor)||void 0===t?void 0:t[en])||kt(e)||bt(e))}function pt(e,t,n){void 0===n&&(n=!1),0===vt(e)?(n?Object.keys:rn)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function vt(e){var t=e[tn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:kt(e)?2:bt(e)?3:0}function yt(e,t){return 2===vt(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function mt(e,t){return 2===vt(e)?e.get(t):e[t]}function gt(e,t,n){var r=vt(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function _t(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function kt(e){return Yt&&e instanceof Map}function bt(e){return Xt&&e instanceof Set}function wt(e){return e.o||e.t}function Et(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=an(e);delete t[tn];for(var n=rn(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function St(e,t){return void 0===t&&(t=!1),Ct(e)||ht(e)||!dt(e)||(vt(e)>1&&(e.set=e.add=e.clear=e.delete=xt),Object.freeze(e),t&&pt(e,(function(e,t){return St(t,!0)}),!0)),e}function xt(){ft(2)}function Ct(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Tt(e){var t=on[e];return t||ft(18,e),t}function It(e,t){on[e]||(on[e]=t)}function Nt(){return Qt}function Pt(e,t){t&&(Tt("Patches"),e.u=[],e.s=[],e.v=t)}function At(e){Rt(e),e.p.forEach(Dt),e.p=null}function Rt(e){e===Qt&&(Qt=e.l)}function Ot(e){return Qt={p:[],l:Qt,h:e,m:!0,_:0}}function Dt(e){var t=e[tn];0===t.i||1===t.i?t.j():t.g=!0}function Lt(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||Tt("ES5").S(t,e,r),r?(n[tn].P&&(At(t),ft(4)),dt(e)&&(e=Mt(t,e),t.l||jt(t,e)),t.u&&Tt("Patches").M(n[tn].t,e,t.u,t.s)):e=Mt(t,n,[]),At(t),t.u&&t.v(t.u,t.s),e!==Zt?e:void 0}function Mt(e,t,n){if(Ct(t))return t;var r=t[tn];if(!r)return pt(t,(function(i,a){return Ft(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return jt(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Et(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),pt(a,(function(t,a){return Ft(e,r,i,t,a,n,o)})),jt(e,i,!1),n&&e.u&&Tt("Patches").N(r,n,e.u,e.s)}return r.o}function Ft(e,t,n,r,i,a,o){if(ht(i)){var s=Mt(e,i,a&&t&&3!==t.i&&!yt(t.R,r)?a.concat(r):void 0);if(gt(n,r,s),!ht(s))return;e.m=!1}else o&&n.add(i);if(dt(i)&&!Ct(i)){if(!e.h.D&&e._<1)return;Mt(e,i),t&&t.A.l||jt(e,i)}}function jt(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&St(t,n)}function Ut(e,t){var n=e[tn];return(n?wt(n):e)[t]}function Vt(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Bt(e){e.P||(e.P=!0,e.l&&Bt(e.l))}function zt(e){e.o||(e.o=Et(e.t))}function qt(e,t,n){var r=kt(t)?Tt("MapSet").F(t,n):bt(t)?Tt("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Nt(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=sn;n&&(i=[r],a=un);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):Tt("ES5").J(t,n);return(n?n.A:Nt()).p.push(r),r}function Ht(e){return ht(e)||ft(22,e),function e(t){if(!dt(t))return t;var n,r=t[tn],i=vt(t);if(r){if(!r.P&&(r.i<4||!Tt("ES5").K(r)))return r.t;r.I=!0,n=Wt(t,i),r.I=!1}else n=Wt(t,i);return pt(n,(function(t,i){r&&mt(r.t,t)===i||gt(n,t,e(i))})),3===i?new Set(n):n}(e)}function Wt(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Et(e)}function Kt(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[tn];return sn.get(t,e)},set:function(t){var n=this[tn];sn.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][tn];if(!i.P)switch(i.i){case 5:r(i)&&Bt(i);break;case 4:n(i)&&Bt(i)}}}function n(e){for(var t=e.t,n=e.k,r=rn(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==tn){var o=t[a];if(void 0===o&&!yt(t,a))return!0;var s=n[a],u=s&&s[tn];if(u?u.t!==o:!_t(s,o))return!0}}var l=!!t[tn];return r.length!==rn(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};It("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=an(n);delete a[tn];for(var o=rn(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:Nt(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,tn,{value:a,writable:!0}),i},S:function(e,n,i){i?ht(n)&&n[tn].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[tn];if(n){var i=n.t,a=n.k,o=n.R,s=n.i;if(4===s)pt(a,(function(t){t!==tn&&(void 0!==i[t]||yt(i,t)?o[t]||e(a[t]):(o[t]=!0,Bt(n)))})),pt(i,(function(e){void 0!==a[e]||yt(a,e)||(o[e]=!1,Bt(n))}));else if(5===s){if(r(n)&&(Bt(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var l=i.length;l<a.length;l++)o[l]=!0;for(var c=Math.min(a.length,i.length),f=0;f<c;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var Gt,Qt,$t="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Yt="undefined"!=typeof Map,Xt="undefined"!=typeof Set,Jt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Zt=$t?Symbol.for("immer-nothing"):((Gt={})["immer-nothing"]=!0,Gt),en=$t?Symbol.for("immer-draftable"):"__$immer_draftable",tn=$t?Symbol.for("immer-state"):"__$immer_state",nn=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),rn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,an=Object.getOwnPropertyDescriptors||function(e){var t={};return rn(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},on={},sn={get:function(e,t){if(t===tn)return e;var n=wt(e);if(!yt(n,t))return function(e,t,n){var r,i=Vt(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!dt(r)?r:r===Ut(e.t,t)?(zt(e),e.o[t]=qt(e.A.h,r,e)):r},has:function(e,t){return t in wt(e)},ownKeys:function(e){return Reflect.ownKeys(wt(e))},set:function(e,t,n){var r=Vt(wt(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Ut(wt(e),t),a=null==i?void 0:i[tn];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(_t(n,i)&&(void 0!==n||yt(e.t,t)))return!0;zt(e),Bt(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Ut(e.t,t)||t in e.t?(e.R[t]=!1,zt(e),Bt(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=wt(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){ft(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){ft(12)}},un={};pt(sn,(function(e,t){un[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),un.deleteProperty=function(e,t){return un.set.call(this,e,t,void 0)},un.set=function(e,t,n){return sn.set.call(this,e[0],t,n,e[0])};var ln=function(){function e(e){var t=this;this.O=Jt,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&ft(6),void 0!==r&&"function"!=typeof r&&ft(7),dt(e)){var s=Ot(t),u=qt(t,e,void 0),l=!0;try{o=n(u),l=!1}finally{l?At(s):Rt(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return Pt(s,r),Lt(e,s)}),(function(e){throw At(s),e})):(Pt(s,r),Lt(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===Zt&&(o=void 0),t.D&&St(o,!0),r){var c=[],f=[];Tt("Patches").M(e,o,c,f),r(c,f)}return o}ft(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){dt(e)||ft(8),ht(e)&&(e=Ht(e));var t=Ot(this),n=qt(this,e,void 0);return n[tn].C=!0,Rt(t),n},t.finishDraft=function(e,t){var n=(e&&e[tn]).A;return Pt(n,t),Lt(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Jt&&ft(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Tt("Patches").$;return ht(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),cn=new ln,fn=cn.produce,hn=(cn.produceWithPatches.bind(cn),cn.setAutoFreeze.bind(cn),cn.setUseProxies.bind(cn),cn.applyPatches.bind(cn),cn.createDraft.bind(cn),cn.finishDraft.bind(cn),fn);function dn(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(n),!0).forEach((function(t){dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var mn="function"===typeof Symbol&&Symbol.observable||"@@observable",gn=function(){return Math.random().toString(36).substring(7).split("").join(".")},_n={INIT:"@@redux/INIT"+gn(),REPLACE:"@@redux/REPLACE"+gn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+gn()}};function kn(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function bn(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(yn(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(yn(1));return n(bn)(e,t)}if("function"!==typeof e)throw new Error(yn(2));var i=e,a=t,o=[],s=o,u=!1;function l(){s===o&&(s=o.slice())}function c(){if(u)throw new Error(yn(3));return a}function f(e){if("function"!==typeof e)throw new Error(yn(4));if(u)throw new Error(yn(5));var t=!0;return l(),s.push(e),function(){if(t){if(u)throw new Error(yn(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!kn(e))throw new Error(yn(7));if("undefined"===typeof e.type)throw new Error(yn(8));if(u)throw new Error(yn(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:_n.INIT}),(r={dispatch:h,subscribe:f,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(yn(10));i=e,h({type:_n.REPLACE})}})[mn]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(yn(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[mn]=function(){return this},e},r}function wn(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:_n.INIT}))throw new Error(yn(12));if("undefined"===typeof n(void 0,{type:_n.PROBE_UNKNOWN_ACTION()}))throw new Error(yn(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],l=n[u],c=e[u],f=l(c,t);if("undefined"===typeof f){t&&t.type;throw new Error(yn(14))}i[u]=f,r=r||f!==c}return(r=r||o.length!==Object.keys(e).length)?i:e}}function En(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Sn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(yn(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=En.apply(void 0,a)(n.dispatch),vn(vn({},n),{},{dispatch:r})}}}function xn(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Cn=xn();Cn.withExtraArgument=xn;var Tn=Cn,In=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nn=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Pn=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},An=Object.defineProperty,Rn=Object.defineProperties,On=Object.getOwnPropertyDescriptors,Dn=Object.getOwnPropertySymbols,Ln=Object.prototype.hasOwnProperty,Mn=Object.prototype.propertyIsEnumerable,Fn=function(e,t,n){return t in e?An(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},jn=function(e,t){for(var n in t||(t={}))Ln.call(t,n)&&Fn(e,n,t[n]);if(Dn)for(var r=0,i=Dn(t);r<i.length;r++){n=i[r];Mn.call(t,n)&&Fn(e,n,t[n])}return e},Un=function(e,t){return Rn(e,On(t))},Vn=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},Bn="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?En:En.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function zn(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var qn=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return In(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Pn([void 0],e[0].concat(this)))):new(t.bind.apply(t,Pn([void 0],e.concat(this))))},t}(Array);function Hn(e){return dt(e)?hn(e,(function(){})):e}function Wn(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new qn);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Tn.withExtraArgument(n.extraArgument)):r.push(Tn));0;return r}(e)}}function Kn(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return jn(jn({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Gn(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Qn(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Hn(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function l(){var t="function"===typeof e.extraReducers?Gn(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],l=void 0===u?void 0:u,c=jn(jn({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?Gn(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return Hn(e())};else{var l=Hn(e);i=function(){return l}}function c(e,t){void 0===e&&(e=i());var n=Pn([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(ht(e))return void 0===(r=n(e,t))?e:r;if(dt(e))return hn(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return c.getInitialState=i,c}(r,(function(e){for(var t in c)e.addCase(t,c[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}l&&e.addDefaultCase(l)}))}return a.forEach((function(e){var n,r,a=i[e],l=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[l]=n,u[e]=r?Kn(l,r):Kn(l)})),{name:t,reducer:function(e,t){return n||(n=l()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=l()),n.getInitialState()}}}var $n=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Yn=["name","message","stack","code"],Xn=function(e,t){this.payload=e,this.meta=t},Jn=function(e,t){this.payload=e,this.meta=t},Zn=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=Yn;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=Kn(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Un(jn({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Kn(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Un(jn({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=Kn(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||Zn)(e||"Rejected"),meta:Un(jn({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,l){var c,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):$n(),h=new o;function d(e){c=e,h.abort()}var p=function(){return Vn(this,null,(function(){var o,p,v,y,m,g;return Nn(this,(function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),y=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:u,extra:l}),null===(k=y)||"object"!==typeof k||"function"!==typeof k.then?[3,2]:[4,y];case 1:y=_.sent(),_.label=2;case 2:if(!1===y||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,m=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:c||"Aborted"})}))})),s(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:u,extra:l}))),[4,Promise.race([m,Promise.resolve(t(e,{dispatch:s,getState:u,extra:l,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new Xn(e,t)},fulfillWithValue:function(e,t){return new Jn(e,t)}})).then((function(t){if(t instanceof Xn)throw t;return t instanceof Jn?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=_.sent(),[3,5];case 4:return g=_.sent(),v=g instanceof Xn?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var k}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(er)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function er(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var tr="listenerMiddleware";Kn(tr+"/add"),Kn(tr+"/removeAll"),Kn(tr+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var nr,rr=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:rr(10);Kt();var ir=JSON.parse(localStorage.getItem("user")||"{}"),ar=Qn({name:"user",initialState:{user:{login:ir.login||"",password:ir.password||"",name:ir.name||"",surname:ir.surname||"",level:ir.level||"",birthday:ir.birthday||"",uid:ir.uid||"",imageURL:ir.imageURL||""},adminUser:{login:"a"}},reducers:{setUser:function(e,t){e.user.login=t.payload.login,e.user.name=t.payload.name,e.user.surname=t.payload.surname,e.user.level=t.payload.level,e.user.birthday=t.payload.birthday,e.user.uid=t.payload.uid,e.user.imageURL=t.payload.imageURL,localStorage.setItem("user",JSON.stringify(e.user))},removeUser:function(e){e.user.login="",e.user.password="",e.user.name="",e.user.surname="",e.user.level="",e.user.birthday="",e.user.uid="",e.user.imageURL="",localStorage.removeItem("user")}}}),or=ar.actions,sr=or.setUser,ur=or.removeUser,lr=ar.reducer,cr=n(248),fr=n(327),hr=n(164);var dr=function(e){e()},pr=function(){return dr},vr=(0,t.createContext)(null);function yr(){return(0,t.useContext)(vr)}var mr=function(){throw new Error("uSES not initialized!")},gr=mr,_r=function(e,t){return e===t};function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr,n=e===vr?yr:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_r;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,u=gr(o.addNestedSub,a.getState,s||a.getState,e,r);return(0,t.useDebugValue)(u),u}}var br=kr();n(110),n(900);var wr={notify:function(){},get:function(){return[]}};function Er(e,t){var n,r=wr;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=pr(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=wr)},getListeners:function(){return r}};return o}var Sr=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var xr=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=Er(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);Sr((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=r||vr;return t.createElement(u.Provider,{value:o},i)};function Cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr,n=e===vr?yr:function(){return(0,t.useContext)(e)};return function(){return n().store}}var Tr=Cr();function Ir(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vr,t=e===vr?Tr:Cr(e);return function(){return t().dispatch}}var Nr,Pr=Ir();!function(e){gr=e}(fr.useSyncExternalStoreWithSelector),function(e){e}(cr.useSyncExternalStore),Nr=hr.unstable_batchedUpdates,dr=Nr;var Ar=JSON.parse(localStorage.getItem("registrationUser")||"{}"),Rr=Qn({name:"registration",initialState:{registrationUser:{login:Ar.login||"",password:Ar.password||"",repeatPassword:Ar.repeatPassword||"",name:Ar.name||"",surname:Ar.surname||"",level:Ar.level||"",birthday:Ar.birthday||""}},reducers:{setRegistrationAbout:function(e,t){e.registrationUser.name=t.payload.name,e.registrationUser.surname=t.payload.surname,e.registrationUser.level=t.payload.level,e.registrationUser.birthday=t.payload.birthday,localStorage.setItem("registrationUser",JSON.stringify(e.registrationUser))},setRegistrationLogPass:function(e,t){e.registrationUser.login=t.payload.login,e.registrationUser.password=t.payload.password,e.registrationUser.repeatPassword=t.payload.repeatPassword,localStorage.setItem("registrationUser",JSON.stringify(e.registrationUser))},clearRegistrationData:function(e){e.registrationUser.login="",e.registrationUser.password="",e.registrationUser.name="",e.registrationUser.surname="",e.registrationUser.level="",e.registrationUser.birthday="",e.registrationUser.repeatPassword="",localStorage.removeItem("registrationUser")}}}),Or=Rr.actions,Dr=Or.setRegistrationAbout,Lr=Or.setRegistrationLogPass,Mr=Or.clearRegistrationData,Fr=function(e){var t,n=Wn(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,l=void 0===u||u,c=r.preloadedState,f=void 0===c?void 0:c,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!zn(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=wn(a)}var p=s;"function"===typeof p&&(p=p(n));var v=Sn.apply(void 0,p),y=En;l&&(y=Bn(jn({trace:!1},"object"===typeof l&&l)));var m=[v];return Array.isArray(d)?m=Pn([v],d):"function"===typeof d&&(m=d(m)),bn(t,f,y.apply(void 0,m))}({reducer:{userSlice:lr,registrationSlice:Rr.reducer}}),jr=function(){return Pr()},Ur="ExitButton_container__pVS4D",Vr="ExitButton_exitButton__ix-q+",Br=function(){var e=jr();return(0,rt.jsx)("div",{className:Ur,children:(0,rt.jsx)(et,{to:"/authentication",children:(0,rt.jsx)("div",{onClick:function(){e(ur()),e(Mr())},title:"Logout",className:Vr,children:(0,rt.jsxs)("svg",{width:"15",height:"15",viewBox:"0 0 27 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,rt.jsx)("path",{d:"M16 6.45454V1.75C16 1.33579 15.6642 1 15.25 1H1.75C1.33579 1 1 1.33579 1 1.75V24.25C1 24.6642 1.33579 25 1.75 25H15.25C15.6642 25 16 24.6642 16 24.25V19.5454",stroke:"#FFF6F6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M10 13H26M26 13L21.6369 8M26 13L21.6364 18",stroke:"#FFF6F6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})})})},zr=function(){var e=E((0,t.useState)(""),2),n=e[0],r=e[1];jr();return(0,rt.jsxs)("div",{className:He,children:[(0,rt.jsx)(it,{pagesArr:["Profile","Programmers","Tasks","Chat"],clearInput:function(){r("")}}),(0,rt.jsx)(ct,{searchInput:n,setSearchInput:r}),(0,rt.jsx)(Br,{})]})},qr="MenuLayout_container__ep1Og",Hr="MenuLayout_content__N2R2c",Wr=function(){return(0,rt.jsxs)("div",{className:qr,children:[(0,rt.jsx)(zr,{}),(0,rt.jsx)("div",{className:Hr,children:(0,rt.jsx)(je,{})})]})},Kr="Profile_container__RtR86",Gr="Profile_contentTop__coFyv",Qr="Profile_photo__ljUKr",$r="Profile_cardProfile__w-gj3";function Yr(){Yr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var y={};u(y,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==t&&n.call(g,a)&&(y=g);var _=v.prototype=d.prototype=Object.create(y);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var u=c(e[r],e,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==f(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v,r(_,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},k(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function Xr(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(O_){return void n(O_)}s.done?t(u):Promise.resolve(u).then(r,i)}function Jr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Xr(a,r,i,o,s,"next",e)}function s(e){Xr(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Zr={container:"CardHuman_container__4bFbV",photo:"CardHuman_photo__B+1Ce",noPhoto:"CardHuman_noPhoto__bULXq",about:"CardHuman_about__JJyWz",level:"CardHuman_level__NIvNB"},ei="BorderCardHuman_border__wHCxp",ti=function(e){return e[0].toUpperCase()+e.slice(1)},ni={container:"OpenedCardHuman_container__dJHcm",overlay:"OpenedCardHuman_overlay__ja8xf",window:"OpenedCardHuman_window__IDTkU",topWindow:"OpenedCardHuman_topWindow__08xKg",photo:"OpenedCardHuman_photo__LfBM+",noPhoto:"OpenedCardHuman_noPhoto__V8ToY",about:"OpenedCardHuman_about__F8OsT",level:"OpenedCardHuman_level__eFIwz"},ri="DeleteHumanButton_container__V1Vg7";function ii(){return ii="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ii.apply(this,arguments)}var ai=!1,oi=!1,si="${JSCORE_VERSION}",ui=function(e,t){if(!e)throw li(t)},li=function(e){return new Error("Firebase Database ("+si+") INTERNAL ASSERT FAILED: "+e)},ci=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},fi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ci(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new hi;var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},hi=function(e){y(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return p(n)}(x(Error)),di=function(e){var t=ci(e);return fi.encodeByteArray(t,!0)},pi=function(e){return di(e).replace(/\./g,"")},vi=function(e){try{return fi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yi(e){return mi(void 0,e)}function mi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=mi(e[n],t[n]));return e}var gi=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},_i=function(){try{return gi()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/humans-base",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDQ5ORJnTxV5XhhzAtjZNGM_boRZ59lqLc",REACT_APP_FIREBASE_AUTH_DOMAIN:"human-base.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"human-base",REACT_APP_FIREBASE_STORAGE_BUCKET:"human-base.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"754877585259",REACT_APP_FIREBASE_APP_ID:"1:754877585259:web:c4265c5f14ff82f84bde2e"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&vi(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ki=function(e){var t=function(e){var t,n;return null===(n=null===(t=_i())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},bi=function(){var e;return null===(e=_i())||void 0===e?void 0:e.config},wi=function(){function e(){var t=this;c(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return p(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ei(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[pi(JSON.stringify({alg:"none",type:"JWT"})),pi(JSON.stringify(a)),""].join(".")}function Si(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function xi(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Si())}function Ci(){var e,t=null===(e=_i())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Ti(){return!0===ai||!0===oi}function Ii(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Ni=function(e){y(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(_(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_(a),Pi.prototype.create),a}return p(n)}(x(Error)),Pi=function(){function e(t,n,r){c(this,e),this.service=t,this.serviceName=n,this.errors=r}return p(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ai,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ni(n,a,t)}}]),e}();var Ai=/\{\$([^}]+)}/g;function Ri(e){return JSON.parse(e)}function Oi(e){return JSON.stringify(e)}var Di=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Ri(vi(a[0])||""),n=Ri(vi(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Li(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Mi(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Fi(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ji(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ui(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Vi(s)&&Vi(u)){if(!Ui(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function Vi(e){return null!==e&&"object"===typeof e}var Bi=function(){function e(){c(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return p(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^c&(f^h),u=1518500249):(s=c^f^h,u=1859775393):p<60?(s=c&f|h&(c|f),u=2400959708):(s=c^f^h,u=3395469782);var v=(l<<5|l>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function zi(e,t){return"".concat(e," failed: ").concat(t," argument ")}var qi=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Hi(e){return e&&e._delegate?e._delegate:e}var Wi=function(){function e(t,n,r){c(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return p(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ki="[DEFAULT]",Gi=function(){function e(t,n){c(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return p(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new wi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ki})}catch(u){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=E(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Jr(Yr().mark((function e(){var t;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(l(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),l(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=C(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=E(i.value,2),u=s[0],l=s[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(a)}}catch(c){o.e(c)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ki?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ki;return this.component?this.component.multipleInstances?e:Ki:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Qi,$i,Yi=function(){function e(t){c(this,e),this.name=t,this.providers=new Map}return p(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Gi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Xi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}($i||($i={}));var Ji={debug:$i.DEBUG,verbose:$i.VERBOSE,info:$i.INFO,warn:$i.WARN,error:$i.ERROR,silent:$i.SILENT},Zi=$i.INFO,ea=(dn(Qi={},$i.DEBUG,"log"),dn(Qi,$i.VERBOSE,"log"),dn(Qi,$i.INFO,"info"),dn(Qi,$i.WARN,"warn"),dn(Qi,$i.ERROR,"error"),Qi),ta=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ea[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},na=function(){function e(t){c(this,e),this.name=t,this._logLevel=Zi,this._logHandler=ta,this._userLogHandler=null,Xi.push(this)}return p(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in $i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ji[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$i.DEBUG].concat(t)),this._logHandler.apply(this,[this,$i.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$i.VERBOSE].concat(t)),this._logHandler.apply(this,[this,$i.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$i.INFO].concat(t)),this._logHandler.apply(this,[this,$i.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$i.WARN].concat(t)),this._logHandler.apply(this,[this,$i.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$i.ERROR].concat(t)),this._logHandler.apply(this,[this,$i.ERROR].concat(t))}}]),e}();var ra,ia,aa=function(e,t){return t.some((function(t){return e instanceof t}))};var oa=new WeakMap,sa=new WeakMap,ua=new WeakMap,la=new WeakMap,ca=new WeakMap;var fa={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return sa.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ua.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pa(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ha(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ia||(ia=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(va(this),n),pa(oa.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pa(e.apply(va(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[va(this),t].concat(r));return ua.set(a,t.sort?t.sort():[t]),pa(a)}}function da(e){return"function"===typeof e?ha(e):(e instanceof IDBTransaction&&function(e){if(!sa.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));sa.set(e,t)}}(e),aa(e,ra||(ra=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,fa):e)}function pa(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(pa(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&oa.set(t,e)})).catch((function(){})),ca.set(t,e),t}(e);if(la.has(e))return la.get(e);var t=da(e);return t!==e&&(la.set(e,t),ca.set(t,e)),t}var va=function(e){return ca.get(e)};var ya,ma,ga=["get","getKey","getAll","getAllKeys","count"],_a=["put","add","delete","clear"],ka=new Map;function ba(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(ka.get(t))return ka.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=_a.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ga.includes(n))){var a=function(){var e=Jr(Yr().mark((function e(t){var a,o,s,u,l,c,f=arguments;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=f[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return ka.set(t,a),a}}}fa=function(e){return vn(vn({},e),{},{get:function(t,n,r){return ba(t,n)||e.get(t,n,r)},has:function(t,n){return!!ba(t,n)||e.has(t,n)}})}(fa);var wa=function(){function e(t){c(this,e),this.container=t}return p(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ea="@firebase/app",Sa="0.9.9",xa=new na("@firebase/app"),Ca="[DEFAULT]",Ta=(dn(ya={},Ea,"fire-core"),dn(ya,"@firebase/app-compat","fire-core-compat"),dn(ya,"@firebase/analytics","fire-analytics"),dn(ya,"@firebase/analytics-compat","fire-analytics-compat"),dn(ya,"@firebase/app-check","fire-app-check"),dn(ya,"@firebase/app-check-compat","fire-app-check-compat"),dn(ya,"@firebase/auth","fire-auth"),dn(ya,"@firebase/auth-compat","fire-auth-compat"),dn(ya,"@firebase/database","fire-rtdb"),dn(ya,"@firebase/database-compat","fire-rtdb-compat"),dn(ya,"@firebase/functions","fire-fn"),dn(ya,"@firebase/functions-compat","fire-fn-compat"),dn(ya,"@firebase/installations","fire-iid"),dn(ya,"@firebase/installations-compat","fire-iid-compat"),dn(ya,"@firebase/messaging","fire-fcm"),dn(ya,"@firebase/messaging-compat","fire-fcm-compat"),dn(ya,"@firebase/performance","fire-perf"),dn(ya,"@firebase/performance-compat","fire-perf-compat"),dn(ya,"@firebase/remote-config","fire-rc"),dn(ya,"@firebase/remote-config-compat","fire-rc-compat"),dn(ya,"@firebase/storage","fire-gcs"),dn(ya,"@firebase/storage-compat","fire-gcs-compat"),dn(ya,"@firebase/firestore","fire-fst"),dn(ya,"@firebase/firestore-compat","fire-fst-compat"),dn(ya,"fire-js","fire-js"),dn(ya,"firebase","fire-js-all"),ya),Ia=new Map,Na=new Map;function Pa(e,t){try{e.container.addComponent(t)}catch(n){xa.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Aa(e){var t=e.name;if(Na.has(t))return xa.debug("There were multiple attempts to register component ".concat(t,".")),!1;Na.set(t,e);var n,r=C(Ia.values());try{for(r.s();!(n=r.n()).done;){Pa(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ra(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Oa=(dn(ma={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),dn(ma,"bad-app-name","Illegal App name: '{$appName}"),dn(ma,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),dn(ma,"app-deleted","Firebase App named '{$appName}' already deleted"),dn(ma,"no-options","Need to provide options, when not being deployed to hosting via source."),dn(ma,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),dn(ma,"invalid-log-argument","First argument to `onLog` must be null or a function."),dn(ma,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),dn(ma,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),dn(ma,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),dn(ma,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ma),Da=new Pi("app","Firebase",Oa),La=function(){function e(t,n,r){var i=this;c(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wi("app",(function(){return i}),"PUBLIC"))}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}]),e}(),Ma="9.21.0";function Fa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Ca,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Da.create("bad-app-name",{appName:String(i)});if(n||(n=bi()),!n)throw Da.create("no-options");var a=Ia.get(i);if(a){if(Ui(n,a.options)&&Ui(r,a.config))return a;throw Da.create("duplicate-app",{appName:i})}var o,s=new Yi(i),u=C(Na.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s.addComponent(l)}}catch(f){u.e(f)}finally{u.f()}var c=new La(n,r,s);return Ia.set(i,c),c}function ja(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ca,t=Ia.get(e);if(!t&&e===Ca)return Fa();if(!t)throw Da.create("no-app",{appName:e});return t}function Ua(e,t,n){var r,i=null!==(r=Ta[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void xa.warn(s.join(" "))}Aa(new Wi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Va="firebase-heartbeat-database",Ba=1,za="firebase-heartbeat-store",qa=null;function Ha(){return qa||(qa=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=pa(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(pa(s.result),e.oldVersion,e.newVersion,pa(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(Va,Ba,{upgrade:function(e,t){if(0===t)e.createObjectStore(za)}}).catch((function(e){throw Da.create("idb-open",{originalErrorMessage:e.message})}))),qa}function Wa(e){return Ka.apply(this,arguments)}function Ka(){return Ka=Jr(Yr().mark((function e(t){var n,r;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ha();case 3:return n=e.sent,e.abrupt("return",n.transaction(za).objectStore(za).get($a(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Ni?xa.warn(e.t0.message):(r=Da.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),xa.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ka.apply(this,arguments)}function Ga(e,t){return Qa.apply(this,arguments)}function Qa(){return Qa=Jr(Yr().mark((function e(t,n){var r,i,a,o;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ha();case 3:return r=e.sent,i=r.transaction(za,"readwrite"),a=i.objectStore(za),e.next=8,a.put(n,$a(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Ni?xa.warn(e.t0.message):(o=Da.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),xa.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Qa.apply(this,arguments)}function $a(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ya=function(){function e(t){var n=this;c(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new eo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return p(e,[{key:"triggerHeartbeat",value:function(){var e=Jr(Yr().mark((function e(){var t,n,r;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Xa(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Jr(Yr().mark((function e(){var t,n,r,i,a;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Xa(),n=Ja(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=pi(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xa(){return(new Date).toISOString().substring(0,10)}function Ja(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),to(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),to(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Za,eo=function(){function e(t){c(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return p(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Jr(Yr().mark((function e(){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ii()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(O_){t(O_)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Jr(Yr().mark((function e(){var t;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Wa(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Jr(Yr().mark((function e(t){var n,r;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ga(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Jr(Yr().mark((function e(t){var n,r;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ga(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(l(r.heartbeats),l(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function to(e){return pi(JSON.stringify({version:2,heartbeats:e})).length}Za="",Aa(new Wi("platform-logger",(function(e){return new wa(e)}),"PRIVATE")),Aa(new Wi("heartbeat",(function(e){return new Ya(e)}),"PRIVATE")),Ua(Ea,Sa,Za),Ua(Ea,Sa,"esm2017"),Ua("fire-js","");var no,ro="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},io={},ao=ao||{},oo=ro||self;function so(){}function uo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function lo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var co="closure_uid_"+(1e9*Math.random()>>>0),fo=0;function ho(e,t,n){return e.call.apply(e.bind,arguments)}function po(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function vo(e,t,n){return(vo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ho:po).apply(null,arguments)}function yo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function mo(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function go(){this.s=this.s,this.o=this.o}go.prototype.s=!1,go.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,co)&&e[co]||(e[co]=++fo)}(this)},go.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _o=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ko(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function bo(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(uo(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function wo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}wo.prototype.h=function(){this.defaultPrevented=!0};var Eo=function(){if(!oo.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{oo.addEventListener("test",so,t),oo.removeEventListener("test",so,t)}catch(_t){}return e}();function So(e){return/^[\s\xa0]*$/.test(e)}var xo=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Co(e,t){return e<t?-1:e>t?1:0}function To(){var e=oo.navigator;return e&&(e=e.userAgent)?e:""}function Io(e){return-1!=To().indexOf(e)}function No(e){return No[" "](e),e}function Po(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}No[" "]=so;var Ao,Ro=Io("Opera"),Oo=Io("Trident")||Io("MSIE"),Do=Io("Edge"),Lo=Do||Oo,Mo=Io("Gecko")&&!(-1!=To().toLowerCase().indexOf("webkit")&&!Io("Edge"))&&!(Io("Trident")||Io("MSIE"))&&!Io("Edge"),Fo=-1!=To().toLowerCase().indexOf("webkit")&&!Io("Edge");function jo(){var e=oo.document;return e?e.documentMode:void 0}e:{var Uo="",Vo=function(){var e=To();return Mo?/rv:([^\);]+)(\)|;)/.exec(e):Do?/Edge\/([\d\.]+)/.exec(e):Oo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Fo?/WebKit\/(\S+)/.exec(e):Ro?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Vo&&(Uo=Vo?Vo[1]:""),Oo){var Bo=jo();if(null!=Bo&&Bo>parseFloat(Uo)){Ao=String(Bo);break e}}Ao=Uo}var zo,qo={};if(oo.document&&Oo){var Ho=jo();zo=Ho||(parseInt(Ao,10)||void 0)}else zo=void 0;var Wo=zo;function Ko(e,t){if(wo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Mo){e:{try{No(t.nodeName);var i=!0;break e}catch(gt){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Go[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ko.$.h.call(this)}}mo(Ko,wo);var Go={2:"touch",3:"pen",4:"mouse"};Ko.prototype.h=function(){Ko.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qo="closure_listenable_"+(1e6*Math.random()|0),$o=0;function Yo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++$o,this.fa=this.ia=!1}function Xo(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Jo(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Zo(e){var t={};for(var n in e)t[n]=e[n];return t}var es="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ts(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<es.length;a++)n=es[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ns(e){this.src=e,this.g={},this.h=0}function rs(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=_o(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Xo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function is(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}ns.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=is(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Yo(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var as="closure_lm_"+(1e6*Math.random()|0),os={};function ss(e,t,n,r,i){if(r&&r.once)return ls(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ss(e,t[a],n,r,i);return null}return n=ys(n),e&&e[Qo]?e.O(t,n,lo(r)?!!r.capture:!!r,i):us(e,t,n,!1,r,i)}function us(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=lo(i)?!!i.capture:!!i,s=ps(e);if(s||(e[as]=s=new ns(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ds;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Eo||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(hs(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ls(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ls(e,t[a],n,r,i);return null}return n=ys(n),e&&e[Qo]?e.P(t,n,lo(r)?!!r.capture:!!r,i):us(e,t,n,!0,r,i)}function cs(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)cs(e,t[a],n,r,i);else r=lo(r)?!!r.capture:!!r,n=ys(n),e&&e[Qo]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=is(a=e.g[t],n,r,i))&&(Xo(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ps(e))&&(t=e.g[t.toString()],e=-1,t&&(e=is(t,n,r,i)),(n=-1<e?t[e]:null)&&fs(n))}function fs(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Qo])rs(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(hs(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ps(t))?(rs(n,e),0==n.h&&(n.src=null,t[as]=null)):Xo(e)}}}function hs(e){return e in os?os[e]:os[e]="on"+e}function ds(e,t){if(e.fa)e=!0;else{t=new Ko(t,this);var n=e.listener,r=e.la||e.src;e.ia&&fs(e),e=n.call(r,t)}return e}function ps(e){return(e=e[as])instanceof ns?e:null}var vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ys(e){return"function"===typeof e?e:(e[vs]||(e[vs]=function(t){return e.handleEvent(t)}),e[vs])}function ms(){go.call(this),this.i=new ns(this),this.S=this,this.J=null}function gs(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new wo(t,e);else if(t instanceof wo)t.target=t.target||e;else{var i=t;ts(t=new wo(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=_s(o,r,!0,t)&&i}if(i=_s(o=t.g=e,r,!0,t)&&i,i=_s(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=_s(o=t.g=n[a],r,!1,t)&&i}function _s(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&rs(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}mo(ms,go),ms.prototype[Qo]=!0,ms.prototype.removeEventListener=function(e,t,n,r){cs(this,e,t,n,r)},ms.prototype.N=function(){if(ms.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Xo(n[r]);delete t.g[e],t.h--}}this.J=null},ms.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ms.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ks=oo.JSON.stringify;function bs(){var e=Ns,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ws,Es=function(){function e(){c(this,e),this.h=this.g=null}return p(e,[{key:"add",value:function(e,t){var n=Ss.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Ss=new(function(){function e(t,n){c(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return p(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new xs}),(function(e){return e.reset()})),xs=function(){function e(){c(this,e),this.next=this.g=this.h=null}return p(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Cs(e){oo.setTimeout((function(){throw e}),0)}function Ts(e,t){ws||function(){var e=oo.Promise.resolve(void 0);ws=function(){e.then(Ps)}}(),Is||(ws(),Is=!0),Ns.add(e,t)}var Is=!1,Ns=new Es;function Ps(){for(var e;e=bs();){try{e.h.call(e.g)}catch(_t){Cs(_t)}var t=Ss;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Is=!1}function As(e,t){ms.call(this),this.h=e||1,this.g=t||oo,this.j=vo(this.qb,this),this.l=Date.now()}function Rs(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Os(e,t,n){if("function"===typeof e)n&&(e=vo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=vo(e.handleEvent,e)}return 2147483647<Number(t)?-1:oo.setTimeout(e,t||0)}function Ds(e){e.g=Os((function(){e.g=null,e.i&&(e.i=!1,Ds(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}mo(As,ms),(no=As.prototype).ga=!1,no.T=null,no.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gs(this,"tick"),this.ga&&(Rs(this),this.start()))}},no.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},no.N=function(){As.$.N.call(this),Rs(this),delete this.g};var Ls=function(e){y(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return p(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ds(this)}},{key:"N",value:function(){ii(m(n.prototype),"N",this).call(this),this.g&&(oo.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(go);function Ms(e){go.call(this),this.h=e,this.g={}}mo(Ms,go);var Fs=[];function js(e,t,n,r){Array.isArray(n)||(n&&(Fs[0]=n.toString()),n=Fs);for(var i=0;i<n.length;i++){var a=ss(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Us(e){Jo(e.g,(function(e,t){this.g.hasOwnProperty(t)&&fs(e)}),e),e.g={}}function Vs(){this.g=!0}function Bs(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return ks(n)}catch(It){return t}}(e,n)+(r?" "+r:"")}))}Ms.prototype.N=function(){Ms.$.N.call(this),Us(this)},Ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Vs.prototype.Ea=function(){this.g=!1},Vs.prototype.info=function(){};var zs={},qs=null;function Hs(){return qs=qs||new ms}function Ws(e){wo.call(this,zs.Ta,e)}function Ks(e){var t=Hs();gs(t,new Ws(t))}function Gs(e,t){wo.call(this,zs.STAT_EVENT,e),this.stat=t}function Qs(e){var t=Hs();gs(t,new Gs(t,e))}function $s(e,t){wo.call(this,zs.Ua,e),this.size=t}function Ys(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return oo.setTimeout((function(){e()}),t)}zs.Ta="serverreachability",mo(Ws,wo),zs.STAT_EVENT="statevent",mo(Gs,wo),zs.Ua="timingevent",mo($s,wo);var Xs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Js={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zs(){}function eu(e){return e.h||(e.h=e.i())}function tu(){}Zs.prototype.h=null;var nu,ru={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function iu(){wo.call(this,"d")}function au(){wo.call(this,"c")}function ou(){}function su(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Ms(this),this.P=lu,e=Lo?125:void 0,this.V=new As(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new uu}function uu(){this.i=null,this.g="",this.h=!1}mo(iu,wo),mo(au,wo),mo(ou,Zs),ou.prototype.g=function(){return new XMLHttpRequest},ou.prototype.i=function(){return{}},nu=new ou;var lu=45e3,cu={},fu={};function hu(e,t,n){e.L=1,e.v=Au(Cu(t)),e.s=n,e.S=!0,du(e,null)}function du(e,t){e.G=Date.now(),mu(e),e.A=Cu(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Hu(n.i,"t",r),e.C=0,n=e.l.I,e.h=new uu,e.g=Hl(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ls(vo(e.Pa,e,e.g),e.O)),js(e.U,e.g,"readystatechange",e.nb),t=e.I?Zo(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ks(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function pu(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function vu(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=yu(e,n))==fu){4==t&&(e.o=4,Qs(14),i=!1),Bs(e.j,e.m,null,"[Incomplete Response]");break}if(r==cu){e.o=4,Qs(15),Bs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Bs(e.j,e.m,r,null),wu(e,r)}pu(e)&&r!=fu&&r!=cu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Qs(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ml(t),t.L=!0,Qs(11))):(Bs(e.j,e.m,n,"[Invalid Chunked Response]"),bu(e),ku(e))}function yu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?fu:(n=Number(t.substring(n,r)),isNaN(n)?cu:(r+=1)+n>t.length?fu:(t=t.substr(r,n),e.C=r+n,t))}function mu(e){e.Y=Date.now()+e.P,gu(e,e.P)}function gu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ys(vo(e.lb,e),t)}function _u(e){e.B&&(oo.clearTimeout(e.B),e.B=null)}function ku(e){0==e.l.H||e.J||Ul(e.l,e)}function bu(e){_u(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,Rs(e.V),Us(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function wu(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Xu(n.h,e)))if(!e.K&&Xu(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;jl(n),Il(n)}Ll(n),Qs(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=Ys(vo(n.ib,n),6e3));if(1>=Yu(n.h)&&n.na){try{n.na()}catch(a){}n.na=void 0}}else Bl(n,11)}else if((e.K||n.g==e)&&jl(n),!So(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.J=a[1],n.oa=a[2];var o=a[3];null!=o&&(n.qa=o,n.j.info("VER="+n.qa));var s=a[4];null!=s&&(n.Ga=s,n.j.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.h;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ju(f,f.h),f.h=null))}if(r.F){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Pu(r.G,r.F,h))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=ql(r,r.I?r.oa:null,r.Y),d.K){Zu(r.h,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(_u(p),mu(p)),r.g=d}else Dl(r);0<n.i.length&&Pl(n)}else"stop"!=a[0]&&"close"!=a[0]||Bl(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Bl(n,7):Tl(n):"noop"!=a[0]&&n.l&&n.l.Aa(a),n.A=0)}Ks()}catch(a){}}function Eu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(uo(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(uo(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(uo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(no=su.prototype).setTimeout=function(e){this.P=e},no.nb=function(e){e=e.target;var t=this.M;t&&3==bl(e)?t.l():this.Pa(e)},no.Pa=function(e){try{if(e==this.g)e:{var t=bl(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Lo||this.g&&(this.h.h||this.g.ja()||wl(this.g)))){this.J||4!=t||7==n||Ks(),_u(this);var r=this.g.da();this.aa=r;t:if(pu(this)){var i=wl(this.g);e="";var a=i.length,o=4==bl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){bu(this),ku(this);var s="";break t}this.h.i=new oo.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!So(u)){var c=u;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,Qs(12),bu(this),ku(this);break e}Bs(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wu(this,r)}this.S?(vu(this,t,s),Lo&&this.i&&3==t&&(js(this.U,this.V,"tick",this.mb),this.V.start())):(Bs(this.j,this.m,s,null),wu(this,s)),4==t&&bu(this),this.i&&!this.J&&(4==t?Ul(this.l,this):(this.i=!1,mu(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Qs(12)):(this.o=0,Qs(13)),bu(this),ku(this)}}}catch(t){}},no.mb=function(){if(this.g){var e=bl(this.g),t=this.g.ja();this.C<t.length&&(_u(this),vu(this,e,t),this.i&&4!=e&&mu(this))}},no.cancel=function(){this.J=!0,bu(this)},no.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Ks(),Qs(17)),bu(this),this.o=2,ku(this)):gu(this,this.Y-e)};var Su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xu(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof xu){this.h=void 0!==t?t:e.h,Tu(this,e.j),this.s=e.s,this.g=e.g,Iu(this,e.m),this.l=e.l,t=e.i;var n=new Vu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Nu(this,n),this.o=e.o}else e&&(n=String(e).match(Su))?(this.h=!!t,Tu(this,n[1]||"",!0),this.s=Ru(n[2]||""),this.g=Ru(n[3]||"",!0),Iu(this,n[4]),this.l=Ru(n[5]||"",!0),Nu(this,n[6]||"",!0),this.o=Ru(n[7]||"")):(this.h=!!t,this.i=new Vu(null,this.h))}function Cu(e){return new xu(e)}function Tu(e,t,n){e.j=n?Ru(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Iu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Nu(e,t,n){t instanceof Vu?(e.i=t,function(e,t){t&&!e.j&&(Bu(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(zu(this,t),Hu(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ou(t,ju)),e.i=new Vu(t,e.h))}function Pu(e,t,n){e.i.set(t,n)}function Au(e){return Pu(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ru(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ou(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Du),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Du(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}xu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ou(t,Lu,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ou(t,Lu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ou(n,"/"==n.charAt(0)?Fu:Mu,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ou(n,Uu)),e.join("")};var Lu=/[#\/\?@]/g,Mu=/[#\?:]/g,Fu=/[#\?]/g,ju=/[#\?@]/g,Uu=/#/g;function Vu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Bu(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function zu(e,t){Bu(e),t=Wu(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function qu(e,t){return Bu(e),t=Wu(e,t),e.g.has(t)}function Hu(e,t,n){zu(e,t),0<n.length&&(e.i=null,e.g.set(Wu(e,t),ko(n)),e.h+=n.length)}function Wu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(no=Vu.prototype).add=function(e,t){Bu(this),this.i=null,e=Wu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},no.forEach=function(e,t){Bu(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},no.sa=function(){Bu(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},no.Z=function(e){Bu(this);var t=[];if("string"===typeof e)qu(this,e)&&(t=t.concat(this.g.get(Wu(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},no.set=function(e,t){return Bu(this),this.i=null,qu(this,e=Wu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},no.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},no.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Ku=p((function e(t,n){c(this,e),this.h=t,this.g=n}));function Gu(e){this.l=e||Qu,oo.PerformanceNavigationTiming?e=0<(e=oo.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(oo.g&&oo.g.Ka&&oo.g.Ka()&&oo.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Qu=10;function $u(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Yu(e){return e.h?1:e.g?e.g.size:0}function Xu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ju(e,t){e.g?e.g.add(t):e.h=t}function Zu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function el(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return ko(e.i)}function tl(){}function nl(){this.g=new tl}function rl(e,t,n){var r=n||"";try{Eu(e,(function(e,n){var i=e;lo(e)&&(i=ks(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function il(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(gt){}}function al(e){this.l=e.fc||null,this.j=e.ob||!1}function ol(e,t){ms.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=sl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gu.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},tl.prototype.stringify=function(e){return oo.JSON.stringify(e,void 0)},tl.prototype.parse=function(e){return oo.JSON.parse(e,void 0)},mo(al,Zs),al.prototype.g=function(){return new ol(this.l,this.j)},al.prototype.i=function(e){return function(){return e}}({}),mo(ol,ms);var sl=0;function ul(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ll(e){e.readyState=4,e.l=null,e.j=null,e.A=null,cl(e)}function cl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(no=ol.prototype).open=function(e,t){if(this.readyState!=sl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,cl(this)},no.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||oo).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},no.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ll(this)),this.readyState=sl},no.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,cl(this)),this.g&&(this.readyState=3,cl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof oo.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ul(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},no.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ll(this):cl(this),3==this.readyState&&ul(this)}},no.Za=function(e){this.g&&(this.response=this.responseText=e,ll(this))},no.Ya=function(e){this.g&&(this.response=e,ll(this))},no.ka=function(){this.g&&ll(this)},no.setRequestHeader=function(e,t){this.v.append(e,t)},no.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},no.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ol.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var fl=oo.JSON.parse;function hl(e){ms.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dl,this.L=this.M=!1}mo(hl,ms);var dl="",pl=/^https?$/i,vl=["POST","PUT"];function yl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ml(e),_l(e)}function ml(e){e.F||(e.F=!0,gs(e,"complete"),gs(e,"error"))}function gl(e){if(e.h&&"undefined"!=typeof ao&&(!e.C[1]||4!=bl(e)||2!=e.da()))if(e.v&&4==bl(e))Os(e.La,0,e);else if(gs(e,"readystatechange"),4==bl(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Su)[1]||null;if(!a&&oo.self&&oo.self.location){var o=oo.self.location.protocol;a=o.substr(0,o.length-1)}i=!pl.test(a?a.toLowerCase():"")}t=i}if(t)gs(e,"complete"),gs(e,"success");else{e.m=6;try{var s=2<bl(e)?e.g.statusText:""}catch(dt){s=""}e.j=s+" ["+e.da()+"]",ml(e)}}finally{_l(e)}}}function _l(e,t){if(e.g){kl(e);var n=e.g,r=e.C[0]?so:null;e.g=null,e.C=null,t||gs(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function kl(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(oo.clearTimeout(e.A),e.A=null)}function bl(e){return e.g?e.g.readyState:0}function wl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case dl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Tt){return null}}function El(e){var t="";return Jo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Sl(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=El(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Pu(e,t,n))}function xl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cl(e){this.Ga=0,this.i=[],this.j=new Vs,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xl("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xl("baseRetryDelayMs",5e3,e),this.hb=xl("retryDelaySeedMs",1e4,e),this.eb=xl("forwardChannelMaxRetries",2,e),this.xa=xl("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new Gu(e&&e.concurrentRequestLimit),this.Ja=new nl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Tl(e){if(Nl(e),3==e.H){var t=e.W++,n=Cu(e.G);Pu(n,"SID",e.J),Pu(n,"RID",t),Pu(n,"TYPE","terminate"),Rl(e,n),(t=new su(e,e.j,t,void 0)).L=2,t.v=Au(Cu(n)),n=!1,oo.navigator&&oo.navigator.sendBeacon&&(n=oo.navigator.sendBeacon(t.v.toString(),"")),!n&&oo.Image&&((new Image).src=t.v,n=!0),n||(t.g=Hl(t.l,null),t.g.ha(t.v)),t.G=Date.now(),mu(t)}zl(e)}function Il(e){e.g&&(Ml(e),e.g.cancel(),e.g=null)}function Nl(e){Il(e),e.u&&(oo.clearTimeout(e.u),e.u=null),jl(e),e.h.cancel(),e.m&&("number"===typeof e.m&&oo.clearTimeout(e.m),e.m=null)}function Pl(e){$u(e.h)||e.m||(e.m=!0,Ts(e.Na,e),e.C=0)}function Al(e,t){var n;n=t?t.m:e.W++;var r=Cu(e.G);Pu(r,"SID",e.J),Pu(r,"RID",n),Pu(r,"AID",e.V),Rl(e,r),e.o&&e.s&&Sl(r,e.o,e.s),n=new su(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=Ol(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ju(e.h,n),hu(n,r,t)}function Rl(e,t){e.ma&&Jo(e.ma,(function(e,n){Pu(t,n,e)})),e.l&&Eu({},(function(e,n){Pu(t,n,e)}))}function Ol(e,t,n){n=Math.min(e.i.length,n);var r=e.l?vo(e.l.Va,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{rl(c,o,"req"+l+"_")}catch(en){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.F=e,r}function Dl(e){e.g||e.u||(e.ba=1,Ts(e.Ma,e),e.A=0)}function Ll(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ys(vo(e.Ma,e),Vl(e,e.A)),e.A++,!0)}function Ml(e){null!=e.B&&(oo.clearTimeout(e.B),e.B=null)}function Fl(e){e.g=new su(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Cu(e.wa);Pu(t,"RID","rpc"),Pu(t,"SID",e.J),Pu(t,"CI",e.M?"0":"1"),Pu(t,"AID",e.V),Pu(t,"TYPE","xmlhttp"),Rl(e,t),e.o&&e.s&&Sl(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=Au(Cu(t)),n.s=null,n.S=!0,du(n,e)}function jl(e){null!=e.v&&(oo.clearTimeout(e.v),e.v=null)}function Ul(e,t){var n=null;if(e.g==t){jl(e),Ml(e),e.g=null;var r=2}else{if(!Xu(e.h,t))return;n=t.F,Zu(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;gs(r=Hs(),new $s(r,n)),Pl(e)}else Dl(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!(Yu(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ys(vo(e.Na,e,t),Vl(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ll(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Bl(e,5);break;case 4:Bl(e,10);break;case 3:Bl(e,6);break;default:Bl(e,2)}}function Vl(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function Bl(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=vo(e.pb,e);n||(n=new xu("//www.google.com/images/cleardot.gif"),oo.location&&"http"==oo.location.protocol||Tu(n,"https"),Au(n)),function(e,t){var n=new Vs;if(oo.Image){var r=new Image;r.onload=yo(il,n,r,"TestLoadImage: loaded",!0,t),r.onerror=yo(il,n,r,"TestLoadImage: error",!1,t),r.onabort=yo(il,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=yo(il,n,r,"TestLoadImage: timeout",!1,t),oo.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Qs(2);e.H=0,e.l&&e.l.za(t),zl(e),Nl(e)}function zl(e){if(e.H=0,e.pa=[],e.l){var t=el(e.h);0==t.length&&0==e.i.length||(bo(e.pa,t),bo(e.pa,e.i),e.h.i.length=0,ko(e.i),e.i.length=0),e.l.ya()}}function ql(e,t,n){var r=n instanceof xu?Cu(n):new xu(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Iu(r,r.m);else{var i=oo.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new xu(null,void 0);r&&Tu(a,r),t&&(a.g=t),i&&Iu(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Pu(r,n,t),Pu(r,"VER",e.qa),Rl(e,r),r}function Hl(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new hl(new al({ob:!0})):new hl(e.va)).Oa(e.I),t}function Wl(){}function Kl(){if(Oo&&!(10<=Number(Wo)))throw Error("Environmental error: no available transport.")}function Gl(e,t){ms.call(this),this.g=new Cl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!So(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!So(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Yl(this)}function Ql(e){iu.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function $l(){au.call(this),this.status=1}function Yl(e){this.g=e}function Xl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Jl(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Zl(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(no=hl.prototype).Oa=function(e){this.M=e},no.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():nu.g(),this.C=this.u?eu(this.u):eu(nu),this.g.onreadystatechange=vo(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void yl(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=C(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=oo.FormData&&e instanceof oo.FormData,!(0<=_o(vl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=C(n);try{for(l.s();!(u=l.n()).done;){var c=E(u.value,2),f=c[0],h=c[1];this.g.setRequestHeader(f,h)}}catch(d){l.e(d)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{kl(this),0<this.B&&((this.L=function(e){return Oo&&Po(qo,9,(function(){for(var e=0,t=xo(String(Ao)).split("."),n=xo("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Co(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Co(0==a[2].length,0==o[2].length)||Co(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vo(this.ua,this)):this.A=Os(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){yl(this,s)}},no.ua=function(){"undefined"!=typeof ao&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gs(this,"timeout"),this.abort(8))},no.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,gs(this,"complete"),gs(this,"abort"),_l(this))},no.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_l(this,!0)),hl.$.N.call(this)},no.La=function(){this.s||(this.G||this.v||this.l?gl(this):this.kb())},no.kb=function(){gl(this)},no.da=function(){try{return 2<bl(this)?this.g.status:-1}catch(mt){return-1}},no.ja=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},no.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fl(t)}},no.Ia=function(){return this.m},no.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(no=Cl.prototype).qa=8,no.H=1,no.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new su(this,this.j,e,void 0),n=this.s;if(this.U&&(n?ts(n=Zo(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ol(this,t,r),Pu(i=Cu(this.G),"RID",e),Pu(i,"CVER",22),this.F&&Pu(i,"X-HTTP-Session-Id",this.F),Rl(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(El(n)))+"&"+r:this.o&&Sl(i,this.o,n)),Ju(this.h,t),this.bb&&Pu(i,"TYPE","init"),this.P?(Pu(i,"$req",r),Pu(i,"SID","null"),t.ba=!0,hu(t,i,null)):hu(t,i,r),this.H=2}}else 3==this.H&&(e?Al(this,e):0==this.i.length||$u(this.h)||Al(this))},no.Ma=function(){if(this.u=null,Fl(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=Ys(vo(this.jb,this),e)}},no.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Qs(10),Il(this),Fl(this))},no.ib=function(){null!=this.v&&(this.v=null,Il(this),Ll(this),Qs(19))},no.pb=function(e){e?(this.j.info("Successfully pinged google.com"),Qs(2)):(this.j.info("Failed to ping google.com"),Qs(1))},(no=Wl.prototype).Ba=function(){},no.Aa=function(){},no.za=function(){},no.ya=function(){},no.Va=function(){},Kl.prototype.g=function(e,t){return new Gl(e,t)},mo(Gl,ms),Gl.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;Qs(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=ql(e,null,e.Y),Pl(e)},Gl.prototype.close=function(){Tl(this.g)},Gl.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ks(e),e=n);t.i.push(new Ku(t.fb++,e)),3==t.H&&Pl(t)},Gl.prototype.N=function(){this.g.l=null,delete this.j,Tl(this.g),delete this.g,Gl.$.N.call(this)},mo(Ql,iu),mo($l,au),mo(Yl,Wl),Yl.prototype.Ba=function(){gs(this.g,"a")},Yl.prototype.Aa=function(e){gs(this.g,new Ql(e))},Yl.prototype.za=function(e){gs(this.g,new $l)},Yl.prototype.ya=function(){gs(this.g,"b")},mo(Xl,(function(){this.blockSize=-1})),Xl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Xl.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Jl(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Jl(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Jl(this,r),i=0;break}}this.h=i,this.i+=t},Xl.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var ec={};function tc(e){return-128<=e&&128>e?Po(ec,e,(function(e){return new Zl([0|e],0>e?-1:0)})):new Zl([0|e],0>e?-1:0)}function nc(e){if(isNaN(e)||!isFinite(e))return ic;if(0>e)return lc(nc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=rc;return new Zl(t,0)}var rc=4294967296,ic=tc(0),ac=tc(1),oc=tc(16777216);function sc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function uc(e){return-1==e.h}function lc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Zl(n,~e.h).add(ac)}function cc(e,t){return e.add(lc(t))}function fc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function hc(e,t){this.g=e,this.h=t}function dc(e,t){if(sc(t))throw Error("division by zero");if(sc(e))return new hc(ic,ic);if(uc(e))return t=dc(lc(e),t),new hc(lc(t.g),lc(t.h));if(uc(t))return t=dc(e,lc(t)),new hc(lc(t.g),t.h);if(30<e.g.length){if(uc(e)||uc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ac,r=t;0>=r.X(e);)n=pc(n),r=pc(r);var i=vc(n,1),a=vc(r,1);for(r=vc(r,2),n=vc(n,2);!sc(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=vc(r,1),n=vc(n,1)}return t=cc(e,i.R(t)),new hc(i,t)}for(i=ic;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=nc(n)).R(t);uc(o)||0<o.X(e);)o=(a=nc(n-=r)).R(t);sc(a)&&(a=ac),i=i.add(a),e=cc(e,o)}return new hc(i,e)}function pc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Zl(n,e.h)}function vc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Zl(i,e.h)}(no=Zl.prototype).ea=function(){if(uc(this))return-lc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:rc+r)*t,t*=rc}return e},no.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(sc(this))return"0";if(uc(this))return"-"+lc(this).toString(e);for(var t=nc(Math.pow(e,6)),n=this,r="";;){var i=dc(n,t).g,a=((0<(n=cc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(sc(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},no.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},no.X=function(e){return uc(e=cc(this,e))?-1:sc(e)?0:1},no.abs=function(){return uc(this)?lc(this):this},no.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Zl(n,-2147483648&n[n.length-1]?-1:0)},no.R=function(e){if(sc(this)||sc(e))return ic;if(uc(this))return uc(e)?lc(this).R(lc(e)):lc(lc(this).R(e));if(uc(e))return lc(this.R(lc(e)));if(0>this.X(oc)&&0>e.X(oc))return nc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,fc(n,2*r+2*i),n[2*r+2*i+1]+=a*u,fc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,fc(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,fc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Zl(n,0)},no.gb=function(e){return dc(this,e).h},no.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Zl(n,this.h&e.h)},no.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Zl(n,this.h|e.h)},no.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Zl(n,this.h^e.h)},Kl.prototype.createWebChannel=Kl.prototype.g,Gl.prototype.send=Gl.prototype.u,Gl.prototype.open=Gl.prototype.m,Gl.prototype.close=Gl.prototype.close,Xs.NO_ERROR=0,Xs.TIMEOUT=8,Xs.HTTP_ERROR=6,Js.COMPLETE="complete",tu.EventType=ru,ru.OPEN="a",ru.CLOSE="b",ru.ERROR="c",ru.MESSAGE="d",ms.prototype.listen=ms.prototype.O,hl.prototype.listenOnce=hl.prototype.P,hl.prototype.getLastError=hl.prototype.Sa,hl.prototype.getLastErrorCode=hl.prototype.Ia,hl.prototype.getStatus=hl.prototype.da,hl.prototype.getResponseJson=hl.prototype.Wa,hl.prototype.getResponseText=hl.prototype.ja,hl.prototype.send=hl.prototype.ha,hl.prototype.setWithCredentials=hl.prototype.Oa,Xl.prototype.digest=Xl.prototype.l,Xl.prototype.reset=Xl.prototype.reset,Xl.prototype.update=Xl.prototype.j,Zl.prototype.add=Zl.prototype.add,Zl.prototype.multiply=Zl.prototype.R,Zl.prototype.modulo=Zl.prototype.gb,Zl.prototype.compare=Zl.prototype.X,Zl.prototype.toNumber=Zl.prototype.ea,Zl.prototype.toString=Zl.prototype.toString,Zl.prototype.getBits=Zl.prototype.D,Zl.fromNumber=nc,Zl.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return lc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=nc(Math.pow(n,8)),i=ic,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=nc(Math.pow(n,o)),i=i.R(o).add(nc(s))):i=(i=i.R(r)).add(nc(s))}return i};var yc=io.createWebChannelTransport=function(){return new Kl},mc=io.getStatEventTarget=function(){return Hs()},gc=io.ErrorCode=Xs,_c=io.EventType=Js,kc=io.Event=zs,bc=io.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},wc=io.FetchXmlHttpFactory=al,Ec=io.WebChannel=tu,Sc=io.XhrIo=hl,xc=io.Md5=Xl,Cc=io.Integer=Zl,Tc="@firebase/firestore",Ic=function(){function e(t){c(this,e),this.uid=t}return p(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Ic.UNAUTHENTICATED=new Ic(null),Ic.GOOGLE_CREDENTIALS=new Ic("google-credentials-uid"),Ic.FIRST_PARTY=new Ic("first-party-uid"),Ic.MOCK_USER=new Ic("mock-user");var Nc="9.21.0",Pc=new na("@firebase/firestore");function Ac(){return Pc.logLevel}function Rc(e){if(Pc.logLevel<=$i.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lc);Pc.debug.apply(Pc,["Firestore (".concat(Nc,"): ").concat(e)].concat(l(i)))}}function Oc(e){if(Pc.logLevel<=$i.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lc);Pc.error.apply(Pc,["Firestore (".concat(Nc,"): ").concat(e)].concat(l(i)))}}function Dc(e){if(Pc.logLevel<=$i.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lc);Pc.warn.apply(Pc,["Firestore (".concat(Nc,"): ").concat(e)].concat(l(i)))}}function Lc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Mc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Nc,") INTERNAL ASSERTION FAILED: ")+e;throw Oc(t),new Error(t)}function Fc(e,t){e||Mc()}function jc(e,t){return e}var Uc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Vc=function(e){y(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return p(n)}(Ni),Bc=p((function e(){var t=this;c(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),zc=p((function e(t,n){c(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),qc=function(){function e(){c(this,e)}return p(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ic.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Hc=function(){function e(t){c(this,e),this.token=t,this.changeListener=null}return p(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Wc=function(){function e(t){c(this,e),this.t=t,this.currentUser=Ic.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Bc;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Bc,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Jr(Yr().mark((function e(){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Rc("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Rc("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Bc)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Rc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Fc("string"==typeof n.accessToken),new zc(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Fc(null===e||"string"==typeof e),new Ic(e)}}]),e}(),Kc=function(){function e(t,n,r){c(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Ic.FIRST_PARTY,this.g=new Map}return p(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Gc=function(){function e(t,n,r){c(this,e),this.h=t,this.l=n,this.m=r}return p(e,[{key:"getToken",value:function(){return Promise.resolve(new Kc(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ic.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Qc=p((function e(t){c(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),$c=function(){function e(t){c(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Rc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Rc("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Rc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Rc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Fc("string"==typeof t.token),e.T=t.token,new Qc(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Yc(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Xc=function(){function e(){c(this,e)}return p(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Yc(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Jc(e,t){return e<t?-1:e>t?1:0}function Zc(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var ef=function(){function e(t,n){if(c(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Vc(Uc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Vc(Uc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Vc(Uc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Vc(Uc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return p(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Jc(this.nanoseconds,e.nanoseconds):Jc(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),tf=function(){function e(t){c(this,e),this.timestamp=t}return p(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ef(0,0))}},{key:"max",value:function(){return new e(new ef(253402300799,999999999))}}]),e}(),nf=function(){function e(t,n,r){c(this,e),void 0===n?n=0:n>t.length&&Mc(),void 0===r?r=t.length-n:r>t.length-n&&Mc(),this.segments=t,this.offset=n,this.len=r}return p(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),rf=function(e){y(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new Vc(Uc.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,l(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(nf),af=/^[_a-zA-Z][_a-zA-Z0-9]*$/,of=function(e){y(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return af.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Vc(Uc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Vc(Uc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Vc(Uc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new Vc(Uc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(nf),sf=function(){function e(t){c(this,e),this.path=t}return p(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===rf.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(rf.fromString(t))}},{key:"fromName",value:function(t){return new e(rf.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(rf.emptyPath())}},{key:"comparator",value:function(e,t){return rf.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new rf(t.slice()))}}]),e}(),uf=p((function e(t,n,r,i){c(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));uf.UNKNOWN_ID=-1;function lf(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=tf.fromTimestamp(1e9===r?new ef(n+1,0):new ef(n,r));return new ff(i,sf.empty(),t)}function cf(e){return new ff(e.readTime,e.key,-1)}var ff=function(){function e(t,n,r){c(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return p(e,null,[{key:"min",value:function(){return new e(tf.min(),sf.empty(),-1)}},{key:"max",value:function(){return new e(tf.max(),sf.empty(),-1)}}]),e}();function hf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=sf.comparator(e.documentKey,t.documentKey))?n:Jc(e.largestBatchId,t.largestBatchId)}var df="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pf=function(){function e(){c(this,e),this.onCommittedListeners=[]}return p(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function vf(e){return yf.apply(this,arguments)}function yf(){return yf=Jr(Yr().mark((function e(t){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Uc.FAILED_PRECONDITION&&t.message===df){e.next=2;break}throw t;case 2:Rc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),yf.apply(this,arguments)}var mf=function(){function e(t){var n=this;c(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return p(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Mc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function gf(e){return"IndexedDbTransactionError"===e.name}var _f=function(){function e(t,n){var r=this;c(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return p(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function kf(e){return null==e}function bf(e){return 0===e&&1/e==-1/0}function wf(e){return"number"==typeof e&&Number.isInteger(e)&&!bf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}_f.ct=-1;var Ef=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Sf=([].concat(l(Ef),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),xf=Sf;[].concat(xf,["indexConfiguration","indexState","indexEntries"]);function Cf(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Tf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function If(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Nf=function(){function e(t,n){c(this,e),this.comparator=t,this.root=n||Af.EMPTY}return p(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Af.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Af.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Pf(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Pf(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Pf(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Pf(this.root,e,this.comparator,!0)}}]),e}(),Pf=function(){function e(t,n,r,i){c(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return p(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Af=function(){function e(t,n,r,i,a){c(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return p(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Mc();if(this.right.isRed())throw Mc();var e=this.left.check();if(e!==this.right.check())throw Mc();return e+(this.isRed()?0:1)}}]),e}();Af.EMPTY=null,Af.RED=!0,Af.BLACK=!1,Af.EMPTY=new(function(){function e(){c(this,e),this.size=0}return p(e,[{key:"key",get:function(){throw Mc()}},{key:"value",get:function(){throw Mc()}},{key:"color",get:function(){throw Mc()}},{key:"left",get:function(){throw Mc()}},{key:"right",get:function(){throw Mc()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Af(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Rf=function(){function e(t){c(this,e),this.comparator=t,this.data=new Nf(this.comparator)}return p(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Of(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Of(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Of=function(){function e(t){c(this,e),this.iter=t}return p(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Df=function(){function e(t){c(this,e),this.fields=t,t.sort(of.comparator)}return p(e,[{key:"unionWith",value:function(t){var n,r=new Rf(of.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=C(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Zc(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Lf=function(e){y(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return p(n)}(x(Error));var Mf=function(e){function t(e){c(this,t),this.binaryString=e}return p(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Jc(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Lf("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Mf.EMPTY_BYTE_STRING=new Mf("");var Ff=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jf(e){if(Fc(!!e),"string"==typeof e){var t=0,n=Ff.exec(e);if(Fc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Uf(e.seconds),nanos:Uf(e.nanos)}}function Uf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Vf(e){return"string"==typeof e?Mf.fromBase64String(e):Mf.fromUint8Array(e)}function Bf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zf(e){var t=e.mapValue.fields.__previous_value__;return Bf(t)?zf(t):t}function qf(e){var t=jf(e.mapValue.fields.__local_write_time__.timestampValue);return new ef(t.seconds,t.nanos)}var Hf=p((function e(t,n,r,i,a,o,s,u){c(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),Wf=function(){function e(t,n){c(this,e),this.projectId=t,this.database=n||"(default)"}return p(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Kf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Gf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bf(e)?4:sh(e)?9007199254740991:10:Mc()}function Qf(e,t){if(e===t)return!0;var n=Gf(e);if(n!==Gf(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return qf(e).isEqual(qf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=jf(e.timestampValue),r=jf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Vf(e.bytesValue).isEqual(Vf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Uf(e.geoPointValue.latitude)===Uf(t.geoPointValue.latitude)&&Uf(e.geoPointValue.longitude)===Uf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Uf(e.integerValue)===Uf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Uf(e.doubleValue),r=Uf(t.doubleValue);return n===r?bf(n)===bf(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zc(e.arrayValue.values||[],t.arrayValue.values||[],Qf);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Cf(n)!==Cf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Qf(n[i],r[i])))return!1;return!0}(e,t);default:return Mc()}}function $f(e,t){return void 0!==(e.values||[]).find((function(e){return Qf(e,t)}))}function Yf(e,t){if(e===t)return 0;var n=Gf(e),r=Gf(t);if(n!==r)return Jc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Jc(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Uf(e.integerValue||e.doubleValue),r=Uf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Xf(e.timestampValue,t.timestampValue);case 4:return Xf(qf(e),qf(t));case 5:return Jc(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Vf(e),r=Vf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Jc(n[i],r[i]);if(0!==a)return a}return Jc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Jc(Uf(e.latitude),Uf(t.latitude));return 0!==n?n:Jc(Uf(e.longitude),Uf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Yf(n[i],r[i]);if(a)return a}return Jc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Kf.mapValue&&t===Kf.mapValue)return 0;if(e===Kf.mapValue)return 1;if(t===Kf.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Jc(r[o],a[o]);if(0!==s)return s;var u=Yf(n[r[o]],i[a[o]]);if(0!==u)return u}return Jc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Mc()}}function Xf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Jc(e,t);var n=jf(e),r=jf(t),i=Jc(n.seconds,r.seconds);return 0!==i?i:Jc(n.nanos,r.nanos)}function Jf(e){return Zf(e)}function Zf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=jf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Vf(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,sf.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Zf(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Zf(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Mc();var t,n}function eh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function th(e){return!!e&&"integerValue"in e}function nh(e){return!!e&&"arrayValue"in e}function rh(e){return!!e&&"nullValue"in e}function ih(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ah(e){return!!e&&"mapValue"in e}function oh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Tf(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=oh(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=oh(e.arrayValue.values[r]);return n}return Object.assign({},e)}function sh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var uh=function(){function e(t){c(this,e),this.value=t}return p(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ah(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oh(t)}},{key:"setAll",value:function(e){var t=this,n=of.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=oh(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Qf(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ah(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Tf(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(oh(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function lh(e){var t=[];return Tf(e.fields,(function(e,n){var r=new of([e]);if(ah(n)){var i=lh(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Df(t)}var ch=function(){function e(t,n,r,i,a,o,s){c(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return p(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(tf.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=uh.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=uh.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=tf.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,tf.min(),tf.min(),tf.min(),uh.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,tf.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,tf.min(),tf.min(),uh.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,tf.min(),tf.min(),uh.empty(),2)}}]),e}(),fh=p((function e(t,n){c(this,e),this.position=t,this.inclusive=n}));function hh(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?sf.comparator(sf.fromName(o.referenceValue),n.key):Yf(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function dh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Qf(e.position[n],t.position[n]))return!1;return!0}var ph=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";c(this,e),this.field=t,this.dir=n}));function vh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var yh=p((function e(){c(this,e)})),mh=function(e){y(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yf(t,this.value)):null!==t&&Gf(this.value)===Gf(t)&&this.matchesComparison(Yf(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mc()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new xh(e,t,r):"array-contains"===t?new Nh(e,r):"in"===t?new Ph(e,r):"not-in"===t?new Ah(e,r):"array-contains-any"===t?new Rh(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Ch(e,n):new Th(e,n)}}]),n}(yh),gh=function(e){y(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return p(n,[{key:"matches",value:function(e){return _h(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=C(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(yh);function _h(e){return"and"===e.op}function kh(e){return bh(e)&&_h(e)}function bh(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof gh)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function wh(e){if(e instanceof mh)return e.field.canonicalString()+e.op.toString()+Jf(e.value);if(kh(e))return e.filters.map((function(e){return wh(e)})).join(",");var t=e.filters.map((function(e){return wh(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Eh(e,t){return e instanceof mh?function(e,t){return t instanceof mh&&e.op===t.op&&e.field.isEqual(t.field)&&Qf(e.value,t.value)}(e,t):e instanceof gh?function(e,t){return t instanceof gh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Eh(n,t.filters[r])}),!0)}(e,t):void Mc()}function Sh(e){return e instanceof mh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Jf(e.value))}(e):e instanceof gh?function(e){return e.op.toString()+" {"+e.getFilters().map(Sh).join(" ,")+"}"}(e):"Filter"}var xh=function(e){y(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,r,i)).key=sf.fromName(i.referenceValue),a}return p(n,[{key:"matches",value:function(e){var t=sf.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(mh),Ch=function(e){y(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,"in",r)).keys=Ih("in",r),i}return p(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(mh),Th=function(e){y(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,"not-in",r)).keys=Ih("not-in",r),i}return p(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(mh);function Ih(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return sf.fromName(e.referenceValue)}))}var Nh=function(e){y(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"array-contains",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return nh(t)&&$f(t.arrayValue,this.value)}}]),n}(mh),Ph=function(e){y(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"in",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&$f(this.value.arrayValue,t)}}]),n}(mh),Ah=function(e){y(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"not-in",r)}return p(n,[{key:"matches",value:function(e){if($f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!$f(this.value.arrayValue,t)}}]),n}(mh),Rh=function(e){y(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"array-contains-any",r)}return p(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!nh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return $f(t.value.arrayValue,e)}))}}]),n}(mh),Oh=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;c(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function Dh(e){return new Oh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Lh(e){var t=jc(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return wh(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),kf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Jf(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Jf(e)})).join(",")),t.ft=n}return t.ft}function Mh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!vh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Eh(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!dh(e.startAt,t.startAt)&&dh(e.endAt,t.endAt)}function Fh(e){return sf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var jh=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;c(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function Uh(e,t,n,r,i,a,o,s){return new jh(e,t,n,r,i,a,o,s)}function Vh(e){return new jh(e)}function Bh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function qh(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function Hh(e){return null!==e.collectionGroup}function Wh(e){var t=jc(e);if(null===t.dt){t.dt=[];var n=qh(t),r=zh(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new ph(n)),t.dt.push(new ph(of.keyField(),"asc"));else{var i,a=!1,o=C(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new ph(of.keyField(),u))}}}return t.dt}function Kh(e){var t=jc(e);if(!t._t)if("F"===t.limitType)t._t=Dh(t.path,t.collectionGroup,Wh(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=C(Wh(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ph(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new fh(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new fh(t.startAt.position,t.startAt.inclusive):null;t._t=Dh(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function Gh(e,t){t.getFirstInequalityField(),qh(e);var n=e.filters.concat([t]);return new jh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qh(e,t,n){return new jh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $h(e,t){return Mh(Kh(e),Kh(t))&&e.limitType===t.limitType}function Yh(e){return"".concat(Lh(Kh(e)),"|lt:").concat(e.limitType)}function Xh(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Sh(e)})).join(", "),"]")),kf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Jf(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Jf(e)})).join(",")),"Target(".concat(t,")")}(Kh(e)),"; limitType=").concat(e.limitType,")")}function Jh(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):sf.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(Wh(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=hh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Wh(e),t))&&!(e.endAt&&!function(e,t,n){var r=hh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Wh(e),t))}(e,t)}function Zh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ed(e){return function(t,n){var r,i=!1,a=C(Wh(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=td(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function td(e,t,n){var r=e.field.isKeyField()?sf.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yf(r,i):Mc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mc()}}var nd=function(){function e(t,n){c(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return p(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=E(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Tf(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=E(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return If(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),rd=new Nf(sf.comparator);function id(){return rd}var ad=new Nf(sf.comparator);function od(){for(var e=ad,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function sd(e){var t=ad;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function ud(){return cd()}function ld(){return cd()}function cd(){return new nd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var fd=new Nf(sf.comparator),hd=new Rf(sf.comparator);function dd(){for(var e=hd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var pd=new Rf(Jc);function vd(){return pd}function yd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(t)?"-0":t}}function md(e){return{integerValue:""+e}}function gd(e,t){return wf(t)?md(t):yd(e,t)}var _d=p((function e(){c(this,e),this._=void 0}));function kd(e,t,n){return e instanceof Ed?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Bf(t)&&(t=zf(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Sd?xd(e,t):e instanceof Cd?Td(e,t):function(e,t){var n=wd(e,t),r=Nd(n)+Nd(e.wt);return th(n)&&th(e.wt)?md(r):yd(e.serializer,r)}(e,t)}function bd(e,t,n){return e instanceof Sd?xd(e,t):e instanceof Cd?Td(e,t):n}function wd(e,t){return e instanceof Id?th(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ed=function(e){y(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n)}(_d),Sd=function(e){y(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).elements=e,r}return p(n)}(_d);function xd(e,t){var n,r=Pd(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Qf(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Cd=function(e){y(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).elements=e,r}return p(n)}(_d);function Td(e,t){var n,r=Pd(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Qf(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Id=function(e){y(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).serializer=e,i.wt=r,i}return p(n)}(_d);function Nd(e){return Uf(e.integerValue||e.doubleValue)}function Pd(e){return nh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ad=p((function e(t,n){c(this,e),this.version=t,this.transformResults=n})),Rd=function(){function e(t,n){c(this,e),this.updateTime=t,this.exists=n}return p(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Od(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Dd=p((function e(){c(this,e)}));function Ld(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Gd(e.key,Rd.none()):new Vd(e.key,e.data,Rd.none());var n,r=e.data,i=uh.empty(),a=new Rf(of.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new Bd(e.key,i,new Df(a.toArray()),Rd.none())}function Md(e,t,n){e instanceof Vd?function(e,t,n){var r=e.value.clone(),i=qd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Bd?function(e,t,n){if(Od(e.precondition,t)){var r=qd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(zd(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Fd(e,t,n,r){return e instanceof Vd?function(e,t,n,r){if(!Od(e.precondition,t))return n;var i=e.value.clone(),a=Hd(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Bd?function(e,t,n,r){if(!Od(e.precondition,t))return n;var i=Hd(e.fieldTransforms,r,t),a=t.data;return a.setAll(zd(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Od(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function jd(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=wd(a.transform,o||null);null!=s&&(null===r&&(r=uh.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Ud(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Zc(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Sd&&t instanceof Sd||e instanceof Cd&&t instanceof Cd?Zc(e.elements,t.elements,Qf):e instanceof Id&&t instanceof Id?Qf(e.wt,t.wt):e instanceof Ed&&t instanceof Ed}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Vd=function(e){y(n,e);var t=k(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return c(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Dd),Bd=function(e){y(n,e);var t=k(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return c(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return p(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Dd);function zd(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function qd(e,t,n){var r=new Map;Fc(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,bd(o,s,n[i]))}return r}function Hd(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,kd(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Wd,Kd,Gd=function(e){y(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Dd),Qd=function(e){y(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Dd),$d=function(){function e(t,n,r,i){c(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return p(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Md(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Fd(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Fd(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=ld();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=Ld(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(tf.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),dd())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Zc(this.mutations,e.mutations,(function(e,t){return Ud(e,t)}))&&Zc(this.baseMutations,e.baseMutations,(function(e,t){return Ud(e,t)}))}}]),e}(),Yd=function(){function e(t,n,r,i){c(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return p(e,null,[{key:"from",value:function(t,n,r){Fc(t.mutations.length===r.length);for(var i=fd,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Xd=function(){function e(t,n){c(this,e),this.largestBatchId=t,this.mutation=n}return p(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Jd=p((function e(t,n){c(this,e),this.count=t,this.unchangedNames=n}));function Zd(e){switch(e){default:return Mc();case Uc.CANCELLED:case Uc.UNKNOWN:case Uc.DEADLINE_EXCEEDED:case Uc.RESOURCE_EXHAUSTED:case Uc.INTERNAL:case Uc.UNAVAILABLE:case Uc.UNAUTHENTICATED:return!1;case Uc.INVALID_ARGUMENT:case Uc.NOT_FOUND:case Uc.ALREADY_EXISTS:case Uc.PERMISSION_DENIED:case Uc.FAILED_PRECONDITION:case Uc.ABORTED:case Uc.OUT_OF_RANGE:case Uc.UNIMPLEMENTED:case Uc.DATA_LOSS:return!0}}function ep(e){if(void 0===e)return Oc("GRPC error has no .code"),Uc.UNKNOWN;switch(e){case Wd.OK:return Uc.OK;case Wd.CANCELLED:return Uc.CANCELLED;case Wd.UNKNOWN:return Uc.UNKNOWN;case Wd.DEADLINE_EXCEEDED:return Uc.DEADLINE_EXCEEDED;case Wd.RESOURCE_EXHAUSTED:return Uc.RESOURCE_EXHAUSTED;case Wd.INTERNAL:return Uc.INTERNAL;case Wd.UNAVAILABLE:return Uc.UNAVAILABLE;case Wd.UNAUTHENTICATED:return Uc.UNAUTHENTICATED;case Wd.INVALID_ARGUMENT:return Uc.INVALID_ARGUMENT;case Wd.NOT_FOUND:return Uc.NOT_FOUND;case Wd.ALREADY_EXISTS:return Uc.ALREADY_EXISTS;case Wd.PERMISSION_DENIED:return Uc.PERMISSION_DENIED;case Wd.FAILED_PRECONDITION:return Uc.FAILED_PRECONDITION;case Wd.ABORTED:return Uc.ABORTED;case Wd.OUT_OF_RANGE:return Uc.OUT_OF_RANGE;case Wd.UNIMPLEMENTED:return Uc.UNIMPLEMENTED;case Wd.DATA_LOSS:return Uc.DATA_LOSS;default:return Mc()}}(Kd=Wd||(Wd={}))[Kd.OK=0]="OK",Kd[Kd.CANCELLED=1]="CANCELLED",Kd[Kd.UNKNOWN=2]="UNKNOWN",Kd[Kd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kd[Kd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kd[Kd.NOT_FOUND=5]="NOT_FOUND",Kd[Kd.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kd[Kd.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kd[Kd.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kd[Kd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kd[Kd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kd[Kd.ABORTED=10]="ABORTED",Kd[Kd.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kd[Kd.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kd[Kd.INTERNAL=13]="INTERNAL",Kd[Kd.UNAVAILABLE=14]="UNAVAILABLE",Kd[Kd.DATA_LOSS=15]="DATA_LOSS";var tp=function(){function e(){c(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return p(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return np}},{key:"getOrCreateInstance",value:function(){return null===np&&(np=new e),np}}]),e}(),np=null;function rp(){return new TextEncoder}var ip=new Cc([4294967295,4294967295],0);function ap(e){var t=rp().encode(e),n=new xc;return n.update(t),new Uint8Array(n.digest())}function op(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Cc([n,r],0),new Cc([i,a],0)]}var sp=function(){function e(t,n,r){if(c(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new up("Invalid padding: ".concat(n));if(r<0)throw new up("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new up("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new up("Invalid padding when bitmap length is 0: ".concat(n));this.yt=8*t.length-n,this.It=Cc.fromNumber(this.yt)}return p(e,[{key:"Tt",value:function(e,t,n){var r=e.add(t.multiply(Cc.fromNumber(n)));return 1===r.compare(ip)&&(r=new Cc([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}},{key:"Et",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"At",value:function(e){if(0===this.yt)return!1;for(var t=E(op(ap(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);if(!this.Et(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.yt)for(var t=E(op(ap(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),up=function(e){y(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return p(n)}(x(Error)),lp=function(){function e(t,n,r,i,a){c(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return p(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,cp.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(tf.min(),i,new Nf(Jc),id(),dd())}}]),e}(),cp=function(){function e(t,n,r,i,a){c(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return p(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,dd(),dd(),dd())}}]),e}(),fp=p((function e(t,n,r,i){c(this,e),this.vt=t,this.removedTargetIds=n,this.key=r,this.Pt=i})),hp=p((function e(t,n){c(this,e),this.targetId=t,this.bt=n})),dp=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mf.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;c(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),pp=function(){function e(){c(this,e),this.Vt=0,this.St=mp(),this.Dt=Mf.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}return p(e,[{key:"current",get:function(){return this.Ct}},{key:"resumeToken",get:function(){return this.Dt}},{key:"Nt",get:function(){return 0!==this.Vt}},{key:"kt",get:function(){return this.xt}},{key:"Mt",value:function(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}},{key:"Ot",value:function(){var e=dd(),t=dd(),n=dd();return this.St.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mc()}})),new cp(this.Dt,this.Ct,e,t,n)}},{key:"$t",value:function(){this.xt=!1,this.St=mp()}},{key:"Ft",value:function(e,t){this.xt=!0,this.St=this.St.insert(e,t)}},{key:"Bt",value:function(e){this.xt=!0,this.St=this.St.remove(e)}},{key:"Lt",value:function(){this.Vt+=1}},{key:"qt",value:function(){this.Vt-=1}},{key:"Ut",value:function(){this.xt=!0,this.Ct=!0}}]),e}(),vp=function(){function e(t){c(this,e),this.Kt=t,this.Gt=new Map,this.Qt=id(),this.jt=yp(),this.zt=new Nf(Jc)}return p(e,[{key:"Wt",value:function(e){var t,n=C(e.vt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Pt&&e.Pt.isFoundDocument()?this.Ht(r,e.Pt):this.Jt(r,e.key,e.Pt)}}catch(s){n.e(s)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Jt(o,e.key,e.Pt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Yt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Xt(n);switch(e.state){case 0:t.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||t.removeTarget(n);break;case 3:t.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:t.Zt(n)&&(t.te(n),r.Mt(e.resumeToken));break;default:Mc()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((function(e,r){n.Zt(r)&&t(r)}))}},{key:"ee",value:function(e){var t,n=e.targetId,r=e.bt.count,i=this.ne(n);if(i){var a=i.target;if(Fh(a))if(0===r){var o=new sf(a.path);this.Jt(n,o,ch.newNoDocument(o,tf.min()))}else Fc(1===r);else{var s=this.se(n);if(s!==r){var u=this.ie(e,s);if(0!==u){this.te(n);var l=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(n,l)}null===(t=tp.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,l={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(l.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==c?void 0:c.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),l}(u,s,e.bt))}}}}},{key:"ie",value:function(e,t){var n=e.bt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,l=void 0===u?"":u,c=s.padding,f=void 0===c?0:c,h=r.hashCount,d=void 0===h?0:h;try{a=Vf(l).toUint8Array()}catch(e){if(e instanceof Lf)return Dc("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new sp(a,f,d)}catch(e){return Dc(e instanceof up?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.yt?1:i!==t-this.re(e.targetId,o)?2:0}},{key:"re",value:function(e,t){var n=this,r=this.Kt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Kt.oe(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.At(o)||(n.Jt(e,r,null),i++)})),i}},{key:"ue",value:function(e){var t=this,n=new Map;this.Gt.forEach((function(r,i){var a=t.ne(i);if(a){if(r.current&&Fh(a.target)){var o=new sf(a.target.path);null!==t.Qt.get(o)||t.ce(i,o)||t.Jt(i,o,ch.newNoDocument(o,e))}r.kt&&(n.set(i,r.Ot()),r.$t())}}));var r=dd();this.jt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ne(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Qt.forEach((function(t,n){return n.setReadTime(e)}));var i=new lp(e,n,this.zt,this.Qt,r);return this.Qt=id(),this.jt=yp(),this.zt=new Nf(Jc),i}},{key:"Ht",value:function(e,t){if(this.Zt(e)){var n=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,n),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}}},{key:"Jt",value:function(e,t,n){if(this.Zt(e)){var r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),n&&(this.Qt=this.Qt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Gt.delete(e)}},{key:"se",value:function(e){var t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Lt",value:function(e){this.Xt(e).Lt()}},{key:"Xt",value:function(e){var t=this.Gt.get(e);return t||(t=new pp,this.Gt.set(e,t)),t}},{key:"ae",value:function(e){var t=this.jt.get(e);return t||(t=new Rf(Jc),this.jt=this.jt.insert(e,t)),t}},{key:"Zt",value:function(e){var t=null!==this.ne(e);return t||Rc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"ne",value:function(e){var t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}},{key:"te",value:function(e){var t=this;this.Gt.set(e,new pp),this.Kt.getRemoteKeysForTarget(e).forEach((function(n){t.Jt(e,n,null)}))}},{key:"ce",value:function(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}]),e}();function yp(){return new Nf(sf.comparator)}function mp(){return new Nf(sf.comparator)}var gp={asc:"ASCENDING",desc:"DESCENDING"},_p={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kp={and:"AND",or:"OR"},bp=p((function e(t,n){c(this,e),this.databaseId=t,this.useProto3Json=n}));function wp(e,t){return e.useProto3Json||kf(t)?t:{value:t}}function Ep(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Sp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function xp(e,t){return Ep(e,t.toTimestamp())}function Cp(e){return Fc(!!e),tf.fromTimestamp(function(e){var t=jf(e);return new ef(t.seconds,t.nanos)}(e))}function Tp(e,t){return function(e){return new rf(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ip(e){var t=rf.fromString(e);return Fc(Qp(t)),t}function Np(e,t){return Tp(e.databaseId,t.path)}function Pp(e,t){var n=Ip(t);if(n.get(1)!==e.databaseId.projectId)throw new Vc(Uc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vc(Uc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new sf(Dp(n))}function Ap(e,t){return Tp(e.databaseId,t)}function Rp(e){var t=Ip(e);return 4===t.length?rf.emptyPath():Dp(t)}function Op(e){return new rf(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Dp(e){return Fc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Lp(e,t,n){return{name:Np(e,t),fields:n.value.mapValue.fields}}function Mp(e,t){var n;if(t instanceof Vd)n={update:Lp(e,t.key,t.value)};else if(t instanceof Gd)n={delete:Np(e,t.key)};else if(t instanceof Bd)n={update:Lp(e,t.key,t.data),updateMask:Gp(t.fieldMask)};else{if(!(t instanceof Qd))return Mc();n={verify:Np(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ed)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Sd)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Cd)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Id)return{fieldPath:t.field.canonicalString(),increment:n.wt};throw Mc()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:xp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mc()}(e,t.precondition)),n}function Fp(e,t){return{documents:[Ap(e,t.path)]}}function jp(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ap(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ap(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Kp(gh.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Hp(e.field),direction:Bp(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=wp(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Up(e){var t=Rp(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Fc(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Vp(e);return t instanceof gh&&kh(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new ph(Wp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return kf(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new fh(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new fh(n,t)}(n.endAt)),Uh(t,i,s,o,u,"F",l,c)}function Vp(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Wp(e.unaryFilter.field);return mh.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Wp(e.unaryFilter.field);return mh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Wp(e.unaryFilter.field);return mh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Wp(e.unaryFilter.field);return mh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mc()}}(e):void 0!==e.fieldFilter?function(e){return mh.create(Wp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mc()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return gh.create(e.compositeFilter.filters.map((function(e){return Vp(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Mc()}}(e.compositeFilter.op))}(e):Mc()}function Bp(e){return gp[e]}function zp(e){return _p[e]}function qp(e){return kp[e]}function Hp(e){return{fieldPath:e.canonicalString()}}function Wp(e){return of.fromServerFormat(e.fieldPath)}function Kp(e){return e instanceof mh?function(e){if("=="===e.op){if(ih(e.value))return{unaryFilter:{field:Hp(e.field),op:"IS_NAN"}};if(rh(e.value))return{unaryFilter:{field:Hp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ih(e.value))return{unaryFilter:{field:Hp(e.field),op:"IS_NOT_NAN"}};if(rh(e.value))return{unaryFilter:{field:Hp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hp(e.field),op:zp(e.op),value:e.value}}}(e):e instanceof gh?function(e){var t=e.getFilters().map((function(e){return Kp(e)}));return 1===t.length?t[0]:{compositeFilter:{op:qp(e.op),filters:t}}}(e):Mc()}function Gp(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Qp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var $p=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:tf.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:tf.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Mf.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;c(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return p(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Yp=p((function e(t){c(this,e),this.le=t}));function Xp(e){var t=Up({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qh(t,t.limit,"L"):t}var Jp=function(){function e(){c(this,e)}return p(e,[{key:"_e",value:function(e,t){this.we(e,t),t.me()}},{key:"we",value:function(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(Uf(e.integerValue));else if("doubleValue"in e){var n=Uf(e.doubleValue);isNaN(n)?this.ge(t,13):(this.ge(t,15),bf(n)?t.ye(0):t.ye(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe("".concat(r.seconds||"")),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Vf(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?sh(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):Mc()}},{key:"Ie",value:function(e,t){this.ge(t,25),this.Pe(e,t)}},{key:"Pe",value:function(e,t){t.pe(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ge(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Ie(a,t),this.we(n[a],t)}}},{key:"ve",value:function(e,t){var n=e.values||[];this.ge(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.we(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"Ae",value:function(e,t){var n=this;this.ge(t,37),sf.fromName(e).path.forEach((function(e){n.ge(t,60),n.Pe(e,t)}))}},{key:"ge",value:function(e,t){e.ye(t)}},{key:"Te",value:function(e){e.ye(2)}}]),e}();Jp.be=new Jp;var Zp=function(){function e(){c(this,e),this.sn=new ev}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),mf.resolve()}},{key:"getCollectionParents",value:function(e,t){return mf.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return mf.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return mf.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return mf.resolve(null)}},{key:"getIndexType",value:function(e,t){return mf.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return mf.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return mf.resolve(null)}},{key:"getMinOffset",value:function(e,t){return mf.resolve(ff.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return mf.resolve(ff.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return mf.resolve()}},{key:"updateIndexEntries",value:function(e,t){return mf.resolve()}}]),e}(),ev=function(){function e(){c(this,e),this.index={}}return p(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Rf(rf.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Rf(rf.comparator)).toArray()}}]),e}();new Uint8Array(0);var tv=function(){function e(t,n,r){c(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return p(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();tv.DEFAULT_COLLECTION_PERCENTILE=10,tv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tv.DEFAULT=new tv(41943040,tv.DEFAULT_COLLECTION_PERCENTILE,tv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tv.DISABLED=new tv(-1,0,0);var nv=function(){function e(t){c(this,e),this.xn=t}return p(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"Nn",value:function(){return new e(0)}},{key:"kn",value:function(){return new e(-1)}}]),e}();var rv=function(){function e(){c(this,e),this.changes=new nd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return p(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,ch.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?mf.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var iv=p((function e(t,n){c(this,e),this.overlayedDocument=t,this.mutatedFields=n})),av=function(){function e(t,n,r,i){c(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return p(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Fd(r.mutation,e,Df.empty(),ef.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,dd()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dd(),i=ud();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=od();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=ud();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,dd())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=id(),a=cd(),o=cd();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Bd)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Fd(o.mutation,t,o.mutation.getFieldMask(),ef.now())):a.set(t.key,Df.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new iv(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=cd(),i=new Nf((function(e,t){return e-t})),a=dd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Df.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||dd()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=ld();l.forEach((function(e){if(!a.has(e)){var n=Ld(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return mf.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return sf.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):mf.resolve(ud()),s=-1,u=a;return o.next((function(t){return mf.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?mf.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,dd())})).next((function(e){return{batchId:s,changes:sd(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new sf(t)).next((function(e){var t=od();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=od();return this.indexManager.getCollectionParents(e,i).next((function(o){return mf.forEach(o,(function(o){var s=function(e,t){return new jh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,ch.newInvalidDocument(r)))}));var n=od();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Fd(a.mutation,i,Df.empty(),ef.now()),Jh(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),ov=function(){function e(t){c(this,e),this.serializer=t,this.us=new Map,this.cs=new Map}return p(e,[{key:"getBundleMetadata",value:function(e,t){return mf.resolve(this.us.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.us.set(t.id,{id:(n=t).id,version:n.version,createTime:Cp(n.createTime)}),mf.resolve()}},{key:"getNamedQuery",value:function(e,t){return mf.resolve(this.cs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cs.set(t.name,function(e){return{name:e.name,query:Xp(e.bundledQuery),readTime:Cp(e.readTime)}}(t)),mf.resolve()}}]),e}(),sv=function(){function e(){c(this,e),this.overlays=new Nf(sf.comparator),this.hs=new Map}return p(e,[{key:"getOverlay",value:function(e,t){return mf.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=ud();return mf.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.de(e,t,i)})),mf.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hs.delete(n)),mf.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=ud(),i=t.length+1,a=new sf(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return mf.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Nf((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=ud(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=ud(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return mf.resolve(u)}},{key:"de",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hs.get(r.largestBatchId).delete(n.key);this.hs.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Xd(t,n));var a=this.hs.get(t);void 0===a&&(a=dd(),this.hs.set(t,a)),this.hs.set(t,a.add(n.key))}}]),e}(),uv=function(){function e(){c(this,e),this.ls=new Rf(lv.fs),this.ds=new Rf(lv._s)}return p(e,[{key:"isEmpty",value:function(){return this.ls.isEmpty()}},{key:"addReference",value:function(e,t){var n=new lv(e,t);this.ls=this.ls.add(n),this.ds=this.ds.add(n)}},{key:"ws",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.gs(new lv(e,t))}},{key:"ys",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ps",value:function(e){var t=this,n=new sf(new rf([])),r=new lv(n,e),i=new lv(n,e+1),a=[];return this.ds.forEachInRange([r,i],(function(e){t.gs(e),a.push(e.key)})),a}},{key:"Is",value:function(){var e=this;this.ls.forEach((function(t){return e.gs(t)}))}},{key:"gs",value:function(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}},{key:"Ts",value:function(e){var t=new sf(new rf([])),n=new lv(t,e),r=new lv(t,e+1),i=dd();return this.ds.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new lv(e,0),n=this.ls.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),lv=function(){function e(t,n){c(this,e),this.key=t,this.Es=n}return p(e,null,[{key:"fs",value:function(e,t){return sf.comparator(e.key,t.key)||Jc(e.Es,t.Es)}},{key:"_s",value:function(e,t){return Jc(e.Es,t.Es)||sf.comparator(e.key,t.key)}}]),e}(),cv=function(){function e(t,n){c(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new Rf(lv.fs)}return p(e,[{key:"checkEmpty",value:function(e){return mf.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new $d(i,t,n,r);this.mutationQueue.push(a);var o,s=C(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new lv(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return mf.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return mf.resolve(this.vs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ps(n),i=r<0?0:r;return mf.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return mf.resolve(0===this.mutationQueue.length?-1:this.As-1)}},{key:"getAllMutationBatches",value:function(e){return mf.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new lv(t,0),i=new lv(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.vs(e.Es);a.push(t)})),mf.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Rf(Jc);return t.forEach((function(e){var t=new lv(e,0),i=new lv(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.Es)}))})),mf.resolve(this.bs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;sf.isDocumentKey(i)||(i=i.child(""));var a=new lv(new sf(i),0),o=new Rf(Jc);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Es)),!0)}),a),mf.resolve(this.bs(o))}},{key:"bs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.vs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Fc(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return mf.forEach(t.mutations,(function(i){var a=new lv(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new lv(t,0),r=this.Rs.firstAfterOrEqual(n);return mf.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,mf.resolve()}},{key:"Vs",value:function(e,t){return this.Ps(e)}},{key:"Ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"vs",value:function(e){var t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),fv=function(){function e(t){c(this,e),this.Ss=t,this.docs=new Nf(sf.comparator),this.size=0}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ss(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return mf.resolve(n?n.document.mutableCopy():ch.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=id();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():ch.newInvalidDocument(e))})),mf.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=id(),a=t.path,o=new sf(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),l=u.key,c=u.value.document;if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||hf(cf(c),n)<=0||(r.has(c.key)||Jh(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return mf.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Mc()}},{key:"Ds",value:function(e,t){return mf.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new hv(this)}},{key:"getSize",value:function(e){return mf.resolve(this.size)}}]),e}(),hv=function(e){y(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).rs=e,r}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.rs.addEntry(e,i)):t.rs.removeEntry(r)})),mf.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.rs.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.rs.getEntries(e,t)}}]),n}(rv),dv=function(){function e(t){c(this,e),this.persistence=t,this.Cs=new nd((function(e){return Lh(e)}),Mh),this.lastRemoteSnapshotVersion=tf.min(),this.highestTargetId=0,this.xs=0,this.Ns=new uv,this.targetCount=0,this.ks=nv.Nn()}return p(e,[{key:"forEachTarget",value:function(e,t){return this.Cs.forEach((function(e,n){return t(n)})),mf.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return mf.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return mf.resolve(this.xs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.ks.next(),mf.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.xs&&(this.xs=t),mf.resolve()}},{key:"$n",value:function(e){this.Cs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ks=new nv(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.$n(t),this.targetCount+=1,mf.resolve()}},{key:"updateTargetData",value:function(e,t){return this.$n(t),mf.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,mf.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Cs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),mf.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return mf.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cs.get(t)||null;return mf.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ns.ws(t,n),mf.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ns.ys(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),mf.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ns.ps(t),mf.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ns.Ts(t);return mf.resolve(n)}},{key:"containsKey",value:function(e,t){return mf.resolve(this.Ns.containsKey(t))}}]),e}(),pv=function(){function e(t,n){var r=this;c(this,e),this.Ms={},this.overlays={},this.Os=new _f(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new dv(this),this.indexManager=new Zp,this.remoteDocumentCache=new fv((function(e){return r.referenceDelegate.Bs(e)})),this.serializer=new Yp(n),this.Ls=new ov(this.serializer)}return p(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.$s=!1,Promise.resolve()}},{key:"started",get:function(){return this.$s}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new sv,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ms[e.toKey()];return n||(n=new cv(t,this.referenceDelegate),this.Ms[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;Rc("MemoryPersistence","Starting transaction:",e);var i=new vv(this.Os.next());return this.referenceDelegate.qs(),n(i).next((function(e){return r.referenceDelegate.Us(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ks",value:function(e,t){return mf.or(Object.values(this.Ms).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),vv=function(e){y(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return p(n)}(pf),yv=function(){function e(t){c(this,e),this.persistence=t,this.Gs=new uv,this.Qs=null}return p(e,[{key:"zs",get:function(){if(this.Qs)return this.Qs;throw Mc()}},{key:"addReference",value:function(e,t,n){return this.Gs.addReference(n,t),this.zs.delete(n.toString()),mf.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gs.removeReference(n,t),this.zs.add(n.toString()),mf.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zs.add(t.toString()),mf.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gs.ps(t.targetId).forEach((function(e){return n.zs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qs",value:function(){this.Qs=new Set}},{key:"Us",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mf.forEach(this.zs,(function(r){var i=sf.fromPath(r);return t.Ws(e,i).next((function(e){e||n.removeEntry(i,tf.min())}))})).next((function(){return t.Qs=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ws(e,t).next((function(e){e?n.zs.delete(t.toString()):n.zs.add(t.toString())}))}},{key:"Bs",value:function(e){return 0}},{key:"Ws",value:function(e,t){var n=this;return mf.or([function(){return mf.resolve(n.Gs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ks(e,t)}])}}],[{key:"js",value:function(t){return new e(t)}}]),e}();var mv=function(){function e(t,n,r,i){c(this,e),this.targetId=t,this.fromCache=n,this.$i=r,this.Fi=i}return p(e,null,[{key:"Bi",value:function(t,n){var r,i=dd(),a=dd(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),gv=function(){function e(){c(this,e),this.Li=!1}return p(e,[{key:"initialize",value:function(e,t){this.qi=e,this.indexManager=t,this.Li=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ui(e,t).next((function(a){return a||i.Ki(e,t,r,n)})).next((function(n){return n||i.Gi(e,t)}))}},{key:"Ui",value:function(e,t){var n=this;if(Bh(t))return mf.resolve(null);var r=Kh(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Qh(t,null,"F"),r=Kh(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=dd.apply(void 0,l(i));return n.qi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Qi(t,i);return n.ji(t,o,a,r.readTime)?n.Ui(e,Qh(t,null,"F")):n.zi(e,o,t,r)}))}))})))}))}},{key:"Ki",value:function(e,t,n,r){var i=this;return Bh(t)||r.isEqual(tf.min())?this.Gi(e,t):this.qi.getDocuments(e,n).next((function(a){var o=i.Qi(t,a);return i.ji(t,o,n,r)?i.Gi(e,t):(Ac()<=$i.DEBUG&&Rc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xh(t)),i.zi(e,o,t,lf(r,-1)))}))}},{key:"Qi",value:function(e,t){var n=new Rf(ed(e));return t.forEach((function(t,r){Jh(e,r)&&(n=n.add(r))})),n}},{key:"ji",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Gi",value:function(e,t){return Ac()<=$i.DEBUG&&Rc("QueryEngine","Using full collection scan to execute query:",Xh(t)),this.qi.getDocumentsMatchingQuery(e,t,ff.min())}},{key:"zi",value:function(e,t,n,r){return this.qi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),_v=function(){function e(t,n,r,i){c(this,e),this.persistence=t,this.Wi=n,this.serializer=i,this.Hi=new Nf(Jc),this.Ji=new nd((function(e){return Lh(e)}),Mh),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(r)}return p(e,[{key:"Zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new av(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Hi)}))}}]),e}();function kv(e,t,n,r){return new _v(e,t,n,r)}function bv(e,t){return wv.apply(this,arguments)}function wv(){return wv=Jr(Yr().mark((function e(t,n){var r;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jc(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=dd(),u=C(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,f=C(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;s=s.add(h.key)}}catch(_){f.e(_)}finally{f.f()}}}catch(_){u.e(_)}finally{u.f()}var d,p=C(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=C(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;s=s.add(g.key)}}catch(_){m.e(_)}finally{m.f()}}}catch(_){p.e(_)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{tr:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}function Ev(e,t){var n=jc(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=mf.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Fc(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=dd(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Sv(e){var t=jc(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Fs.getLastRemoteSnapshotVersion(e)}))}function xv(e,t){var n=jc(e),r=t.snapshotVersion,i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Fs.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?l=l.withResumeToken(Mf.EMPTY_BYTE_STRING,tf.min()).withLastLimboFreeSnapshotVersion(tf.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Fs.updateTargetData(e,l))}}));var s=id(),u=dd();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Cv(e,a,t.documentUpdates).next((function(e){s=e.er,u=e.nr}))),!r.isEqual(tf.min())){var l=n.Fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return mf.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Hi=i,e}))}function Cv(e,t,n){var r=dd(),i=dd();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=id();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(tf.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Rc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{er:r,nr:i}}))}function Tv(e,t){var n=jc(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Iv(e,t){var n=jc(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Fs.getTargetData(e,t).next((function(i){return i?(r=i,mf.resolve(r)):n.Fs.allocateTargetId(e).next((function(i){return r=new $p(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Hi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(e.targetId,e),n.Ji.set(t,e.targetId)),e}))}function Nv(e,t,n){return Pv.apply(this,arguments)}function Pv(){return Pv=Jr(Yr().mark((function e(t,n,r){var i,a,o;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=jc(t),a=i.Hi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),gf(e.t1)){e.next=12;break}throw e.t1;case 12:Rc("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Hi=i.Hi.remove(n),i.Ji.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Pv.apply(this,arguments)}function Av(e,t,n){var r=jc(e),i=tf.min(),a=dd();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=jc(e),i=r.Ji.get(n);return void 0!==i?mf.resolve(r.Hi.get(i)):r.Fs.getTargetData(t,n)}(r,e,Kh(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Wi.getDocumentsMatchingQuery(e,t,n?i:tf.min(),n?a:dd())})).next((function(e){return Rv(r,Zh(t),e),{documents:e,sr:a}}))}))}function Rv(e,t,n){var r=e.Yi.get(t)||tf.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Yi.set(t,r)}var Ov=function(){function e(){c(this,e),this.activeTargetIds=vd()}return p(e,[{key:"hr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ar",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Dv=function(){function e(){c(this,e),this.Wr=new Ov,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return p(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Hr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Wr.lr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Hr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Wr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Wr=new Ov,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Lv=function(){function e(){c(this,e)}return p(e,[{key:"Jr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Mv=function(){function e(){var t=this;c(this,e),this.Yr=function(){return t.Xr()},this.Zr=function(){return t.eo()},this.no=[],this.so()}return p(e,[{key:"Jr",value:function(e){this.no.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}},{key:"so",value:function(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}},{key:"Xr",value:function(){Rc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"eo",value:function(){Rc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Fv=null;function jv(){return null===Fv?Fv=268435456+Math.round(2147483648*Math.random()):Fv++,"0x"+Fv.toString(16)}var Uv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Vv=function(){function e(t){c(this,e),this.io=t.io,this.ro=t.ro}return p(e,[{key:"oo",value:function(e){this.uo=e}},{key:"co",value:function(e){this.ao=e}},{key:"onMessage",value:function(e){this.ho=e}},{key:"close",value:function(){this.ro()}},{key:"send",value:function(e){this.io(e)}},{key:"lo",value:function(){this.uo()}},{key:"fo",value:function(e){this.ao(e)}},{key:"_o",value:function(e){this.ho(e)}}]),e}(),Bv="WebChannelConnection",zv=function(e){y(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return p(n,[{key:"Eo",value:function(e,t,n,r){var i=jv();return new Promise((function(a,o){var s=new Sc;s.setWithCredentials(!0),s.listenOnce(_c.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case gc.NO_ERROR:var t=s.getResponseJson();Rc(Bv,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case gc.TIMEOUT:Rc(Bv,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Vc(Uc.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:var n=s.getStatus();if(Rc(Bv,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Uc).indexOf(t)>=0?t:Uc.UNKNOWN}(u.status);o(new Vc(l,u.message))}else o(new Vc(Uc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Vc(Uc.UNAVAILABLE,"Connection failed."));break;default:Mc()}}finally{Rc(Bv,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Rc(Bv,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=jv(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=yc(),o=mc(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new wc({})),this.To(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var u=i.join("");Rc(Bv,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),s);var l=a.createWebChannel(u,s),c=!1,f=!1,h=new Vv({io:function(t){f?Rc(Bv,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(c||(Rc(Bv,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),c=!0),Rc(Bv,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},ro:function(){return l.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(l,Ec.EventType.OPEN,(function(){f||Rc(Bv,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(l,Ec.EventType.CLOSE,(function(){f||(f=!0,Rc(Bv,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.fo())})),d(l,Ec.EventType.ERROR,(function(t){f||(f=!0,Dc(Bv,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.fo(new Vc(Uc.UNAVAILABLE,"The operation could not be completed")))})),d(l,Ec.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];Fc(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Rc(Bv,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Wd[e];if(void 0!==t)return ep(t)}(s),c=o.message;void 0===u&&(u=Uc.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),f=!0,h.fo(new Vc(u,c)),l.close()}else Rc(Bv,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h._o(i)}})),d(o,kc.STAT_EVENT,(function(t){t.stat===bc.PROXY?Rc(Bv,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===bc.NOPROXY&&Rc(Bv,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.lo()}),0),h}}]),n}(function(){function e(t){c(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.wo=n+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return p(e,[{key:"yo",get:function(){return!1}},{key:"po",value:function(e,t,n,r,i){var a=jv(),o=this.Io(e,t);Rc("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.To(s,r,i),this.Eo(e,o,s,n).then((function(t){return Rc("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Dc("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Ao",value:function(e,t,n,r,i,a){return this.po(e,t,n,r,i)}},{key:"To",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Io",value:function(e,t){var n=Uv[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}}]),e}());function qv(){return"undefined"!=typeof document?document:null}function Hv(e){return new bp(e,!0)}var Wv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;c(this,e),this.si=t,this.timerId=n,this.vo=r,this.Po=i,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}return p(e,[{key:"reset",value:function(){this.Vo=0}},{key:"Co",value:function(){this.Vo=this.bo}},{key:"xo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&Rc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Vo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.So=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Do=Date.now(),e()})),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}},{key:"ko",value:function(){null!==this.So&&(this.So.skipDelay(),this.So=null)}},{key:"cancel",value:function(){null!==this.So&&(this.So.cancel(),this.So=null)}},{key:"No",value:function(){return(Math.random()-.5)*this.Vo}}]),e}(),Kv=function(){function e(t,n,r,i,a,o,s,u){c(this,e),this.si=t,this.Mo=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new Wv(t,n)}return p(e,[{key:"qo",value:function(){return 1===this.state||5===this.state||this.Uo()}},{key:"Uo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Ko()}},{key:"stop",value:function(){var e=Jr(Yr().mark((function e(){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.qo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Go",value:function(){this.state=0,this.Lo.reset()}},{key:"Qo",value:function(){var e=this;this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,(function(){return e.jo()})))}},{key:"zo",value:function(e){this.Wo(),this.stream.send(e)}},{key:"jo",value:function(){var e=Jr(Yr().mark((function e(){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wo",value:function(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"close",value:function(){var e=Jr(Yr().mark((function e(t,n){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,4!==t?this.Lo.reset():n&&n.code===Uc.RESOURCE_EXHAUSTED?(Oc(n.toString()),Oc("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===Uc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Jo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.co(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Jo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=E(t,2),i=r[0],a=r[1];e.$o===n&&e.Xo(i,a)}),(function(n){t((function(){var t=new Vc(Uc.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Zo(t)}))}))}},{key:"Xo",value:function(e,t){var n=this,r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo((function(){r((function(){return n.state=2,n.Bo=n.si.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Uo()&&(n.state=3),Promise.resolve()})),n.listener.oo()}))})),this.stream.co((function(e){r((function(){return n.Zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Ko",value:function(){var e=this;this.state=5,this.Lo.xo(Jr(Yr().mark((function t(){return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Zo",value:function(e){return Rc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Yo",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.$o===e?n():(Rc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Gv=function(e){y(n,e);var t=k(n);function n(e,r,i,a,o,s){var u;return c(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return p(n,[{key:"tu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.Lo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Fc(void 0===t||"string"==typeof t),Mf.fromBase64String(t||"")):(Fc(void 0===t||t instanceof Uint8Array),Mf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?Uc.UNKNOWN:ep(e.code);return new Vc(t,e.message||"")}(o);n=new dp(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=Pp(e,u.document.name),c=Cp(u.document.updateTime),f=u.document.createTime?Cp(u.document.createTime):tf.min(),h=new uh({mapValue:{fields:u.document.fields}}),d=ch.newFoundDocument(l,c,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new fp(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var y=t.documentDelete;y.document;var m=Pp(e,y.document),g=y.readTime?Cp(y.readTime):tf.min(),_=ch.newNoDocument(m,g),k=y.removedTargetIds||[];n=new fp([],k,_.key,_)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Pp(e,b.document),E=b.removedTargetIds||[];n=new fp([],E,w,null)}else{if(!("filter"in t))return Mc();t.filter;var S=t.filter;S.targetId;var x=S.count,C=void 0===x?0:x,T=S.unchangedNames,I=new Jd(C,T),N=S.targetId;n=new hp(N,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return tf.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?tf.min():t.readTime?Cp(t.readTime):tf.min()}(e);return this.listener.eu(t,n)}},{key:"nu",value:function(e){var t={};t.database=Op(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Fh(r)?{documents:Fp(e,r)}:{query:jp(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Sp(e,t.resumeToken);var i=wp(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(tf.min())>0){n.readTime=Ep(e,t.snapshotVersion.toTimestamp());var a=wp(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mc()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.zo(t)}},{key:"su",value:function(e){var t={};t.database=Op(this.serializer),t.removeTarget=e,this.zo(t)}}]),n}(Kv),Qv=function(e){y(n,e);var t=k(n);function n(e,r,i,a,o,s){var u;return c(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.iu=!1,u}return p(n,[{key:"ru",get:function(){return this.iu}},{key:"start",value:function(){this.iu=!1,this.lastStreamToken=void 0,ii(m(n.prototype),"start",this).call(this)}},{key:"Jo",value:function(){this.iu&&this.ou([])}},{key:"tu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(Fc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();var t=function(e,t){return e&&e.length>0?(Fc(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Cp(e.updateTime):Cp(t);return n.isEqual(tf.min())&&(n=Cp(t)),new Ad(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Cp(e.commitTime);return this.listener.uu(n,t)}return Fc(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}},{key:"au",value:function(){var e={};e.database=Op(this.serializer),this.zo(e)}},{key:"ou",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Mp(t.serializer,e)}))};this.zo(n)}}]),n}(Kv),$v=function(e){y(n,e);var t=k(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.hu=!1,o}return p(n,[{key:"lu",value:function(){if(this.hu)throw new Vc(Uc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"po",value:function(e,t,n){var r=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=E(i,2),o=a[0],s=a[1];return r.connection.po(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Uc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Vc(Uc.UNKNOWN,e.toString())}))}},{key:"Ao",value:function(e,t,n,r){var i=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=E(a,2),s=o[0],u=o[1];return i.connection.Ao(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Uc.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Vc(Uc.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.hu=!0}}]),n}(function(){return p((function e(){c(this,e)}))}());var Yv=function(){function e(t,n){c(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}return p(e,[{key:"mu",value:function(){var e=this;0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.yu("Backend didn't respond within 10 seconds."),e.gu("Offline"),Promise.resolve()})))}},{key:"pu",value:function(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.gu("Offline")))}},{key:"set",value:function(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}},{key:"gu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"yu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.wu?(Oc(t),this.wu=!1):Rc("OnlineStateTracker",t)}},{key:"Iu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),Xv=p((function e(t,n,r,i,a){var o=this;c(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr((function(e){r.enqueueAndForget(Jr(Yr().mark((function e(){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=uy(o),!e.t0){e.next=5;break}return Rc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Jr(Yr().mark((function e(t){var n;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=jc(t)).Au.add(4),e.next=4,ey(n);case 4:return n.Pu.set("Unknown"),n.Au.delete(4),e.next=8,Jv(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Pu=new Yv(r,i)}));function Jv(e){return Zv.apply(this,arguments)}function Zv(){return Zv=Jr(Yr().mark((function e(t){var n,r,i;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!uy(t)){e.next=18;break}n=C(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Zv.apply(this,arguments)}function ey(e){return ty.apply(this,arguments)}function ty(){return ty=Jr(Yr().mark((function e(t){var n,r,i;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),ty.apply(this,arguments)}function ny(e,t){var n=jc(e);n.Eu.has(t.targetId)||(n.Eu.set(t.targetId,t),sy(n)?oy(n):Fy(n).Uo()&&iy(n,t))}function ry(e,t){var n=jc(e),r=Fy(n);n.Eu.delete(t),r.Uo()&&ay(n,t),0===n.Eu.size&&(r.Uo()?r.Qo():uy(n)&&n.Pu.set("Unknown"))}function iy(e,t){if(e.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tf.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fy(e).nu(t)}function ay(e,t){e.bu.Lt(t),Fy(e).su(t)}function oy(e){e.bu=new vp({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},he:function(t){return e.Eu.get(t)||null},oe:function(){return e.datastore.serializer.databaseId}}),Fy(e).start(),e.Pu.mu()}function sy(e){return uy(e)&&!Fy(e).qo()&&e.Eu.size>0}function uy(e){return 0===jc(e).Au.size}function ly(e){e.bu=void 0}function cy(e){return fy.apply(this,arguments)}function fy(){return fy=Jr(Yr().mark((function e(t){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Eu.forEach((function(e,n){iy(t,e)}));case 1:case"end":return e.stop()}}),e)}))),fy.apply(this,arguments)}function hy(e,t){return dy.apply(this,arguments)}function dy(){return dy=Jr(Yr().mark((function e(t,n){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ly(t),sy(t)?(t.Pu.pu(n),oy(t)):t.Pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),dy.apply(this,arguments)}function py(e,t,n){return vy.apply(this,arguments)}function vy(){return vy=Jr(Yr().mark((function e(t,n,r){var i;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Pu.set("Online"),!(n instanceof dp&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Jr(Yr().mark((function e(t,n){var r,i,a,o;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Eu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Eu.delete(o),t.bu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Rc("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,yy(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof fp?t.bu.Wt(n):n instanceof hp?t.bu.ee(n):t.bu.Yt(n),r.isEqual(tf.min())){e.next=29;break}return e.prev=14,e.next=17,Sv(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.bu.ue(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Eu.get(r);i&&e.Eu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Eu.get(t);if(r){e.Eu.set(t,r.withResumeToken(Mf.EMPTY_BYTE_STRING,r.snapshotVersion)),ay(e,t);var i=new $p(r.target,t,n,r.sequenceNumber);iy(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Rc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,yy(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),vy.apply(this,arguments)}function yy(e,t,n){return my.apply(this,arguments)}function my(){return my=Jr(Yr().mark((function e(t,n,r){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gf(n)){e.next=2;break}throw n;case 2:return t.Au.add(1),e.next=5,ey(t);case 5:t.Pu.set("Offline"),r||(r=function(){return Sv(t.localStore)}),t.asyncQueue.enqueueRetryable(Jr(Yr().mark((function e(){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rc("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Au.delete(1),e.next=6,Jv(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),my.apply(this,arguments)}function gy(e,t){return t().catch((function(n){return yy(e,n,t)}))}function _y(e){return ky.apply(this,arguments)}function ky(){return ky=Jr(Yr().mark((function e(t){var n,r,i,a;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=jc(t),r=jy(n),i=n.Tu.length>0?n.Tu[n.Tu.length-1].batchId:-1;case 2:if(!by(n)){e.next=19;break}return e.prev=3,e.next=6,Tv(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Tu.length&&r.Qo(),e.abrupt("break",19);case 10:i=a.batchId,wy(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,yy(n,e.t0);case 17:e.next=2;break;case 19:Ey(n)&&Sy(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),ky.apply(this,arguments)}function by(e){return uy(e)&&e.Tu.length<10}function wy(e,t){e.Tu.push(t);var n=jy(e);n.Uo()&&n.ru&&n.ou(t.mutations)}function Ey(e){return uy(e)&&!jy(e).qo()&&e.Tu.length>0}function Sy(e){jy(e).start()}function xy(e){return Cy.apply(this,arguments)}function Cy(){return Cy=Jr(Yr().mark((function e(t){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:jy(t).au();case 1:case"end":return e.stop()}}),e)}))),Cy.apply(this,arguments)}function Ty(e){return Iy.apply(this,arguments)}function Iy(){return Iy=Jr(Yr().mark((function e(t){var n,r,i,a;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=jy(t),r=C(t.Tu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.ou(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Iy.apply(this,arguments)}function Ny(e,t,n){return Py.apply(this,arguments)}function Py(){return Py=Jr(Yr().mark((function e(t,n,r){var i,a;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Tu.shift(),a=Yd.from(i,n,r),e.next=3,gy(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,_y(t);case 5:case"end":return e.stop()}}),e)}))),Py.apply(this,arguments)}function Ay(e,t){return Ry.apply(this,arguments)}function Ry(){return Ry=Jr(Yr().mark((function e(t,n){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&jy(t).ru,!e.t0){e.next=4;break}return e.next=4,function(){var e=Jr(Yr().mark((function e(t,n){var r,i;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Zd(i=n.code)||i===Uc.ABORTED){e.next=7;break}return r=t.Tu.shift(),jy(t).Go(),e.next=5,gy(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,_y(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Ey(t)&&Sy(t);case 5:case"end":return e.stop()}}),e)}))),Ry.apply(this,arguments)}function Oy(e,t){return Dy.apply(this,arguments)}function Dy(){return Dy=Jr(Yr().mark((function e(t,n){var r,i;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=jc(t)).asyncQueue.verifyOperationInProgress(),Rc("RemoteStore","RemoteStore received new credentials"),i=uy(r),r.Au.add(3),e.next=6,ey(r);case 6:return i&&r.Pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Au.delete(3),e.next=12,Jv(r);case 12:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}function Ly(e,t){return My.apply(this,arguments)}function My(){return My=Jr(Yr().mark((function e(t,n){var r;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jc(t),!n){e.next=7;break}return r.Au.delete(2),e.next=5,Jv(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Au.add(2),e.next=12,ey(r);case 12:r.Pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),My.apply(this,arguments)}function Fy(e){return e.Vu||(e.Vu=function(e,t,n){var r=jc(e);return r.lu(),new Gv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:cy.bind(null,e),co:hy.bind(null,e),eu:py.bind(null,e)}),e.Ru.push(function(){var t=Jr(Yr().mark((function t(n){return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Vu.Go(),sy(e)?oy(e):e.Pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Vu.stop();case 6:ly(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Vu}function jy(e){return e.Su||(e.Su=function(e,t,n){var r=jc(e);return r.lu(),new Qv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:xy.bind(null,e),co:Ay.bind(null,e),cu:Ty.bind(null,e),uu:Ny.bind(null,e)}),e.Ru.push(function(){var t=Jr(Yr().mark((function t(n){return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Su.Go(),t.next=4,_y(e);case 4:t.next=9;break;case 6:return t.next=8,e.Su.stop();case 8:e.Tu.length>0&&(Rc("RemoteStore","Stopping write stream with ".concat(e.Tu.length," pending writes")),e.Tu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}var Uy=function(){function e(t,n,r,i,a){c(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Bc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return p(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vc(Uc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Vy(e,t){if(Oc("AsyncQueue","".concat(t,": ").concat(e)),gf(e))return new Vc(Uc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var By=function(){function e(t){c(this,e),this.comparator=t?function(e,n){return t(e,n)||sf.comparator(e.key,n.key)}:function(e,t){return sf.comparator(e.key,t.key)},this.keyedMap=od(),this.sortedSet=new Nf(this.comparator)}return p(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),zy=function(){function e(){c(this,e),this.Du=new Nf(sf.comparator)}return p(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Du.get(t);n?0!==e.type&&3===n.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==n.type?this.Du=this.Du.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Du=this.Du.remove(t):1===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):Mc():this.Du=this.Du.insert(t,e)}},{key:"Cu",value:function(){var e=[];return this.Du.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),qy=function(){function e(t,n,r,i,a,o,s,u,l){c(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}return p(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,By.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Hy=p((function e(){c(this,e),this.xu=void 0,this.listeners=[]})),Wy=p((function e(){c(this,e),this.queries=new nd((function(e){return Yh(e)}),$h),this.onlineState="Unknown",this.Nu=new Set}));function Ky(e,t){return Gy.apply(this,arguments)}function Gy(){return Gy=Jr(Yr().mark((function e(t,n){var r,i,a,o,s;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jc(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Hy),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.xu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Vy(e.t0,"Initialization of query '".concat(Xh(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ku(r.onlineState),o.xu&&n.Mu(o.xu)&&Jy(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Gy.apply(this,arguments)}function Qy(e,t){return $y.apply(this,arguments)}function $y(){return $y=Jr(Yr().mark((function e(t,n){var r,i,a,o,s;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jc(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),$y.apply(this,arguments)}function Yy(e,t){var n,r=jc(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=C(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Mu(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}u.xu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Jy(r)}function Xy(e,t,n){var r=jc(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Jy(e){e.Nu.forEach((function(e){e.next()}))}var Zy=function(){function e(t,n,r){c(this,e),this.query=t,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}return p(e,[{key:"Mu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new qy(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),a=!0):this.Lu(e,this.onlineState)&&(this.qu(e),a=!0),this.Fu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"ku",value:function(e){this.onlineState=e;var t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}},{key:"Lu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Uu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Bu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"qu",value:function(e){e=qy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}]),e}();var em=p((function e(t){c(this,e),this.key=t})),tm=p((function e(t){c(this,e),this.key=t})),nm=function(){function e(t,n){c(this,e),this.query=t,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=dd(),this.mutatedKeys=dd(),this.Zu=ed(t),this.tc=new By(this.Zu)}return p(e,[{key:"ec",get:function(){return this.Ju}},{key:"nc",value:function(e,t){var n=this,r=t?t.sc:new zy,i=t?t.tc:this.tc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Jh(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ic(c,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Zu(f,u)>0||l&&n.Zu(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{tc:o,sc:r,ji:s,mutatedKeys:a}}},{key:"ic",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;var a=e.sc.Cu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mc()}};return n(e)-n(t)}(e.type,t.type)||r.Zu(e.doc,t.doc)})),this.rc(n);var o=t?this.oc():[],s=0===this.Xu.size&&this.current?1:0,u=s!==this.Yu;return this.Yu=s,0!==a.length||u?{snapshot:new qy(this.query,e.tc,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}},{key:"ku",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new zy,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}},{key:"cc",value:function(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}},{key:"rc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ju=t.Ju.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ju=t.Ju.delete(e)})),this.current=e.current)}},{key:"oc",value:function(){var e=this;if(!this.current)return[];var t=this.Xu;this.Xu=dd(),this.tc.forEach((function(t){e.cc(t.key)&&(e.Xu=e.Xu.add(t.key))}));var n=[];return t.forEach((function(t){e.Xu.has(t)||n.push(new tm(t))})),this.Xu.forEach((function(e){t.has(e)||n.push(new em(e))})),n}},{key:"ac",value:function(e){this.Ju=e.sr,this.Xu=dd();var t=this.nc(e.documents);return this.applyChanges(t,!0)}},{key:"hc",value:function(){return qy.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}]),e}(),rm=p((function e(t,n,r){c(this,e),this.query=t,this.targetId=n,this.view=r})),im=p((function e(t){c(this,e),this.key=t,this.lc=!1})),am=function(){function e(t,n,r,i,a,o){c(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new nd((function(e){return Yh(e)}),$h),this._c=new Map,this.wc=new Set,this.mc=new Nf(sf.comparator),this.gc=new Map,this.yc=new uv,this.Ic={},this.Tc=new Map,this.Ec=nv.kn(),this.onlineState="Unknown",this.Ac=void 0}return p(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ac}}]),e}();function om(e,t){return sm.apply(this,arguments)}function sm(){return sm=Jr(Yr().mark((function e(t,n){var r,i,a,o,s,u;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Lm(t),!(o=r.dc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.hc(),e.next=15;break;case 6:return e.next=8,Iv(r.localStore,Kh(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,um(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&ny(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),sm.apply(this,arguments)}function um(e,t,n,r,i){return lm.apply(this,arguments)}function lm(){return lm=Jr(Yr().mark((function e(t,n,r,i,a){var o,s,u,l,c,f;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=Jr(Yr().mark((function e(t,n,r,i){var a,o,s;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.nc(r),e.t0=a.ji,!e.t0){e.next=6;break}return e.next=5,Av(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.nc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Tm(t,n.targetId,s.uc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Av(t.localStore,n,!0);case 3:return o=e.sent,s=new nm(n,o.sr),u=s.nc(o.documents),l=cp.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),c=s.applyChanges(u,t.isPrimaryClient,l),Tm(t,r,c.uc),f=new rm(n,r,s),e.abrupt("return",(t.dc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),lm.apply(this,arguments)}function cm(e,t){return fm.apply(this,arguments)}function fm(){return fm=Jr(Yr().mark((function e(t,n){var r,i,a;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=jc(t),i=r.dc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!$h(e,n)}))),void r.dc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Nv(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),ry(r.remoteStore,i.targetId),xm(r,i.targetId)})).catch(vf);case 9:e.next=14;break;case 11:return xm(r,i.targetId),e.next=14,Nv(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),fm.apply(this,arguments)}function hm(e,t,n){return dm.apply(this,arguments)}function dm(){return dm=Jr(Yr().mark((function e(t,n,r){var i,a,o;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mm(t),e.prev=1,e.next=4,function(e,t){var n,r,i=jc(e),a=ef.now(),o=t.reduce((function(e,t){return e.add(t.key)}),dd());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=id(),u=dd();return i.Xi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=C(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=jd(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new Bd(l.key,c,lh(c.value.mapValue),Rd.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:sd(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ic[e.currentUser.toKey()];r||(r=new Nf(Jc)),r=r.insert(t,n),e.Ic[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Pm(i,a.changes);case 9:return e.next=11,_y(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Vy(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),dm.apply(this,arguments)}function pm(e,t){return vm.apply(this,arguments)}function vm(){return vm=Jr(Yr().mark((function e(t,n){var r,i;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jc(t),e.prev=1,e.next=4,xv(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.gc.get(t);n&&(Fc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.lc=!0:e.modifiedDocuments.size>0?Fc(n.lc):e.removedDocuments.size>0&&(Fc(n.lc),n.lc=!1))})),e.next=8,Pm(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,vf(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),vm.apply(this,arguments)}function ym(e,t,n){var r=jc(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.dc.forEach((function(e,n){var r=n.view.ku(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=jc(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ku(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Jy(n)}(r.eventManager,t),i.length&&r.fc.eu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function mm(e,t,n){return gm.apply(this,arguments)}function gm(){return gm=Jr(Yr().mark((function e(t,n,r){var i,a,o,s,u,l;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=jc(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.gc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Nf(sf.comparator)).insert(o,ch.newNoDocument(o,tf.min())),u=dd().add(o),l=new lp(tf.min(),new Map,new Nf(Jc),s,u),e.next=9,pm(i,l);case 9:i.mc=i.mc.remove(o),i.gc.delete(n),Nm(i),e.next=16;break;case 14:return e.next=16,Nv(i.localStore,n,!1).then((function(){return xm(i,n,r)})).catch(vf);case 16:case"end":return e.stop()}}),e)}))),gm.apply(this,arguments)}function _m(e,t){return km.apply(this,arguments)}function km(){return km=Jr(Yr().mark((function e(t,n){var r,i,a;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jc(t),i=n.batch.batchId,e.prev=1,e.next=4,Ev(r.localStore,n);case 4:return a=e.sent,Sm(r,i,null),Em(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Pm(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),km.apply(this,arguments)}function bm(e,t,n){return wm.apply(this,arguments)}function wm(){return wm=Jr(Yr().mark((function e(t,n,r){var i,a;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=jc(t),e.prev=1,e.next=4,function(e,t){var n=jc(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Fc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Sm(i,n,r),Em(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Pm(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vf(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),wm.apply(this,arguments)}function Em(e,t){(e.Tc.get(t)||[]).forEach((function(e){e.resolve()})),e.Tc.delete(t)}function Sm(e,t,n){var r=jc(e),i=r.Ic[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ic[r.currentUser.toKey()]=i}}function xm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.dc.delete(a),n&&e.fc.vc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.yc.ps(t).forEach((function(t){e.yc.containsKey(t)||Cm(e,t)}))}function Cm(e,t){e.wc.delete(t.path.canonicalString());var n=e.mc.get(t);null!==n&&(ry(e.remoteStore,n),e.mc=e.mc.remove(t),e.gc.delete(n),Nm(e))}function Tm(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof em?(e.yc.addReference(a.key,t),Im(e,a)):a instanceof tm?(Rc("SyncEngine","Document no longer in limbo: "+a.key),e.yc.removeReference(a.key,t),e.yc.containsKey(a.key)||Cm(e,a.key)):Mc()}}catch(o){i.e(o)}finally{i.f()}}function Im(e,t){var n=t.key,r=n.path.canonicalString();e.mc.get(n)||e.wc.has(r)||(Rc("SyncEngine","New document in limbo: "+n),e.wc.add(r),Nm(e))}function Nm(e){for(;e.wc.size>0&&e.mc.size<e.maxConcurrentLimboResolutions;){var t=e.wc.values().next().value;e.wc.delete(t);var n=new sf(rf.fromString(t)),r=e.Ec.next();e.gc.set(r,new im(n)),e.mc=e.mc.insert(n,r),ny(e.remoteStore,new $p(Kh(Vh(n.path)),r,"TargetPurposeLimboResolution",_f.ct))}}function Pm(e,t,n){return Am.apply(this,arguments)}function Am(){return Am=Jr(Yr().mark((function e(t,n,r){var i,a,o,s;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=jc(t),a=[],o=[],s=[],e.t0=i.dc.isEmpty(),e.t0){e.next=9;break}return i.dc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=mv.Bi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.fc.eu(a),e.next=9,function(){var e=Jr(Yr().mark((function e(t,n){var r,i,a,o,s,u,l,c;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=jc(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return mf.forEach(n,(function(t){return mf.forEach(t.$i,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return mf.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),gf(e.t0)){e.next=10;break}throw e.t0;case 10:Rc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Hi.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.Hi=r.Hi.insert(s,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}function Rm(e,t){return Om.apply(this,arguments)}function Om(){return Om=Jr(Yr().mark((function e(t,n){var r,i;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=jc(t)).currentUser.isEqual(n)){e.next=11;break}return Rc("SyncEngine","User change. New user:",n.toKey()),e.next=5,bv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Tc.forEach((function(e){e.forEach((function(e){e.reject(new Vc(Uc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Tc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Pm(r,i.tr);case 11:case"end":return e.stop()}}),e)}))),Om.apply(this,arguments)}function Dm(e,t){var n=jc(e),r=n.gc.get(t);if(r&&r.lc)return dd().add(r.key);var i=dd(),a=n._c.get(t);if(!a)return i;var o,s=C(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.dc.get(u);i=i.unionWith(l.view.ec)}}catch(c){s.e(c)}finally{s.f()}return i}function Lm(e){var t=jc(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mm.bind(null,t),t.fc.eu=Yy.bind(null,t.eventManager),t.fc.vc=Xy.bind(null,t.eventManager),t}function Mm(e){var t=jc(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_m.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bm.bind(null,t),t}var Fm=function(){function e(){c(this,e),this.synchronizeTabs=!1}return p(e,[{key:"initialize",value:function(){var e=Jr(Yr().mark((function e(t){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Hv(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return kv(this.persistence,new gv,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new pv(yv.js,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Dv}},{key:"terminate",value:function(){var e=Jr(Yr().mark((function e(){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),jm=function(){function e(){c(this,e)}return p(e,[{key:"initialize",value:function(){var e=Jr(Yr().mark((function e(t,n){var r=this;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ym(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Rm.bind(null,this.syncEngine),e.next=12,Ly(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Wy}},{key:"createDatastore",value:function(e){var t,n=Hv(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new zv(t));return function(e,t,n,r){return new $v(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ym(o.syncEngine,e,0)},a=Mv.D()?new Mv:new Lv,new Xv(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new am(e,t,n,r,i,a);return o&&(s.Ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Jr(Yr().mark((function e(t){var n;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jc(t),Rc("RemoteStore","RemoteStore shutting down."),n.Au.add(5),e.next=5,ey(n);case 5:n.vu.shutdown(),n.Pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Um=function(){function e(t){c(this,e),this.observer=t,this.muted=!1}return p(e,[{key:"next",value:function(e){this.observer.next&&this.Vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Vc(this.observer.error,e):Oc("Uncaught Error in snapshot listener:",e.toString())}},{key:"Sc",value:function(){this.muted=!0}},{key:"Vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Vm=function(){function e(t,n,r,i){var a=this;c(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ic.UNAUTHENTICATED,this.clientId=Xc.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Jr(Yr().mark((function e(t){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rc("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Rc("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return p(e,[{key:"getConfiguration",value:function(){var e=Jr(Yr().mark((function e(){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Vc(Uc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Bc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Jr(Yr().mark((function n(){var r;return Yr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Vy(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Bm(e,t){return zm.apply(this,arguments)}function zm(){return zm=Jr(Yr().mark((function e(t,n){var r,i;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Rc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Jr(Yr().mark((function e(t){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,bv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),zm.apply(this,arguments)}function qm(e,t){return Hm.apply(this,arguments)}function Hm(){return Hm=Jr(Yr().mark((function e(t,n){var r,i;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Km(t);case 3:return r=e.sent,Rc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Oy(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Oy(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Hm.apply(this,arguments)}function Wm(e){return"FirebaseError"===e.name?e.code===Uc.FAILED_PRECONDITION||e.code===Uc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function Km(e){return Gm.apply(this,arguments)}function Gm(){return Gm=Jr(Yr().mark((function e(t){var n;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Rc("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,Bm(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),Wm(n=e.t0)){e.next=13;break}throw n;case 13:return Dc("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,Bm(t,new Fm);case 16:e.next=21;break;case 18:return Rc("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,Bm(t,new Fm);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),Gm.apply(this,arguments)}function Qm(e){return $m.apply(this,arguments)}function $m(){return $m=Jr(Yr().mark((function e(t){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Rc("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,qm(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Rc("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,qm(t,new jm);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),$m.apply(this,arguments)}function Ym(e){return Qm(e).then((function(e){return e.syncEngine}))}function Xm(e){return Jm.apply(this,arguments)}function Jm(){return Jm=Jr(Yr().mark((function e(t){var n,r;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qm(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=om.bind(null,n.syncEngine),r.onUnlisten=cm.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Jm.apply(this,arguments)}function Zm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Bc;return e.asyncQueue.enqueueAndForget(Jr(Yr().mark((function i(){return Yr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Um({next:function(n){t.enqueueAndForget((function(){return Qy(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Vc(Uc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Zy(n,a,{includeMetadataChanges:!0,Uu:!0});return Ky(e,o)},i.next=3,Xm(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var eg=new Map;function tg(e,t,n){if(!n)throw new Vc(Uc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ng(e){if(!sf.isDocumentKey(e))throw new Vc(Uc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function rg(e){if(sf.isDocumentKey(e))throw new Vc(Uc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ig(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Mc()}function ag(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vc(Uc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ig(e);throw new Vc(Uc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var og=function(){function e(t){var n;if(c(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Vc(Uc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Vc(Uc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Vc(Uc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling||void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}return p(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),sg=function(){function e(t,n,r,i){c(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new og({}),this._settingsFrozen=!1}return p(e,[{key:"app",get:function(){if(!this._app)throw new Vc(Uc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Vc(Uc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new og(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qc;switch(e.type){case"firstParty":return new Gc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Vc(Uc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=eg.get(e);t&&(Rc("ComponentProvider","Removing Datastore"),eg.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function ug(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=ag(e,sg))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Dc("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Ic.MOCK_USER;else{o=Ei(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Vc(Uc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Ic(u)}e._authCredentials=new Hc(new zc(o,s))}}var lg=function(){function e(t,n,r){c(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return p(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new fg(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),cg=function(){function e(t,n,r){c(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return p(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),fg=function(e){y(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,r,Vh(i)))._path=i,a.type="collection",a}return p(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new lg(this.firestore,null,new sf(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(cg);function hg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Hi(e),tg("collection","path",t),e instanceof sg){var a=rf.fromString.apply(rf,[t].concat(r));return rg(a),new fg(e,null,a)}if(!(e instanceof lg||e instanceof fg))throw new Vc(Uc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(rf.fromString.apply(rf,[t].concat(r)));return rg(o),new fg(e.firestore,null,o)}function dg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Hi(e),1===arguments.length&&(t=Xc.A()),tg("doc","path",t),e instanceof sg){var a=rf.fromString.apply(rf,[t].concat(r));return ng(a),new lg(e,null,new sf(a))}if(!(e instanceof lg||e instanceof fg))throw new Vc(Uc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(rf.fromString.apply(rf,[t].concat(r)));return ng(o),new lg(e.firestore,e instanceof fg?e.converter:null,new sf(o))}var pg=function(){function e(){var t=this;c(this,e),this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new Wv(this,"async_queue_retry"),this.Yc=function(){var e=qv();e&&Rc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Lo.ko()};var n=qv();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Yc)}return p(e,[{key:"isShuttingDown",get:function(){return this.Qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Xc(),this.Zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;var t=qv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Xc(),this.Qc)return new Promise((function(){}));var n=new Bc;return this.Zc((function(){return t.Qc&&t.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Gc.push(e),t.ta()}))}},{key:"ta",value:function(){var e=Jr(Yr().mark((function e(){var t=this;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Gc.length){e.next=14;break}return e.prev=1,e.next=4,this.Gc[0]();case 4:this.Gc.shift(),this.Lo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),gf(e.t0)){e.next=12;break}throw e.t0;case 12:Rc("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Gc.length>0&&this.Lo.xo((function(){return t.ta()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t=this,n=this.Kc.then((function(){return t.Wc=!0,e().catch((function(e){t.zc=e,t.Wc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Oc("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Wc=!1,e}))}));return this.Kc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);var i=Uy.createAndSchedule(this,e,t,n,(function(e){return r.ea(e)}));return this.jc.push(i),i}},{key:"Xc",value:function(){this.zc&&Mc()}},{key:"verifyOperationInProgress",value:function(){}},{key:"na",value:function(){var e=Jr(Yr().mark((function e(){var t;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Kc,e.next=3,t;case 3:if(t!==this.Kc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sa",value:function(e){var t,n=C(this.jc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ia",value:function(e){var t=this;return this.na().then((function(){t.jc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.jc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.na()}))}},{key:"ra",value:function(e){this.Jc.push(e)}},{key:"ea",value:function(e){var t=this.jc.indexOf(e);this.jc.splice(t,1)}}]),e}();var vg=function(e){y(n,e);var t=k(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new pg,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return p(n,[{key:"_terminate",value:function(){return this._firestoreClient||mg(this),this._firestoreClient.terminate()}}]),n}(sg);function yg(e){return e._firestoreClient||mg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function mg(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Hf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Vm(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}var gg=function(){function e(t){c(this,e),this._byteString=t}return p(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Mf.fromBase64String(t))}catch(t){throw new Vc(Uc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Mf.fromUint8Array(t))}}]),e}(),_g=function(){function e(){c(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Vc(Uc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new of(n)}return p(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var kg=p((function e(t){c(this,e),this._methodName=t})),bg=function(){function e(t,n){if(c(this,e),!isFinite(t)||t<-90||t>90)throw new Vc(Uc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Vc(Uc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return p(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Jc(this._lat,e._lat)||Jc(this._long,e._long)}}]),e}(),wg=/^__.*__$/,Eg=function(){function e(t,n,r){c(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Bd(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vd(e,this.data,t,this.fieldTransforms)}}]),e}(),Sg=function(){function e(t,n,r){c(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return new Bd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function xg(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mc()}}var Cg=function(){function e(t,n,r,i,a,o){c(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return p(e,[{key:"path",get:function(){return this.settings.path}},{key:"ua",get:function(){return this.settings.ua}},{key:"ca",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"aa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.la(e),r}},{key:"fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.oa(),r}},{key:"da",value:function(e){return this.ca({path:void 0,ha:!0})}},{key:"_a",value:function(e){return Bg(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"oa",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.la(this.path.get(e))}},{key:"la",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(xg(this.ua)&&wg.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),Tg=function(){function e(t,n,r){c(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Hv(t)}return p(e,[{key:"ga",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Cg({ua:e,methodName:t,ma:n,path:of.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function Ig(e){var t=e._freezeSettings(),n=Hv(e._databaseId);return new Tg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ng(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ga(a.merge||a.mergeFields?2:0,t,n,i);Fg("Data must be an object, but it was:",o,r);var s,u,l=Lg(r,o);if(a.merge)s=new Df(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=C(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=jg(t,c.value,n);if(!o.contains(d))throw new Vc(Uc.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));zg(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Df(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Eg(new uh(l),s,u)}var Pg=function(e){y(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ua)throw 1===e.ua?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(kg);function Ag(e,t,n,r){var i=e.ga(1,t,n);Fg("Data must be an object, but it was:",i,r);var a=[],o=uh.empty();Tf(r,(function(e,r){var s=Vg(t,e,n);r=Hi(r);var u=i.fa(s);if(r instanceof Pg)a.push(s);else{var l=Dg(r,u);null!=l&&(a.push(s),o.set(s,l))}}));var s=new Df(a);return new Sg(o,s,i.fieldTransforms)}function Rg(e,t,n,r,i,a){var o=e.ga(1,t,n),s=[jg(t,r,n)],u=[i];if(a.length%2!=0)throw new Vc(Uc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)s.push(jg(t,a[l])),u.push(a[l+1]);for(var c=[],f=uh.empty(),h=s.length-1;h>=0;--h)if(!zg(c,s[h])){var d=s[h],p=u[h];p=Hi(p);var v=o.fa(d);if(p instanceof Pg)c.push(d);else{var y=Dg(p,v);null!=y&&(c.push(d),f.set(d,y))}}var m=new Df(c);return new Sg(f,m,o.fieldTransforms)}function Og(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Dg(n,e.ga(r?4:3,t))}function Dg(e,t){if(Mg(e=Hi(e)))return Fg("Unsupported field value:",t,e),Lg(e,t);if(e instanceof kg)return function(e,t){if(!xg(t.ua))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ha&&4!==t.ua)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=Dg(n.value,t.da(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Hi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ef.fromDate(e);return{timestampValue:Ep(t.serializer,n)}}if(e instanceof ef){var r=new ef(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ep(t.serializer,r)}}if(e instanceof bg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof gg)return{bytesValue:Sp(t.serializer,e._byteString)};if(e instanceof lg){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Tp(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(ig(e)))}(e,t)}function Lg(e,t){var n={};return If(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Tf(e,(function(e,r){var i=Dg(r,t.aa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Mg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ef||e instanceof bg||e instanceof gg||e instanceof lg||e instanceof kg)}function Fg(e,t,n){if(!Mg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ig(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function jg(e,t,n){if((t=Hi(t))instanceof _g)return t._internalPath;if("string"==typeof t)return Vg(e,t);throw Bg("Field path arguments must be of type string or ",e,!1,void 0,n)}var Ug=new RegExp("[~\\*/\\[\\]]");function Vg(e,t,n){if(t.search(Ug)>=0)throw Bg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(_g,l(t.split(".")))._internalPath}catch(kt){throw Bg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Bg(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new Vc(Uc.INVALID_ARGUMENT,s+e+u)}function zg(e,t){return e.some((function(e){return e.isEqual(t)}))}var qg=function(){function e(t,n,r,i,a){c(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return p(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new lg(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Hg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Wg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Hg=function(e){y(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){return ii(m(n.prototype),"data",this).call(this)}}]),n}(qg);function Wg(e,t){return"string"==typeof t?Vg(e,t):t instanceof _g?t._internalPath:t._delegate._internalPath}function Kg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Vc(Uc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gg=p((function e(){c(this,e)})),Qg=function(e){y(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n)}(Gg);function $g(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Gg&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Jg})).length,n=e.filter((function(e){return e instanceof Yg})).length;if(t>1||t>0&&n>0)throw new Vc(Uc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=C(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var Yg=function(e){y(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return p(n,[{key:"_apply",value:function(e){var t=this._parse(e);return t_(e._query,t),new cg(e.firestore,e.converter,Gh(e._query,t))}},{key:"_parse",value:function(e){var t=Ig(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Vc(Uc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){e_(o,a);var u,l=[],c=C(o);try{for(c.s();!(u=c.n()).done;){var f=u.value;l.push(Zg(r,e,f))}}catch(h){c.e(h)}finally{c.f()}s={arrayValue:{values:l}}}else s=Zg(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||e_(o,a),s=Og(n,"where",o,"in"===a||"not-in"===a);return mh.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Qg);function Xg(e,t,n){var r=t,i=Wg("where",e);return Yg._create(i,r,n)}var Jg=function(e){y(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return p(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:gh.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;t_(r,a),r=Gh(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new cg(e.firestore,e.converter,Gh(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Gg);function Zg(e,t,n){if("string"==typeof(n=Hi(n))){if(""===n)throw new Vc(Uc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hh(t)&&-1!==n.indexOf("/"))throw new Vc(Uc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(rf.fromString(n));if(!sf.isDocumentKey(r))throw new Vc(Uc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return eh(e,new sf(r))}if(n instanceof lg)return eh(e,n._key);throw new Vc(Uc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ig(n),"."))}function e_(e,t){if(!Array.isArray(e)||0===e.length)throw new Vc(Uc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function t_(e,t){if(t.isInequality()){var n=qh(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Vc(Uc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=zh(e);null!==i&&n_(e,r,i)}var a=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Vc(Uc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Vc(Uc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function n_(e,t,n){if(!n.isEqual(t))throw new Vc(Uc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var r_=function(){function e(){c(this,e)}return p(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Uf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mc()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Tf(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new bg(Uf(e.latitude),Uf(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=zf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(qf(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=jf(e);return new ef(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=rf.fromString(e);Fc(Qp(n));var r=new Wf(n.get(1),n.get(3)),i=new sf(n.popFirst(5));return r.isEqual(t)||Oc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function i_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var a_=function(){function e(t,n){c(this,e),this.hasPendingWrites=t,this.fromCache=n}return p(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),o_=function(e){y(n,e);var t=k(n);function n(e,r,i,a,o,s){var u;return c(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return p(n,[{key:"exists",value:function(){return ii(m(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new s_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Wg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(qg),s_=function(e){y(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ii(m(n.prototype),"data",this).call(this,e)}}]),n}(o_),u_=function(){function e(t,n,r,i){c(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new a_(i.hasPendingWrites,i.fromCache),this.query=r}return p(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new s_(n._firestore,n._userDataWriter,r.key,r,new a_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Vc(Uc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new s_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new a_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new s_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new a_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:l_(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function l_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mc()}}var c_=function(e){y(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new gg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new lg(this.firestore,null,t)}}]),n}(r_);function f_(e){e=ag(e,cg);var t=ag(e.firestore,vg),n=yg(t),r=new c_(t);return Kg(e._query),Zm(n,e._query).then((function(n){return new u_(t,r,e,n)}))}function h_(e,t,n){e=ag(e,lg);var r=ag(e.firestore,vg),i=i_(e.converter,t,n);return v_(r,[Ng(Ig(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Rd.none())])}function d_(e,t,n){e=ag(e,lg);for(var r=ag(e.firestore,vg),i=Ig(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return v_(r,[("string"==typeof(t=Hi(t))||t instanceof _g?Rg(i,"updateDoc",e._key,t,n,o):Ag(i,"updateDoc",e._key,t)).toMutation(e._key,Rd.exists(!0))])}function p_(e){return v_(ag(e.firestore,vg),[new Gd(e._key,Rd.none())])}function v_(e,t){return function(e,t){var n=new Bc;return e.asyncQueue.enqueueAndForget(Jr(Yr().mark((function r(){return Yr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=hm,r.next=3,Ym(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(yg(e),t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Nc=e}(Ma),Aa(new Wi("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new vg(new Wc(e.getProvider("auth-internal")),new $c(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vc(Uc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wf(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ua(Tc,"3.11.0",e),Ua(Tc,"3.11.0","esm2017")}();Ua("firebase","9.21.0","app");var y_="@firebase/database",m_="0.14.4",g_="";var __=function(){function e(t){c(this,e),this.domStorage_=t,this.prefix_="firebase:"}return p(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Oi(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ri(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),k_=function(){function e(){c(this,e),this.cache_={},this.isInMemoryStorage=!0}return p(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Li(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),b_=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new __(t)}}catch(n){}return new k_},w_=b_("localStorage"),E_=b_("sessionStorage"),S_=new na("@firebase/database"),x_=function(){var e=1;return function(){return e++}}(),C_=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,ui(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Bi;n.update(t);var r=n.digest();return fi.encodeByteArray(r)},T_=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Oi(r):r,t+=" "}return t},I_=null,N_=!0,P_=function(e,t){ui(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(S_.logLevel=$i.VERBOSE,I_=S_.log.bind(S_),t&&E_.set("logging_enabled",!0)):"function"===typeof e?I_=e:(I_=null,E_.remove("logging_enabled"))},A_=function(){if(!0===N_&&(N_=!1,null===I_&&!0===E_.get("logging_enabled")&&P_(!0)),I_){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=T_.apply(null,t);I_(r)}},R_=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];A_.apply(void 0,[e].concat(n))}},O_=function(){var e="FIREBASE INTERNAL ERROR: "+T_.apply(void 0,arguments);S_.error(e)},D_=function(){var e="FIREBASE FATAL ERROR: ".concat(T_.apply(void 0,arguments));throw S_.error(e),new Error(e)},L_=function(){var e="FIREBASE WARNING: "+T_.apply(void 0,arguments);S_.warn(e)},M_=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},F_="[MIN_NAME]",j_="[MAX_NAME]",U_=function(e,t){if(e===t)return 0;if(e===F_||t===j_)return-1;if(t===F_||e===j_)return 1;var n=G_(e),r=G_(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},V_=function(e,t){return e===t?0:e<t?-1:1},B_=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Oi(t))},z_=function e(t){if("object"!==typeof t||null===t)return Oi(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Oi(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},q_=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function H_(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var W_=function(e){ui(!M_(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var K_=new RegExp("^-?(0*)\\d{1,10}$"),G_=function(e){if(K_.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Q_=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw L_("Exception was thrown by user callback.",e),t}),Math.floor(0))}},$_=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},Y_=function(){function e(t,n){var r=this;c(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return p(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){L_('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),X_=function(){function e(t,n,r){var i=this;c(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return p(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(A_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',L_(e)}}]),e}(),J_=function(){function e(t){c(this,e),this.accessToken=t}return p(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();J_.OWNER="owner";var Z_="5",ek=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tk="ac",nk="websocket",rk="long_polling",ik=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];c(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=w_.get("host:"+t)||this._host}return p(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&w_.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function ak(e,t,n){var r;if(ui("string"===typeof t,"typeof type must == string"),ui("object"===typeof n,"typeof params must == object"),t===nk)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==rk)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return H_(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var ok=function(){function e(){c(this,e),this.counters_={}}return p(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Li(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return yi(this.counters_)}}]),e}(),sk={},uk={};function lk(e){var t=e.toString();return sk[t]||(sk[t]=new ok),sk[t]}var ck=function(){function e(t){c(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return p(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Q_((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),fk="start",hk=function(){function e(t,n,r,i,a,o,s){var u=this;c(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=R_(t),this.stats_=lk(n),this.urlFn=function(e){return u.appCheckToken&&(e[tk]=u.appCheckToken),ak(n,rk,e)}}return p(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ck(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Ti()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new dk((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===fk)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[fk]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Z_,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[tk]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ek.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Oi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=di(t),r=q_(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Ti()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Oi(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Ti()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),dk=function(){function e(t,n,r,i){if(c(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Ti())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=x_(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){A_("frame writing exception"),s.stack&&A_(s.stack),A_(s)}}}return p(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Ti()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){A_("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||A_("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),pk=null;"undefined"!==typeof MozWebSocket?pk=MozWebSocket:"undefined"!==typeof WebSocket&&(pk=WebSocket);var vk=function(){function e(t,n,r,i,a,o,s){c(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=R_(this.connId),this.stats_=lk(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return p(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,w_.set("previous_websocket_failure",!0);try{var r;if(Ti()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(Z_,"/").concat(g_,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/humans-base",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDQ5ORJnTxV5XhhzAtjZNGM_boRZ59lqLc",REACT_APP_FIREBASE_AUTH_DOMAIN:"human-base.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"human-base",REACT_APP_FIREBASE_STORAGE_BUCKET:"human-base.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"754877585259",REACT_APP_FIREBASE_APP_ID:"1:754877585259:web:c4265c5f14ff82f84bde2e"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new pk(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){w_.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Ri(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(ui(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Oi(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=q_(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Z_,!Ti()&&"undefined"!==typeof location&&location.hostname&&ek.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[tk]=r),i&&(a.p=i),ak(e,nk,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==pk&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return w_.isInMemoryStorage||!0===w_.get("previous_websocket_failure")}}]),e}();vk.responsesRequiredToBeHealthy=2,vk.healthyTimeout=3e4;var yk=function(){function e(t){c(this,e),this.initTransports_(t)}return p(e,[{key:"initTransports_",value:function(t){var n=vk&&vk.isAvailable(),r=n&&!vk.previouslyFailed();if(t.webSocketOnly&&(n||L_("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[vk];else{var i,a=this.transports_=[],o=C(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[hk,vk]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();yk.globalTransportInitialized_=!1;var mk=function(){function e(t,n,r,i,a,o,s,u,l,f){c(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=R_("c:"+this.id+":"),this.transportManager_=new yk(n),this.log_("Connection created"),this.start_()}return p(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=$_((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=B_("t",e),n=B_("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=B_("t",e),n=B_("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=B_("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?O_("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):O_("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Z_!==n&&L_("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),$_((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$_((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(w_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),gk=function(){function e(){c(this,e)}return p(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),_k=function(){function e(t){c(this,e),this.allowedEvents_=t,this.listeners_={},ui(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return p(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=l(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){ui(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),kk=function(e){y(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||xi()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return p(n,[{key:"getInitialEvent",value:function(e){return ui("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(_k),bk=32,wk=768,Ek=function(){function e(t,n){if(c(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return p(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Sk(){return new Ek("")}function xk(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ck(e){return e.pieces_.length-e.pieceNum_}function Tk(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ek(e.pieces_,t)}function Ik(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Nk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Pk(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ek(t,0)}function Ak(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ek)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Ek(n,0)}function Rk(e){return e.pieceNum_>=e.pieces_.length}function Ok(e,t){var n=xk(e),r=xk(t);if(null===n)return t;if(n===r)return Ok(Tk(e),Tk(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Dk(e,t){if(Ck(e)!==Ck(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Lk(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ck(e)>Ck(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Mk=p((function e(t,n){c(this,e),this.errorPrefix_=n,this.parts_=Nk(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=qi(this.parts_[r]);Fk(this)}));function Fk(e){if(e.byteLength_>wk)throw new Error(e.errorPrefix_+"has a key path longer than "+wk+" bytes ("+e.byteLength_+").");if(e.parts_.length>bk)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+bk+") or object contains a cycle "+jk(e))}function jk(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Uk=function(e){y(n,e);var t=k(n);function n(){var e,r,i;return c(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return p(n,[{key:"getInitialEvent",value:function(e){return ui("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(_k),Vk=1e3,Bk=function(e){y(n,e);var t=k(n);function n(e,r,i,a,o,s,u,l){var f;if(c(this,n),(f=t.call(this)).repoInfo_=e,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=o,f.authTokenProvider_=s,f.appCheckTokenProvider_=u,f.authOverride_=l,f.id=n.nextPersistentConnectionId_++,f.log_=R_("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=Vk,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!Ti())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Uk.getInstance().on("visible",f.onVisible_,_(f)),-1===e.host.indexOf("fblocal")&&kk.getInstance().on("online",f.onOnline_,_(f)),f}return p(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Oi(i)),ui(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new wi,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),ui(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ui(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Di(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Di(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ui(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Oi(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):O_("Unrecognized action received from server: "+Oi(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;ui(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vk,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vk,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vk),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Jr(Yr().mark((function e(){var t,r,i,a,o,s,u,l,c,f,h,d,p,v,y=this;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},c=function(e){ui(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:c},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:h=e.sent,d=E(h,2),p=d[0],v=d[1],s?A_("getToken() completed but was canceled"):(A_("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new mk(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){L_(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&L_(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){A_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){A_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Fi(this.interruptReasons_)&&(this.reconnectDelay_=Vk,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return z_(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Ek(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){A_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){A_("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=C(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=C(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Ti()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+g_.replace(/\./g,"-")]=1,xi()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=kk.getInstance().currentlyOnline();return Fi(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Li(e,"w")){var n=Mi(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();L_("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(gk);Bk.nextPersistentConnectionId_=0,Bk.nextConnectionId_=0;var zk,qk=function(){function e(t,n){c(this,e),this.name=t,this.node=n}return p(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Hk=function(){function e(){c(this,e)}return p(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new qk(F_,e),r=new qk(F_,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return qk.MIN}}]),e}(),Wk=function(e){y(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"compare",value:function(e,t){return U_(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw li("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return qk.MIN}},{key:"maxPost",value:function(){return new qk(j_,zk)}},{key:"makePost",value:function(e,t){return ui("string"===typeof e,"KeyIndex indexValue must always be a string."),new qk(e,zk)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return zk},set:function(e){zk=e}}]),n}(Hk),Kk=new Wk,Gk=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;c(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return p(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Qk=function(){function e(t,n,r,i,a){c(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Xk.EMPTY_NODE,this.right=null!=a?a:Xk.EMPTY_NODE}return p(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Xk.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Xk.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Qk.RED=!0,Qk.BLACK=!1;var $k,Yk=function(){function e(){c(this,e)}return p(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Qk(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Xk=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;c(this,e),this.comparator_=t,this.root_=n}return p(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Qk.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Qk.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Gk(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Gk(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Gk(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Gk(this.root_,null,this.comparator_,!0,e)}}]),e}();function Jk(e,t){return U_(e.name,t.name)}function Zk(e,t){return U_(e,t)}Xk.EMPTY_NODE=new Yk;var eb,tb,nb,rb=function(e){return"number"===typeof e?"number:"+W_(e):"string:"+e},ib=function(e){if(e.isLeafNode()){var t=e.val();ui("string"===typeof t||"number"===typeof t||"object"===typeof t&&Li(t,".sv"),"Priority must be a string or number.")}else ui(e===$k||e.isEmpty(),"priority of unexpected type.");ui(e===$k||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ab=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;c(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ui(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ib(this.priorityNode_)}return p(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Rk(t)?this:".priority"===xk(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=xk(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(ui(".priority"!==r||1===Ck(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Tk(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+rb(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?W_(this.value_):this.value_,this.lazyHash_=C_(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(ui(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return ui(i>=0,"Unknown leaf type: "+n),ui(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return eb},set:function(e){eb=e}}]),e}();ab.VALUE_TYPE_ORDER=["object","boolean","number","string"];var ob,sb,ub=function(e){y(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?U_(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return qk.MIN}},{key:"maxPost",value:function(){return new qk(j_,new ab("[PRIORITY-POST]",nb))}},{key:"makePost",value:function(e,t){var n=tb(e);return new qk(t,new ab("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Hk),lb=new ub,cb=Math.log(2),fb=function(){function e(t){c(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/cb,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return p(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),hb=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new Qk(o,a.node,Qk.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new Qk(o,a.node,Qk.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),c=e[a],f=n?n(c):c;u(new Qk(f,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),f=Math.pow(2,t.count-(l+1));c?s(f,Qk.BLACK):(s(f,Qk.BLACK),s(f,Qk.RED))}return a}(new fb(e.length));return new Xk(r||t,a)},db={},pb=function(){function e(t,n){c(this,e),this.indexes_=t,this.indexSet_=n}return p(e,[{key:"get",value:function(e){var t=Mi(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Xk?t:null}},{key:"hasIndex",value:function(e){return Li(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){ui(t!==Kk,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(qk.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?hb(i,t.getCompare()):db;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(ji(this.indexes_,(function(e,i){var a=Mi(r.indexSet_,i);if(ui(a,"Missing index implementation for "+i),e===db){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(qk.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),hb(o,a.getCompare())}return db}var l=n.get(t.name),c=e;return l&&(c=c.remove(new qk(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(ji(this.indexes_,(function(e){if(e===db)return e;var r=n.get(t.name);return r?e.remove(new qk(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return ui(db&&lb,"ChildrenNode.ts has not been loaded"),ob=ob||new e({".priority":db},{".priority":lb})}}]),e}(),vb=function(){function e(t,n,r){c(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ib(this.priorityNode_),this.children_.isEmpty()&&ui(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return p(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||sb}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?sb:t}},{key:"getChild",value:function(e){var t=xk(e);return null===t?this:this.getImmediateChild(t).getChild(Tk(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(ui(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new qk(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?sb:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=xk(e);if(null===n)return t;ui(".priority"!==xk(e)||1===Ck(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Tk(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(lb,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+rb(this.getPriority().val())+":"),this.forEachChild(lb,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":C_(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new qk(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new qk(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new qk(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,qk.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,qk.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===yb?-1:0}},{key:"withIndex",value:function(t){if(t===Kk||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Kk||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(lb),r=t.getIterator(lb),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Kk?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return sb||(sb=new e(new Xk(Zk),null,pb.Default))}}]),e}();vb.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var yb=new(function(e){y(n,e);var t=k(n);function n(){return c(this,n),t.call(this,new Xk(Zk),vb.EMPTY_NODE,pb.Default)}return p(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return vb.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(vb));Object.defineProperties(qk,{MIN:{value:new qk(F_,vb.EMPTY_NODE)},MAX:{value:new qk(j_,yb)}}),Wk.__EMPTY_NODE=vb.EMPTY_NODE,ab.__childrenNodeConstructor=vb,$k=yb,function(e){nb=e}(yb);var mb=!0;function gb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return vb.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ui(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new ab(e,gb(t));if(e instanceof Array||!mb){var n=vb.EMPTY_NODE;return H_(e,(function(t,r){if(Li(e,t)&&"."!==t.substring(0,1)){var i=gb(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(gb(t))}var r=[],i=!1;if(H_(e,(function(e,t){if("."!==e.substring(0,1)){var n=gb(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new qk(e,n)))}})),0===r.length)return vb.EMPTY_NODE;var a=hb(r,Jk,(function(e){return e.name}),Zk);if(i){var o=hb(r,lb.getCompare());return new vb(a,gb(t),new pb({".priority":o},{".priority":lb}))}return new vb(a,gb(t),pb.Default)}!function(e){tb=e}(gb);var _b=function(e){y(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).indexPath_=e,ui(!Rk(e)&&".priority"!==xk(e),"Can't create PathIndex with empty path or .priority key"),r}return p(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?U_(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=gb(e),r=vb.EMPTY_NODE.updateChild(this.indexPath_,n);return new qk(t,r)}},{key:"maxPost",value:function(){var e=vb.EMPTY_NODE.updateChild(this.indexPath_,yb);return new qk(j_,e)}},{key:"toString",value:function(){return Nk(this.indexPath_,0).join("/")}}]),n}(Hk),kb=function(e){y(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?U_(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return qk.MIN}},{key:"maxPost",value:function(){return qk.MAX}},{key:"makePost",value:function(e,t){var n=gb(e);return new qk(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Hk),bb=new kb;function wb(e){return{type:"value",snapshotNode:e}}function Eb(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Sb(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function xb(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Cb=function(){function e(t){c(this,e),this.index_=t}return p(e,[{key:"updateChild",value:function(e,t,n,r,i,a){ui(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Sb(t,o)):ui(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Eb(t,n)):a.trackChildChange(xb(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(lb,(function(e,r){t.hasChild(e)||n.trackChildChange(Sb(e,r))})),t.isLeafNode()||t.forEachChild(lb,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(xb(t,r,i))}else n.trackChildChange(Eb(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?vb.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Tb=function(){function e(t){c(this,e),this.indexedFilter_=new Cb(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return p(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new qk(t,n))||(n=vb.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=vb.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(vb.EMPTY_NODE);var i=this;return t.forEachChild(lb,(function(e,t){i.matches(new qk(e,t))||(r=r.updateImmediateChild(e,vb.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Ib=function(){function e(t){var n=this;c(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Tb(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return p(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new qk(t,n))||(n=vb.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=vb.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=vb.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(vb.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var l=s.getNext();u<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?u++:r=r.updateImmediateChild(l.name,vb.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;ui(s.numChildren()===this.limit_,"");var u=new qk(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,l,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(xb(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Sb(t,f));var p=s.updateImmediateChild(t,vb.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(Eb(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:c&&a(l,u)>=0?(null!=i&&(i.trackChildChange(Sb(l.name,l.node)),i.trackChildChange(Eb(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,vb.EMPTY_NODE)):e}}]),e}(),Nb=function(){function e(){c(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lb}return p(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return ui(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return ui(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:F_}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return ui(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return ui(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:j_}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return ui(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===lb}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Pb(e){var t,n={};if(e.isDefault())return n;if(e.index_===lb?t="$priority":e.index_===bb?t="$value":e.index_===Kk?t="$key":(ui(e.index_ instanceof _b,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Oi(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=Oi(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+Oi(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=Oi(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+Oi(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function Ab(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==lb&&(t.i=e.index_.toString()),t}var Rb=function(e){y(n,e);var t=k(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=R_("p:rest:"),o.listens_={},o}return p(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=Pb(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Mi(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Pb(e._queryParams),r=e._path.toString(),i=new wi;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=E(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+function(e){for(var t=[],n=function(){var e=E(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Ri(l.responseText)}catch(n){L_("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&L_("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(ui(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(gk),Ob=function(){function e(){c(this,e),this.rootNode_=vb.EMPTY_NODE}return p(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Db(){return{value:null,children:new Map}}function Lb(e,t,n){if(Rk(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=xk(t);e.children.has(r)||e.children.set(r,Db()),Lb(e.children.get(r),t=Tk(t),n)}}function Mb(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Mb(r,new Ek(t.toString()+"/"+e),n)}))}var Fb,jb=function(){function e(t){c(this,e),this.collection_=t,this.last_=null}return p(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&H_(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Ub=function(){function e(t,n){c(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new jb(t);var r=1e4+2e4*Math.random();$_(this.reportStats_.bind(this),Math.floor(r))}return p(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;H_(t,(function(t,i){i>0&&Li(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),$_(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Vb(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Fb||(Fb={}));var Bb,zb=function(){function e(t,n,r){c(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Fb.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return p(e,[{key:"operationForChild",value:function(t){if(Rk(this.path)){if(null!=this.affectedTree.value)return ui(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ek(t));return new e(Sk(),n,this.revert)}return ui(xk(this.path)===t,"operationForChild called for unrelated child."),new e(Tk(this.path),this.affectedTree,this.revert)}}]),e}(),qb=function(){function e(t,n){c(this,e),this.source=t,this.path=n,this.type=Fb.LISTEN_COMPLETE}return p(e,[{key:"operationForChild",value:function(t){return Rk(this.path)?new e(this.source,Sk()):new e(this.source,Tk(this.path))}}]),e}(),Hb=function(){function e(t,n,r){c(this,e),this.source=t,this.path=n,this.snap=r,this.type=Fb.OVERWRITE}return p(e,[{key:"operationForChild",value:function(t){return Rk(this.path)?new e(this.source,Sk(),this.snap.getImmediateChild(t)):new e(this.source,Tk(this.path),this.snap)}}]),e}(),Wb=function(){function e(t,n,r){c(this,e),this.source=t,this.path=n,this.children=r,this.type=Fb.MERGE}return p(e,[{key:"operationForChild",value:function(t){if(Rk(this.path)){var n=this.children.subtree(new Ek(t));return n.isEmpty()?null:n.value?new Hb(this.source,Sk(),n.value):new e(this.source,Sk(),n)}return ui(xk(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Tk(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Kb=function(){function e(t,n,r){c(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return p(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Rk(e))return this.isFullyInitialized()&&!this.filtered_;var t=xk(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Gb=p((function e(t){c(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function Qb(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw li("Should only compare child_ events.");var r=new qk(t.childName,t.snapshotNode),i=new qk(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function $b(e,t){return{eventCache:e,serverCache:t}}function Yb(e,t,n,r){return $b(new Kb(t,n,r),e.serverCache)}function Xb(e,t,n,r){return $b(e.eventCache,new Kb(t,n,r))}function Jb(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Zb(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var ew=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Bb||(Bb=new Xk(V_)),Bb);c(this,e),this.value=t,this.children=n}return p(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Sk(),value:this.value};if(Rk(e))return null;var n=xk(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Tk(e),t);return null!=i?{path:Ak(new Ek(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Rk(t))return this;var n=xk(t),r=this.children.get(n);return null!==r?r.subtree(Tk(t)):new e(null)}},{key:"set",value:function(t,n){if(Rk(t))return new e(n,this.children);var r=xk(t),i=(this.children.get(r)||new e(null)).set(Tk(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Rk(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=xk(t),r=this.children.get(n);if(r){var i,a=r.remove(Tk(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Rk(e))return this.value;var t=xk(e),n=this.children.get(t);return n?n.get(Tk(e)):null}},{key:"setTree",value:function(t,n){if(Rk(t))return n;var r,i=xk(t),a=(this.children.get(i)||new e(null)).setTree(Tk(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Sk(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ak(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Sk(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Rk(e))return null;var i=xk(e),a=this.children.get(i);return a?a.findOnPath_(Tk(e),Ak(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Sk(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Rk(t))return this;this.value&&r(n,this.value);var i=xk(t),a=this.children.get(i);return a?a.foreachOnPath_(Tk(t),Ak(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Sk(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ak(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return H_(t,(function(e,t){n=n.set(new Ek(e),t)})),n}}]),e}(),tw=function(){function e(t){c(this,e),this.writeTree_=t}return p(e,null,[{key:"empty",value:function(){return new e(new ew(null))}}]),e}();function nw(e,t,n){if(Rk(t))return new tw(new ew(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Ok(i,t);return a=a.updateChild(o,n),new tw(e.writeTree_.set(i,a))}var s=new ew(n),u=e.writeTree_.setTree(t,s);return new tw(u)}function rw(e,t,n){var r=e;return H_(n,(function(e,n){r=nw(r,Ak(t,e),n)})),r}function iw(e,t){if(Rk(t))return tw.empty();var n=e.writeTree_.setTree(t,new ew(null));return new tw(n)}function aw(e,t){return null!=ow(e,t)}function ow(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ok(n.path,t)):null}function sw(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(lb,(function(e,n){t.push(new qk(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new qk(e,n.value))})),t}function uw(e,t){if(Rk(t))return e;var n=ow(e,t);return new tw(null!=n?new ew(n):e.writeTree_.subtree(t))}function lw(e){return e.writeTree_.isEmpty()}function cw(e,t){return fw(Sk(),e.writeTree_,t)}function fw(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(ui(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=fw(Ak(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ak(e,".priority"),r)),n}function hw(e,t){return xw(t,e)}function dw(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));ui(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&pw(s,r.path)?i=!1:Lk(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=yw(e.allWrites,vw,Sk()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=iw(e.visibleWrites,r.path):H_(r.children,(function(t){e.visibleWrites=iw(e.visibleWrites,Ak(r.path,t))}));return!0}return!1}function pw(e,t){if(e.snap)return Lk(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Lk(Ak(e.path,n),t))return!0;return!1}function vw(e){return e.visible}function yw(e,t,n){for(var r=tw.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Lk(n,o)?r=nw(r,s=Ok(n,o),a.snap):Lk(o,n)&&(s=Ok(o,n),r=nw(r,Sk(),a.snap.getChild(s)));else{if(!a.children)throw li("WriteRecord should have .snap or .children");if(Lk(n,o))r=rw(r,s=Ok(n,o),a.children);else if(Lk(o,n))if(Rk(s=Ok(o,n)))r=rw(r,Sk(),a.children);else{var u=Mi(a.children,xk(s));if(u){var l=u.getChild(Tk(s));r=nw(r,Sk(),l)}}}}}return r}function mw(e,t,n,r,i){if(r||i){var a=uw(e.visibleWrites,t);if(!i&&lw(a))return n;if(i||null!=n||aw(a,Sk())){return cw(yw(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Lk(e.path,t)||Lk(t,e.path))}),t),n||vb.EMPTY_NODE)}return null}var o=ow(e.visibleWrites,t);if(null!=o)return o;var s=uw(e.visibleWrites,t);return lw(s)?n:null!=n||aw(s,Sk())?cw(s,n||vb.EMPTY_NODE):null}function gw(e,t,n,r){return mw(e.writeTree,e.treePath,t,n,r)}function _w(e,t){return function(e,t,n){var r=vb.EMPTY_NODE,i=ow(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(lb,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=uw(e.visibleWrites,t);return n.forEachChild(lb,(function(e,t){var n=cw(uw(a,new Ek(e)),t);r=r.updateImmediateChild(e,n)})),sw(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return sw(uw(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function kw(e,t,n,r){return function(e,t,n,r,i){ui(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Ak(t,n);if(aw(e.visibleWrites,a))return null;var o=uw(e.visibleWrites,a);return lw(o)?i.getChild(n):cw(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function bw(e,t){return function(e,t){return ow(e.visibleWrites,t)}(e.writeTree,Ak(e.treePath,t))}function ww(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=uw(e.visibleWrites,t),l=ow(u,Sk());if(null!=l)s=l;else{if(null==n)return[];s=cw(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&c.length<i;)0!==f(d,r)&&c.push(d),d=h.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function Ew(e,t,n){return function(e,t,n,r){var i=Ak(t,n),a=ow(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?cw(uw(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Sw(e,t){return xw(Ak(e.treePath,t),e.writeTree)}function xw(e,t){return{treePath:e,writeTree:t}}var Cw=function(){function e(){c(this,e),this.changeMap=new Map}return p(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;ui("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ui(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,xb(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Sb(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Eb(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw li("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,xb(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Tw=new(function(){function e(){c(this,e)}return p(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Iw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;c(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return p(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Kb(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ew(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Zb(this.viewCache_),i=ww(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Nw(e,t,n,r,i){var a,o,s=new Cw;if(n.type===Fb.OVERWRITE){var u=n;u.source.fromUser?a=Rw(e,t,u.path,u.snap,r,i,s):(ui(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Rk(u.path),a=Aw(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Fb.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=Ak(n,r);Ow(t,xk(l))&&(s=Rw(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=Ak(n,r);Ow(t,xk(l))||(s=Rw(e,s,l,u,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):(ui(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=Lw(e,t,l.path,l.children,r,i,o,s))}else if(n.type===Fb.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=bw(r,n))return t;var s,u=new Iw(r,t,i),l=t.eventCache.getNode();if(Rk(n)||".priority"===xk(n)){var c;if(t.serverCache.isFullyInitialized())c=gw(r,Zb(t));else{var f=t.serverCache.getNode();ui(f instanceof vb,"serverChildren would be complete if leaf node"),c=_w(r,f)}s=e.filter.updateFullNode(l,c,a)}else{var h=xk(n),d=Ew(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=l.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(l,h,d,Tk(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(l,h,vb.EMPTY_NODE,Tk(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=gw(r,Zb(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=bw(r,Sk()),Yb(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=bw(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Rk(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Aw(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Rk(n)){var l=new ew(null);return u.getNode().forEachChild(Kk,(function(e,t){l=l.set(new Ek(e),t)})),Lw(e,t,n,l,i,a,s,o)}return t}var c=new ew(null);return r.foreach((function(e,t){var r=Ak(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Lw(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Fb.LISTEN_COMPLETE)throw li("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Xb(t,a.getNode(),a.isFullyInitialized()||Rk(n),a.isFiltered());return Pw(e,o,n,r,Tw,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Jb(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(wb(Jb(t)))}}(t,a,f),{viewCache:a,changes:f}}function Pw(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=bw(r,n))return t;if(Rk(n))if(ui(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Zb(t),c=_w(r,l instanceof vb?l:vb.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var f=gw(r,Zb(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=xk(n);if(".priority"===h){ui(1===Ck(n),"Can't have a priority with additional path components");var d=u.getNode(),p=kw(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,y=Tk(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var m=kw(r,n,u.getNode(),s);v=null!=m?u.getNode().getImmediateChild(h).updateChild(y,m):u.getNode().getImmediateChild(h)}else v=Ew(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,y,i,a):u.getNode()}}return Yb(t,o,u.isFullyInitialized()||Rk(n),e.filter.filtersNodes())}function Aw(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(Rk(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{var h=xk(n);if(!l.isCompleteForPath(n)&&Ck(n)>1)return t;var d=Tk(n),p=l.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),h,p,d,Tw,null)}var v=Xb(t,u,l.isFullyInitialized()||Rk(n),c.filtersNodes());return Pw(e,v,n,i,new Iw(i,v,a),s)}function Rw(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new Iw(i,t,a);if(Rk(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=Yb(t,u,!0,e.filter.filtersNodes());else{var f=xk(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Yb(t,u,l.isFullyInitialized(),l.isFiltered());else{var h,d=Tk(n),p=l.getNode().getImmediateChild(f);if(Rk(d))h=r;else{var v=c.getCompleteChild(f);h=null!=v?".priority"===Ik(d)&&v.getChild(Pk(d)).isEmpty()?v:v.updateChild(d,r):vb.EMPTY_NODE}if(p.equals(h))s=t;else s=Yb(t,e.filter.updateChild(l.getNode(),f,h,d,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Ow(e,t){return e.eventCache.isCompleteForChild(t)}function Dw(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Lw(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=Rk(n)?r:new ew(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=Dw(0,t.serverCache.getNode().getImmediateChild(n),r);l=Aw(e,l,new Ek(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!u){var f=Dw(0,t.serverCache.getNode().getImmediateChild(n),r);l=Aw(e,l,new Ek(n),f,i,a,o,s)}})),l}var Mw,Fw=function(){function e(t,n){c(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new Cb(i.getIndex()),o=(r=i).loadsAllData()?new Cb(r.getIndex()):r.hasLimit()?new Ib(r):new Tb(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,l=a.updateFullNode(vb.EMPTY_NODE,s.getNode(),null),f=o.updateFullNode(vb.EMPTY_NODE,u.getNode(),null),h=new Kb(l,s.isFullyInitialized(),a.filtersNodes()),d=new Kb(f,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=$b(d,h),this.eventGenerator_=new Gb(this.query_)}return p(e,[{key:"query",get:function(){return this.query_}}]),e}();function jw(e,t){var n=Zb(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Rk(t)&&!n.getImmediateChild(xk(t)).isEmpty())?n.getChild(t):null}function Uw(e){return 0===e.eventRegistrations_.length}function Vw(e,t,n){var r=[];if(n){ui(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Bw(e,t,n,r){t.type===Fb.MERGE&&null!==t.source.queryId&&(ui(Zb(e.viewCache_),"We should always have a full cache before handling merges"),ui(Jb(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Nw(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,ui(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ui(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),ui(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,zw(e,s.changes,s.viewCache.eventCache.getNode(),null)}function zw(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Qb(e,i,"child_removed",t,r,n),Qb(e,i,"child_added",t,r,n),Qb(e,i,"child_moved",a,r,n),Qb(e,i,"child_changed",t,r,n),Qb(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var qw,Hw=p((function e(){c(this,e),this.views=new Map}));function Ww(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return ui(null!=a,"SyncTree gave us an op for an invalid query."),Bw(a,t,n,r)}var o,s=[],u=C(e.views.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s=s.concat(Bw(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function Kw(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=gw(n,i?r:null),u=!1;s?u=!0:r instanceof vb?(s=_w(n,r),u=!1):(s=vb.EMPTY_NODE,u=!1);var l=$b(new Kb(s,u,!1),new Kb(r,i,!1));return new Fw(t,l)}return o}function Gw(e,t,n,r,i,a){var o=Kw(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(lb,(function(e,t){r.push(Eb(e,t))})),n.isFullyInitialized()&&r.push(wb(n.getNode())),zw(e,r,n.getNode(),t)}(o,n)}function Qw(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=Zw(e);if("default"===i){var u,l=C(e.views.entries());try{for(l.s();!(u=l.n()).done;){var c=E(u.value,2),f=c[0],h=c[1];o=o.concat(Vw(h,n,r)),Uw(h)&&(e.views.delete(f),h.query._queryParams.loadsAllData()||a.push(h.query))}}catch(p){l.e(p)}finally{l.f()}}else{var d=e.views.get(i);d&&(o=o.concat(Vw(d,n,r)),Uw(d)&&(e.views.delete(i),d.query._queryParams.loadsAllData()||a.push(d.query)))}return s&&!Zw(e)&&a.push(new(ui(Mw,"Reference.ts has not been loaded"),Mw)(t._repo,t._path)),{removed:a,events:o}}function $w(e){var t,n=[],r=C(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function Yw(e,t){var n,r=null,i=C(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||jw(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function Xw(e,t){if(t._queryParams.loadsAllData())return eE(e);var n=t._queryIdentifier;return e.views.get(n)}function Jw(e,t){return null!=Xw(e,t)}function Zw(e){return null!=eE(e)}function eE(e){var t,n=C(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var tE=1,nE=p((function e(t){c(this,e),this.listenProvider_=t,this.syncPointTree_=new ew(null),this.pendingWriteTree_={visibleWrites:tw.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function rE(e,t,n,r,i){return function(e,t,n,r,i){ui(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=nw(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?cE(e,new Hb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function iE(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(dw(e.pendingWriteTree_,t)){var i=new ew(null);return null!=r.snap?i=i.set(Sk(),!0):H_(r.children,(function(e){i=i.set(new Ek(e),!0)})),cE(e,new zb(r.path,i,n))}return[]}function aE(e,t,n){return cE(e,new Hb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function oE(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||Jw(o,t))){var u=Qw(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=u.removed;if(s=u.events,!i){var c=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return Zw(t)}));if(c&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&Zw(t))return[eE(t)];var r=[];return t&&(r=$w(t)),H_(n,(function(e,t){r=r.concat(t)})),r}))}(h),p=0;p<d.length;++p){var v=d[p],y=v.query,m=dE(e,v);e.listenProvider_.startListening(_E(y),pE(e,y),m.hashFn,m.onComplete)}}if(!f&&l.length>0&&!r)if(c){e.listenProvider_.stopListening(_E(t),null)}else l.forEach((function(t){var n=e.queryToTagMap.get(vE(t));e.listenProvider_.stopListening(_E(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=vE(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,l)}return s}function sE(e,t,n,r){var i=yE(e,r);if(null!=i){var a=mE(i),o=a.path,s=a.queryId,u=Ok(o,t);return gE(e,o,new Hb(Vb(s),u,n))}return[]}function uE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=Ok(e,i);a=a||Yw(t,n),o=o||Zw(t)}));var s,u=e.syncPointTree_.get(i);(u?(o=o||Zw(u),a=a||Yw(u,Sk())):(u=new Hw,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)?s=!0:(s=!1,a=vb.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=Yw(t,Sk());n&&(a=a.updateImmediateChild(e,n))})));var l=Jw(u,t);if(!l&&!t._queryParams.loadsAllData()){var c=vE(t);ui(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var f=tE++;e.queryToTagMap.set(c,f),e.tagToQueryMap.set(f,c)}var h=Gw(u,t,n,hw(e.pendingWriteTree_,i),a,s);if(!l&&!o&&!r){var d=Xw(u,t);h=h.concat(function(e,t,n){var r=t._path,i=pE(e,t),a=dE(e,n),o=e.listenProvider_.startListening(_E(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)ui(!Zw(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!Rk(e)&&t&&Zw(t))return[eE(t).query];var r=[];return t&&(r=r.concat($w(t).map((function(e){return e.query})))),H_(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var c=u[l];e.listenProvider_.stopListening(_E(c),pE(e,c))}return o}(e,t,d))}return h}function lE(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Yw(n,Ok(e,t));if(r)return r}));return mw(r,t,i,n,!0)}function cE(e,t){return fE(t,e.syncPointTree_,null,hw(e.pendingWriteTree_,Sk()))}function fE(e,t,n,r){if(Rk(e.path))return hE(e,t,n,r);var i=t.get(Sk());null==n&&null!=i&&(n=Yw(i,Sk()));var a=[],o=xk(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var l=n?n.getImmediateChild(o):null,c=Sw(r,o);a=a.concat(fE(s,u,l,c))}return i&&(a=a.concat(Ww(i,e,r,n))),a}function hE(e,t,n,r){var i=t.get(Sk());null==n&&null!=i&&(n=Yw(i,Sk()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Sw(r,t),u=e.operationForChild(t);u&&(a=a.concat(hE(u,i,o,s)))})),i&&(a=a.concat(Ww(i,e,r,n))),a}function dE(e,t){var n=t.query,r=pE(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||vb.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=yE(e,n);if(r){var i=mE(r),a=i.path,o=i.queryId,s=Ok(a,t);return gE(e,a,new qb(Vb(o),s))}return[]}(e,n._path,r):function(e,t){return cE(e,new qb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return oE(e,n,null,i)}}}function pE(e,t){var n=vE(t);return e.queryToTagMap.get(n)}function vE(e){return e._path.toString()+"$"+e._queryIdentifier}function yE(e,t){return e.tagToQueryMap.get(t)}function mE(e){var t=e.indexOf("$");return ui(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ek(e.substr(0,t))}}function gE(e,t,n){var r=e.syncPointTree_.get(t);return ui(r,"Missing sync point for query tag that we're tracking"),Ww(r,n,hw(e.pendingWriteTree_,t),null)}function _E(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ui(qw,"Reference.ts has not been loaded"),qw)(e._repo,e._path):e}var kE=function(){function e(t){c(this,e),this.node_=t}return p(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),bE=function(){function e(t,n){c(this,e),this.syncTree_=t,this.path_=n}return p(e,[{key:"getImmediateChild",value:function(t){var n=Ak(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return lE(this.syncTree_,this.path_)}}]),e}(),wE=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},EE=function(e,t,n){return e&&"object"===typeof e?(ui(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?SE(e[".sv"],t,n):"object"===typeof e[".sv"]?xE(e[".sv"],t):void ui(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},SE=function(e,t,n){if("timestamp"===e)return n.timestamp;ui(!1,"Unexpected server value: "+e)},xE=function(e,t,n){e.hasOwnProperty("increment")||ui(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&ui(!1,"Unexpected increment value: "+r);var i=t.node();if(ui(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},CE=function(e,t,n,r){return IE(t,new bE(n,e),r)},TE=function(e,t,n){return IE(e,new kE(t),n)};function IE(e,t,n){var r,i=e.getPriority().val(),a=EE(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=EE(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new ab(s,gb(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new ab(a))),u.forEachChild(lb,(function(e,i){var a=IE(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var NE=p((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};c(this,e),this.name=t,this.parent=n,this.node=r}));function PE(e,t){for(var n=t instanceof Ek?t:new Ek(t),r=e,i=xk(n);null!==i;){var a=Mi(r.node.children,i)||{children:{},childCount:0};r=new NE(i,r,a),i=xk(n=Tk(n))}return r}function AE(e){return e.node.value}function RE(e,t){e.node.value=t,FE(e)}function OE(e){return e.node.childCount>0}function DE(e,t){H_(e.node.children,(function(n,r){t(new NE(n,e,r))}))}function LE(e,t,n,r){n&&!r&&t(e),DE(e,(function(e){LE(e,t,!0,r)})),n&&r&&t(e)}function ME(e){return new Ek(null===e.parent?e.name:ME(e.parent)+"/"+e.name)}function FE(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===AE(e)&&!OE(e)}(n),i=Li(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,FE(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,FE(e))}(e.parent,e.name,e)}var jE=/[\[\].#$\/\u0000-\u001F\u007F]/,UE=/[\[\].#$\u0000-\u001F\u007F]/,VE=10485760,BE=function(e){return"string"===typeof e&&0!==e.length&&!jE.test(e)},zE=function(e){return"string"===typeof e&&0!==e.length&&!UE.test(e)},qE=function(e,t,n,r){r&&void 0===t||HE(zi(e,"value"),t,n)},HE=function e(t,n,r){var i=r instanceof Ek?new Mk(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+jk(i));if("function"===typeof n)throw new Error(t+"contains a function "+jk(i)+" with contents = "+n.toString());if(M_(n))throw new Error(t+"contains "+n.toString()+" "+jk(i));if("string"===typeof n&&n.length>VE/3&&qi(n)>VE)throw new Error(t+"contains a string greater than "+VE+" utf8 bytes "+jk(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(H_(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!BE(n)))throw new Error(t+" contains an invalid key ("+n+") "+jk(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=qi(t),Fk(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=qi(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+jk(i)+" in addition to actual children.")}},WE=function(e,t,n,r){if((!r||void 0!==n)&&!zE(n))throw new Error(zi(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},KE=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),WE(e,t,n,r)},GE=function(e,t){if(".info"===xk(t))throw new Error(e+" failed = Can't modify data under /.info/")},QE=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!BE(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),zE(e)}(n))throw new Error(zi(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},$E=p((function e(){c(this,e),this.eventLists_=[],this.recursionDepth_=0}));function YE(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Dk(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function XE(e,t,n){YE(e,n),ZE(e,(function(e){return Dk(e,t)}))}function JE(e,t,n){YE(e,n),ZE(e,(function(e){return Lk(e,t)||Lk(t,e)}))}function ZE(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(eS(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function eS(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();I_&&A_("event: "+n.toString()),Q_(r)}}}var tS="repo_interrupt",nS=25,rS=function(){function e(t,n,r,i){c(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new $E,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Db(),this.transactionQueueTree_=new NE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return p(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function iS(e,t,n){if(e.stats_=lk(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Rb(e.repoInfo_,(function(t,n,r,i){sS(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return uS(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Oi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Bk(e.repoInfo_,t,(function(t,n,r,i){sS(e,t,n,r,i)}),(function(t){uS(e,t)}),(function(t){!function(e,t){H_(t,(function(t,n){lS(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return uk[n]||(uk[n]=t()),uk[n]}(e.repoInfo_,(function(){return new Ub(e.stats_,e.server_)})),e.infoData_=new Ob,e.infoSyncTree_=new nE({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=aE(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),lS(e,"connected",!1),e.serverSyncTree_=new nE({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);JE(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function aS(e){var t=e.infoData_.getNode(new Ek(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function oS(e){return wE({timestamp:aS(e)})}function sS(e,t,n,r,i){e.dataUpdateCount++;var a=new Ek(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=ji(n,(function(e){return gb(e)}));o=function(e,t,n,r){var i=yE(e,r);if(i){var a=mE(i),o=a.path,s=a.queryId,u=Ok(o,t),l=ew.fromObject(n);return gE(e,o,new Wb(Vb(s),u,l))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=gb(n);o=sE(e.serverSyncTree_,a,u,i)}else if(r){var l=ji(n,(function(e){return gb(e)}));o=function(e,t,n){var r=ew.fromObject(n);return cE(e,new Wb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=gb(n);o=aE(e.serverSyncTree_,a,c)}var f=a;o.length>0&&(f=gS(e,a)),JE(e.eventQueue_,f,o)}function uS(e,t){lS(e,"connected",t),!1===t&&function(e){pS(e,"onDisconnectEvents");var t=oS(e),n=Db();Mb(e.onDisconnect_,Sk(),(function(r,i){var a=CE(r,i,e.serverSyncTree_,t);Lb(n,r,a)}));var r=[];Mb(n,Sk(),(function(t,n){r=r.concat(aE(e.serverSyncTree_,t,n));var i=ES(e,t);gS(e,i)})),e.onDisconnect_=Db(),JE(e.eventQueue_,Sk(),r)}(e)}function lS(e,t,n){var r=new Ek("/.info/"+t),i=gb(n);e.infoData_.updateSnapshot(r,i);var a=aE(e.infoSyncTree_,r,i);JE(e.eventQueue_,r,a)}function cS(e){return e.nextWriteId_++}function fS(e,t,n,r,i){pS(e,"set",{path:t.toString(),value:n,priority:r});var a=oS(e),o=gb(n,r),s=lE(e.serverSyncTree_,t),u=TE(o,s,a),l=cS(e),c=rE(e.serverSyncTree_,t,u,l,!0);YE(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||L_("set at "+t+" failed: "+n);var o=iE(e.serverSyncTree_,l,!a);JE(e.eventQueue_,t,o),vS(e,i,n,r)}));var f=ES(e,t);gS(e,f),JE(e.eventQueue_,f,[])}function hS(e,t,n){var r;r=".info"===xk(t._path)?oE(e.infoSyncTree_,t,n):oE(e.serverSyncTree_,t,n),XE(e.eventQueue_,t._path,r)}function dS(e){e.persistentConnection_&&e.persistentConnection_.interrupt(tS)}function pS(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];A_.apply(void 0,[t].concat(r))}function vS(e,t,n,r){t&&Q_((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function yS(e,t,n){return lE(e.serverSyncTree_,t,n)||vb.EMPTY_NODE}function mS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||wS(e,t),AE(t)){var n=kS(e,t);ui(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=yS(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];ui(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=Ok(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),f=t;e.server_.put(f.toString(),c,(function(r){pS(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(iE(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);wS(e,PE(e.transactionQueueTree_,t)),mS(e,e.transactionQueueTree_),JE(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Q_(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{L_("transaction at "+f.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}gS(e,t)}}),o)}(e,ME(t),n)}else OE(t)&&DE(t,(function(t){mS(e,t)}))}function gS(e,t){var n=_S(e,t),r=ME(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,l=t[a],c=Ok(n,l.path),f=!1;if(ui(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,s=l.abortReason,i=i.concat(iE(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=nS)f=!0,s="maxretry",i=i.concat(iE(e.serverSyncTree_,l.currentWriteId,!0));else{var h=yS(e,l.path,o);l.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){HE("transaction failed: Data returned ",d,l.path);var p=gb(d);"object"===typeof d&&null!=d&&Li(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=l.currentWriteId,y=oS(e),m=TE(p,h,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=m,l.currentWriteId=cS(e),o.splice(o.indexOf(v),1),i=(i=i.concat(rE(e.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally))).concat(iE(e.serverSyncTree_,v,!0))}else f=!0,s="nodata",i=i.concat(iE(e.serverSyncTree_,l.currentWriteId,!0))}JE(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);wS(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)Q_(r[l]);mS(e,e.transactionQueueTree_)}(e,kS(e,n),r),r}function _S(e,t){var n,r=e.transactionQueueTree_;for(n=xk(t);null!==n&&void 0===AE(r);)r=PE(r,n),n=xk(t=Tk(t));return r}function kS(e,t){var n=[];return bS(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function bS(e,t,n){var r=AE(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);DE(t,(function(t){bS(e,t,n)}))}function wS(e,t){var n=AE(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,RE(t,n.length>0?n:void 0)}DE(t,(function(t){wS(e,t)}))}function ES(e,t){var n=ME(_S(e,t)),r=PE(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){SS(e,t)})),SS(e,r),LE(r,(function(t){SS(e,t)})),n}function SS(e,t){var n=AE(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(ui(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(ui(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(iE(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?RE(t,void 0):n.length=a+1,JE(e.eventQueue_,ME(t),i);for(var s=0;s<r.length;s++)Q_(r[s])}}var xS=function(e,t){var n=CS(e),r=n.namespace;"firebase.com"===n.domain&&D_(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||D_("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&L_("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ik(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Ek(n.pathString)}},CS=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=C(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):L_("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},TS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",IS=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){c(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return p(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Oi(this.snapshot.exportVal())}}]),e}()),NS=function(){function e(t,n,r){c(this,e),this.eventRegistration=t,this.error=n,this.path=r}return p(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),PS=function(){function e(t,n){c(this,e),this.snapshotCallback=t,this.cancelCallback=n}return p(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return ui(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),AS=function(){function e(t,n,r,i){c(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return p(e,[{key:"key",get:function(){return Rk(this._path)?null:Ik(this._path)}},{key:"ref",get:function(){return new RS(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Ab(this._queryParams),t=z_(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Ab(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Hi(t))instanceof e))return!1;var n=this._repo===t._repo,r=Dk(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var RS=function(e){y(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,r,new Nb,!1)}return p(n,[{key:"parent",get:function(){var e=Pk(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(AS),OS=function(){function e(t,n,r){c(this,e),this._node=t,this.ref=n,this._index=r}return p(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Ek(t),r=LS(this.ref,t);return new e(this._node.getChild(n),r,lb)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,LS(n.ref,r),lb))}))}},{key:"hasChild",value:function(e){var t=new Ek(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function DS(e,t){return(e=Hi(e))._checkNotDeleted("ref"),void 0!==t?LS(e._root,t):e._root}function LS(e,t){return null===xk((e=Hi(e))._path)?KE("child","path",t,!1):WE("child","path",t,!1),new RS(e._repo,Ak(e._path,t))}function MS(e,t){e=Hi(e),GE("set",e._path),qE("set",t,e._path,!1);var n=new wi;return fS(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}var FS=function(){function e(t){c(this,e),this.callbackContext=t}return p(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new IS("value",this,new OS(e.snapshotNode,new RS(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new NS(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),jS=function(){function e(t,n){c(this,e),this.eventType=t,this.callbackContext=n}return p(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new NS(this,e,t):null}},{key:"createEvent",value:function(e,t){ui(null!=e.childName,"Child events should have a childName.");var n=LS(new RS(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new IS(e.type,this,new OS(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function US(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){hS(e._repo,e,l),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new PS(n,a||void 0),l="value"===t?new FS(u):new jS(t,u);return function(e,t,n){var r;r=".info"===xk(t._path)?uE(e.infoSyncTree_,t,n):uE(e.serverSyncTree_,t,n),XE(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return hS(e._repo,e,l)}}function VS(e,t,n,r){return US(e,"value",t,n,r)}!function(e){ui(!Mw,"__referenceConstructor has already been defined"),Mw=e}(RS),function(e){ui(!qw,"__referenceConstructor has already been defined"),qw=e}(RS);var BS="FIREBASE_DATABASE_EMULATOR_HOST",zS={},qS=!1;function HS(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||D_("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),A_("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=xS(a,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/humans-base",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDQ5ORJnTxV5XhhzAtjZNGM_boRZ59lqLc",REACT_APP_FIREBASE_AUTH_DOMAIN:"human-base.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"human-base",REACT_APP_FIREBASE_STORAGE_BUCKET:"human-base.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"754877585259",REACT_APP_FIREBASE_APP_ID:"1:754877585259:web:c4265c5f14ff82f84bde2e"}[BS]),l?(o=!0,a="http://".concat(l,"?ns=").concat(u.namespace),u=(s=xS(a,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new J_(J_.OWNER):new X_(e.name,e.options,t);QE("Invalid Firebase Database URL",s),Rk(s.path)||D_("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=zS[t.name];i||(i={},zS[t.name]=i);var a=i[e.toURLString()];a&&D_("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new rS(e,qS,n,r),i[e.toURLString()]=a,a}(u,e,c,new Y_(e.name,n));return new WS(f,e)}var WS=function(){function e(t,n){c(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return p(e,[{key:"_repo",get:function(){return this._instanceStarted||(iS(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new RS(this._repo,Sk())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=zS[t];n&&n[e.key]===e||D_("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),dS(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&D_("Cannot call "+e+" on a deleted database.")}}]),e}();function KS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Hi(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&D_("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&D_('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new J_(J_.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Ei(r.mockUserToken,e.app.options.projectId);a=new J_(o)}!function(e,t,n,r){e.repoInfo_=new ik("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}Bk.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Bk.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){g_=e}(Ma),Aa(new Wi("database",(function(e,t){var n=t.instanceIdentifier;return HS(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ua(y_,m_,e),Ua(y_,m_,"esm2017")}();var GS,QS="firebasestorage.googleapis.com",$S="storageBucket",YS=function(e){y(n,e);var t=k(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return c(this,n),(i=t.call(this,XS(e),"Firebase Storage: ".concat(r," (").concat(XS(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(_(i),n.prototype),i}return p(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return XS(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ni);function XS(e){return"storage/"+e}function JS(){return new YS(GS.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ZS(){return new YS(GS.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ex(){return new YS(GS.CANCELED,"User canceled the upload/download.")}function tx(){return new YS(GS.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nx(e){return new YS(GS.INVALID_ARGUMENT,e)}function rx(){return new YS(GS.APP_DELETED,"The Firebase app was deleted.")}function ix(e,t){return new YS(GS.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function ax(e){throw new YS(GS.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(GS||(GS={}));var ox,sx=function(){function e(t,n){c(this,e),this.bucket=t,this.path_=n}return p(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new YS(GS.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===QS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],l=0;l<u.length;l++){var c=u[l],f=c.regex.exec(t);if(f){var h=f[c.indices.bucket],d=f[c.indices.path];d||(d=""),r=new e(h,d),c.postModify(r);break}}if(null==r)throw function(e){return new YS(GS.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),ux=function(){function e(t){c(this,e),this.promise_=Promise.reject(t)}return p(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function lx(e){return"string"===typeof e||e instanceof String}function cx(e){return fx()&&e instanceof Blob}function fx(){return"undefined"!==typeof Blob&&!Ci()}function hx(e,t,n,r){if(r<t)throw nx("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw nx("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function dx(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function px(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function vx(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(ox||(ox={}));var yx=function(){function e(t,n,r,i,a,o,s,u,l,f,h){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];c(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return p(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=JS();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?rx():ex());else i(ZS())}};this.canceled_?t(0,new mx(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var l=!1;function c(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(l)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void c.call.apply(c,[null,e].concat(n));var a;if(u()||o)return h(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),l||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new mx(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===ox.NO_ERROR,a=r.getStatus();if(!n||vx(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===ox.ABORT;t(!1,new mx(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new mx(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),mx=p((function e(t,n,r){c(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function gx(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function _x(){for(var e=gx(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(fx())return new Blob(n);throw new YS(GS.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function kx(e){if("undefined"===typeof atob)throw t="base-64",new YS(GS.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var bx={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},wx=p((function e(t,n){c(this,e),this.data=t,this.contentType=n||null}));function Ex(e,t){switch(e){case bx.RAW:return new wx(Sx(t));case bx.BASE64:case bx.BASE64URL:return new wx(xx(e,t));case bx.DATA_URL:return new wx(function(e){var t=new Cx(e);return t.base64?xx(bx.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw ix(bx.DATA_URL,"Malformed data URL.")}return Sx(t)}(t.rest)}(t),new Cx(t).contentType)}throw JS()}function Sx(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function xx(e,t){switch(e){case bx.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw ix(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case bx.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw ix(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=kx(t)}catch(l){if(l.message.includes("polyfill"))throw l;throw ix(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var Cx=p((function e(t){c(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw ix(bx.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){var n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var Tx=function(){function e(t,n){c(this,e);var r=0,i="";cx(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return p(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(cx(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(fx()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(_x.apply(null,i))}var a=n.map((function(e){return lx(e)?Ex(bx.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function Ix(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Nx(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Px(e,t){return t}var Ax=p((function e(t,n,r,i){c(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Px})),Rx=null;function Ox(){if(Rx)return Rx;var e=[];e.push(new Ax("bucket")),e.push(new Ax("generation")),e.push(new Ax("metageneration")),e.push(new Ax("name","fullPath",!0));var t=new Ax("name");t.xform=function(e,t){return function(e){return!lx(e)||e.length<2?e:Nx(e)}(t)},e.push(t);var n=new Ax("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Ax("timeCreated")),e.push(new Ax("updated")),e.push(new Ax("md5Hash",null,!0)),e.push(new Ax("cacheControl",null,!0)),e.push(new Ax("contentDisposition",null,!0)),e.push(new Ax("contentEncoding",null,!0)),e.push(new Ax("contentLanguage",null,!0)),e.push(new Ax("contentType",null,!0)),e.push(new Ax("metadata","customMetadata",!0)),Rx=e}function Dx(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new sx(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Lx(e,t,n){var r=Ix(t);return null===r?null:Dx(e,r,n)}function Mx(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var Fx=p((function e(t,n,r,i){c(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function jx(e){if(!e)throw JS()}function Ux(e,t){return function(n,r){var i=Lx(e,r,t);return jx(null!==i),i}}function Vx(e,t){return function(n,r){var i=Lx(e,r,t);return jx(null!==i),function(e,t,n,r){var i=Ix(t);if(null===i)return null;if(!lx(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return dx("/b/"+o(i)+"/o/"+o(a),n,r)+px({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Bx(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new YS(GS.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new YS(GS.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new YS(GS.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new YS(GS.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function zx(e){var t=Bx(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new YS(GS.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function qx(e,t,n){var r=dx(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Fx(r,"GET",Ux(e,n),i);return a.errorHandler=zx(t),a}function Hx(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Wx(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=Hx(t,r,i),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Mx(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+s+"--",f=Tx.getBlob(l,r,c);if(null===f)throw tx();var h={name:u.fullPath},d=dx(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Fx(d,"POST",Ux(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=Bx(t),v}var Kx=p((function e(t,n,r,i){c(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function Gx(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){jx(!1)}return jx(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Qx=262144;function $x(e,t,n,r,i,a,o,s){var u=new Kx(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new YS(GS.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var f=u.current,h=f+c,d={"X-Goog-Upload-Command":0===c?"finalize":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw tx();var v=t.maxUploadRetryTime,y=new Fx(n,"POST",(function(e,n){var i,o=Gx(e,["active","final"]),s=u.current+c,l=r.size();return i="final"===o?Ux(t,a)(e,n):null,new Kx(s,l,"final"===o,i)}),v);return y.headers=d,y.body=p.uploadData(),y.progressCallback=s||null,y.errorHandler=Bx(e),y}var Yx={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Xx(e){switch(e){case"running":case"pausing":case"canceling":return Yx.RUNNING;case"paused":return Yx.PAUSED;case"success":return Yx.SUCCESS;case"canceled":return Yx.CANCELED;default:return Yx.ERROR}}var Jx=p((function e(t,n,r){c(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function Zx(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var eC=null,tC=function(){function e(){var t=this;c(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ox.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=ox.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=ox.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return p(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw ax("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw ax("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw ax("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw ax("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw ax("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),nC=function(e){y(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(tC);function rC(){return eC?eC():new nC}var iC=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;c(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Ox(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(GS.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(vx(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=ZS()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(GS.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return p(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=E(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=Hx(t,r,i),s={name:o.fullPath},u=dx(a,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=Mx(o,n),f=e.maxUploadRetryTime,h=new Fx(u,"POST",(function(e){var t;Gx(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){jx(!1)}return jx(lx(t)),t}),f);return h.urlParams=s,h.headers=l,h.body=c,h.errorHandler=Bx(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,rC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new Fx(n,"POST",(function(e){var t=Gx(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){jx(!1)}n||jx(!1);var i=Number(n);return jx(!isNaN(i)),new Kx(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Bx(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,rC,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=Qx*this._chunkMultiplier,n=new Kx(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=$x(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,rC,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(Qx*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=qx(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,rC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=Wx(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,rC,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=ex(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=Xx(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new Jx(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(Xx(this._state)){case Yx.SUCCESS:Zx(this._resolve.bind(null,this.snapshot))();break;case Yx.CANCELED:case Yx.ERROR:Zx(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(Xx(this._state)){case Yx.RUNNING:case Yx.PAUSED:e.next&&Zx(e.next.bind(e,this.snapshot))();break;case Yx.SUCCESS:e.complete&&Zx(e.complete.bind(e))();break;case Yx.CANCELED:case Yx.ERROR:default:e.error&&Zx(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),aC=function(){function e(t,n){c(this,e),this._service=t,this._location=n instanceof sx?n:sx.makeFromUrl(n,t.host)}return p(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new sx(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Nx(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new sx(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new YS(GS.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function oC(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=dx(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Fx(r,"GET",Vx(e,n),i);return a.errorHandler=zx(t),a}(e.storage,e._location,Ox());return e.storage.makeRequestWithTokens(t,rC).then((function(e){if(null===e)throw new YS(GS.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function sC(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=dx(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Fx(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=zx(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,rC)}function uC(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new sx(e._location.bucket,n);return new aC(e.storage,r)}function lC(e,t){if(e instanceof hC){var n=e;if(null==n._bucket)throw new YS(GS.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$S+"' property when initializing the app?");var r=new aC(n,n._bucket);return null!=t?lC(r,t):r}return void 0!==t?uC(e,t):e}function cC(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof hC)return new aC(e,t);throw nx("To use ref(service, url), the first argument must be a Storage instance.")}return lC(e,t)}function fC(e,t){var n=null===t||void 0===t?void 0:t[$S];return null==n?null:sx.makeFromBucketSpec(n,e)}var hC=function(){function e(t,n,r,i,a){c(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=QS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?sx.makeFromBucketSpec(i,this._host):fC(this._host,this.app.options)}return p(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=sx.makeFromBucketSpec(this._url,e):this._bucket=fC(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){hx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){hx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Jr(Yr().mark((function e(){var t,n;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Jr(Yr().mark((function e(){var t,n;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new aC(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new ux(rx());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=px(e.urlParams),u=e.url+s,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new yx(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=Jr(Yr().mark((function e(t,n){var r,i,a,o;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=E(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),dC="@firebase/storage",pC="0.11.2",vC="storage";function yC(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new iC(e,new Tx(t),n)}(e=Hi(e),t,n)}function mC(e){return oC(e=Hi(e))}function gC(e){return sC(e=Hi(e))}function _C(e,t){return cC(e=Hi(e),t)}function kC(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Ei(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function bC(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new hC(r,i,a,n,Ma)}Aa(new Wi(vC,bC,"PUBLIC").setMultipleInstances(!0)),Ua(dC,pC,""),Ua(dC,pC,"esm2017");for(var wC,EC=Fa({apiKey:"AIzaSyBLNObPLIjfLMMt1Q2gdU-hgnPGK6sAe8s",authDomain:"programmers-chat.firebaseapp.com",projectId:"programmers-chat",storageBucket:"programmers-chat.appspot.com",messagingSenderId:"392961211942",appId:"1:392961211942:web:769664db498287984cb0e7"}),SC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja(),t=arguments.length>1?arguments[1]:void 0,n=Ra(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){var r=ki("database");r&&KS.apply(void 0,[n].concat(l(r)))}return n}(EC),xC=function(e,t){var n="string"==typeof e?e:t||"(default)",r=Ra("object"==typeof e?e:ja(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=ki("firestore");i&&ug.apply(void 0,[r].concat(l(i)))}return r}(EC),CC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja(),t=arguments.length>1?arguments[1]:void 0,n=Ra(e=Hi(e),vC).getImmediate({identifier:t}),r=ki("storage");return r&&kC.apply(void 0,[n].concat(l(r))),n}(EC),TC=256,IC=[];TC--;)IC[TC]=(TC+256).toString(16).substring(1);function NC(e){var t=0,n=e||11;if(!wC||TC+n>512)for(wC="",TC=0;t<256;t++)wC+=IC[256*Math.random()|0];return wC.substring(TC,TC+++n)}var PC=function(){var e=Jr(Yr().mark((function e(t,n){var r;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=dg(xC,"users",t),e.next=4,d_(r,{imageURL:n});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u0432 FS."),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),AC=function(){var e=Jr(Yr().mark((function e(){var t;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,f_(hg(xC,"users"));case 4:return e.sent.forEach((function(e){t.push(e.data())})),e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),RC=function(){var e=Jr(Yr().mark((function e(t){var n;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p_(dg(xC,"users",t));case 3:n=_C(CC,"programmersImg/".concat(t)),console.log(n),gC(n).then().catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f."),console.log(e)})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),OC=function(){var e=Jr(Yr().mark((function e(t){var n;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=NC(),e.next=4,h_(dg(xC,"users",n),vn(vn({},t),{},{uid:n}));case 4:return console.log(n),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f."),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),DC=function(){var e=Jr(Yr().mark((function e(t){var n,r;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],e.next=4,f_(hg(xC,"users"));case 4:return e.sent.forEach((function(e){n.push(e.data())})),r=n.filter((function(e){return e.login===t})),e.abrupt("return",!!r.length);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u043d\u0430 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),LC=function(e){var t=e.userInfo,n=e.setUsersCardArr,r=function(){var e=Jr(Yr().mark((function e(){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?")){e.next=12;break}return e.prev=2,n((function(e){return e.filter((function(e){return e.uid!==t.uid}))})),e.next=6,RC(t.uid);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430",e.t0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return(0,rt.jsx)("div",{title:"Delete",className:ri,children:(0,rt.jsxs)("svg",{onClick:r,width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,rt.jsx)("path",{d:"M4 7H20",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M6 10L7.70141 19.3578C7.87432 20.3088 8.70258 21 9.66915 21H14.3308C15.2974 21 16.1257 20.3087 16.2986 19.3578L18 10",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})},MC="ToggleTaskModeButton_container__EFQ-k",FC="ToggleTaskModeButton_addTaskButton__xYg6d",jC="ToggleTaskModeButton_goBackButton__w-fyz",UC=function(e){e.user;var t=e.setAddTaskMode,n=e.addTaskMode;return(0,rt.jsx)("div",{className:MC,children:(0,rt.jsx)("button",{onClick:function(){t(!n)},className:"".concat(FC," ").concat(n?jC:""),children:n?"Go back":"Task mode"})})},VC=function(){var e=br((function(e){return e.userSlice})),t=e.user,n=e.adminUser;return t.login===n.login},BC="OpenedCardHumanBot_container__qdAAq",zC="OpenedCardHumanBot_note__XDThJ",qC="CreateTaskForm_container__zNOG6",HC="CreateTaskForm_inputsBlock__rTO9i",WC="CreateTaskForm_taskInput__PqZVi",KC="CreateTaskForm_taskTitleInput__u6Tki",GC="CreateTaskForm_taskTextArea__lb2Lx",QC="CreateTaskForm_sendTaskButton__Nuz-3";function $C(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var YC=["name"],XC=["_f"],JC=["_f"],ZC=function(e){return"checkbox"===e.type},eT=function(e){return e instanceof Date},tT=function(e){return null==e},nT=function(e){return"object"===typeof e},rT=function(e){return!tT(e)&&!Array.isArray(e)&&nT(e)&&!eT(e)},iT=function(e){return rT(e)&&e.target?ZC(e.target)?e.target.checked:e.target.value:e},aT=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},oT=function(e){var t=e.constructor&&e.constructor.prototype;return rT(t)&&t.hasOwnProperty("isPrototypeOf")},sT="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function uT(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(sT&&(e instanceof Blob||e instanceof FileList)||!n&&!rT(e))return e;if(t=n?[]:{},Array.isArray(e)||oT(e))for(var r in e)t[r]=uT(e[r]);else t=e}return t}var lT=function(e){return Array.isArray(e)?e.filter(Boolean):[]},cT=function(e){return void 0===e},fT=function(e,t,n){if(!t||!rT(e))return n;var r=lT(t.split(/[,[\].]+?/)).reduce((function(e,t){return tT(e)?e:e[t]}),e);return cT(r)||r===e?cT(e[t])?n:e[t]:r},hT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},dT={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pT="max",vT="min",yT="maxLength",mT="minLength",gT="pattern",_T="required",kT="validate",bT=(t.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t._proxyFormState[i]!==dT.all&&(t._proxyFormState[i]=!r||dT.all),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),wT=function(e){return rT(e)&&!Object.keys(e).length},ET=function(e,t,n,r){n(e);e.name;var i=$C(e,YC);return wT(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((function(e){return t[e]===(!r||dT.all)}))},ST=function(e){return Array.isArray(e)?e:[e]};function xT(e){var n=t.useRef(e);n.current=e,t.useEffect((function(){var t=!e.disabled&&n.current.subject&&n.current.subject.subscribe({next:n.current.next});return function(){t&&t.unsubscribe()}}),[e.disabled])}var CT=function(e){return"string"===typeof e},TT=function(e,t,n,r,i){return CT(e)?(r&&t.watch.add(e),fT(n,e,i)):Array.isArray(e)?e.map((function(e){return r&&t.watch.add(e),fT(n,e)})):(r&&(t.watchAll=!0),n)};var IT=function(e){return/^\w*$/.test(e)},NT=function(e){return lT(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function PT(e,t,n){for(var r=-1,i=IT(t)?[t]:NT(t),a=i.length,o=a-1;++r<a;){var s=i[r],u=n;if(r!==o){var l=e[s];u=rT(l)||Array.isArray(l)?l:isNaN(+i[r+1])?{}:[]}e[s]=u,e=e[s]}return e}var AT=function(e,t,n,r,i){return t?vn(vn({},n[e]),{},{types:vn(vn({},n[e]&&n[e].types?n[e].types:{}),{},dn({},r,i||!0))}):{}},RT=function e(t,n,r){var i,a=C(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,s=fT(t,o);if(s){var u=s._f,l=$C(s,XC);if(u&&n(u.name)){if(u.ref.focus){u.ref.focus();break}if(u.refs&&u.refs[0].focus){u.refs[0].focus();break}}else rT(l)&&e(l,n)}}}catch(c){a.e(c)}finally{a.f()}},OT=function(e){return{isOnSubmit:!e||e===dT.onSubmit,isOnBlur:e===dT.onBlur,isOnChange:e===dT.onChange,isOnAll:e===dT.all,isOnTouch:e===dT.onTouched}},DT=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||l(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},LT=function(e,t,n){var r=lT(fT(e,n));return PT(r,"root",t[n]),PT(e,n,r),e},MT=function(e){return"boolean"===typeof e},FT=function(e){return"file"===e.type},jT=function(e){return"function"===typeof e},UT=function(e){if(!sT)return!1;var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},VT=function(e){return CT(e)},BT=function(e){return"radio"===e.type},zT=function(e){return e instanceof RegExp},qT={value:!1,isValid:!1},HT={value:!0,isValid:!0},WT=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!cT(e[0].attributes.value)?cT(e[0].value)||""===e[0].value?HT:{value:e[0].value,isValid:!0}:HT:qT}return qT},KT={isValid:!1,value:null},GT=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),KT):KT};function QT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(VT(e)||Array.isArray(e)&&e.every(VT)||MT(e)&&!e)return{type:n,message:VT(e)?e:"",ref:t}}var $T=function(e){return rT(e)&&!zT(e)?e:{value:e,message:""}},YT=function(){var e=Jr(Yr().mark((function e(t,n,r,i,a){var o,s,u,l,c,f,h,d,p,v,y,m,g,_,k,b,w,E,S,x,C,T,I,N,P,A,R,O,D,L,M,F,j,U,V,B,z,q,H,W,K,G,Q,$,Y,X,J,Z;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,s=o.ref,u=o.refs,l=o.required,c=o.maxLength,f=o.minLength,h=o.min,d=o.max,p=o.pattern,v=o.validate,y=o.name,m=o.valueAsNumber,g=o.mount,_=o.disabled,k=fT(n,y),g&&!_){e.next=4;break}return e.abrupt("return",{});case 4:if(b=u?u[0]:s,w=function(e){i&&b.reportValidity&&(b.setCustomValidity(MT(e)?"":e||""),b.reportValidity())},E={},S=BT(s),x=ZC(s),C=S||x,T=(m||FT(s))&&cT(s.value)&&cT(k)||UT(s)&&""===s.value||""===k||Array.isArray(k)&&!k.length,I=AT.bind(null,y,r,E),N=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yT,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mT,a=e?t:n;E[y]=vn({type:e?r:i,message:a,ref:s},I(e?r:i,a))},!(a?!Array.isArray(k)||!k.length:l&&(!C&&(T||tT(k))||MT(k)&&!k||x&&!WT(u).isValid||S&&!GT(u).isValid))){e.next=20;break}if(P=VT(l)?{value:!!l,message:l}:$T(l),A=P.value,R=P.message,!A){e.next=20;break}if(E[y]=vn({type:_T,message:R,ref:b},I(_T,R)),r){e.next=20;break}return w(R),e.abrupt("return",E);case 20:if(T||tT(h)&&tT(d)){e.next=29;break}if(L=$T(d),M=$T(h),tT(k)||isNaN(k)?(j=s.valueAsDate||new Date(k),U=function(e){return new Date((new Date).toDateString()+" "+e)},V="time"==s.type,B="week"==s.type,CT(L.value)&&k&&(O=V?U(k)>U(L.value):B?k>L.value:j>new Date(L.value)),CT(M.value)&&k&&(D=V?U(k)<U(M.value):B?k<M.value:j<new Date(M.value))):(F=s.valueAsNumber||(k?+k:k),tT(L.value)||(O=F>L.value),tT(M.value)||(D=F<M.value)),!O&&!D){e.next=29;break}if(N(!!O,L.message,M.message,pT,vT),r){e.next=29;break}return w(E[y].message),e.abrupt("return",E);case 29:if(!c&&!f||T||!(CT(k)||a&&Array.isArray(k))){e.next=39;break}if(z=$T(c),q=$T(f),H=!tT(z.value)&&k.length>+z.value,W=!tT(q.value)&&k.length<+q.value,!H&&!W){e.next=39;break}if(N(H,z.message,q.message),r){e.next=39;break}return w(E[y].message),e.abrupt("return",E);case 39:if(!p||T||!CT(k)){e.next=46;break}if(K=$T(p),G=K.value,Q=K.message,!zT(G)||k.match(G)){e.next=46;break}if(E[y]=vn({type:gT,message:Q,ref:s},I(gT,Q)),r){e.next=46;break}return w(Q),e.abrupt("return",E);case 46:if(!v){e.next=80;break}if(!jT(v)){e.next=59;break}return e.next=50,v(k,n);case 50:if($=e.sent,!(Y=QT($,b))){e.next=57;break}if(E[y]=vn(vn({},Y),I(kT,Y.message)),r){e.next=57;break}return w(Y.message),e.abrupt("return",E);case 57:e.next=80;break;case 59:if(!rT(v)){e.next=80;break}X={},e.t0=Yr().keys(v);case 62:if((e.t1=e.t0()).done){e.next=76;break}if(J=e.t1.value,wT(X)||r){e.next=66;break}return e.abrupt("break",76);case 66:return e.t2=QT,e.next=69,v[J](k,n);case 69:e.t3=e.sent,e.t4=b,e.t5=J,(Z=(0,e.t2)(e.t3,e.t4,e.t5))&&(X=vn(vn({},Z),I(J,Z.message)),w(Z.message),r&&(E[y]=X)),e.next=62;break;case 76:if(wT(X)){e.next=80;break}if(E[y]=vn({ref:b},X),r){e.next=80;break}return e.abrupt("return",E);case 80:return w(!0),e.abrupt("return",E);case 82:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();function XT(e,t){var n=Array.isArray(t)?t:IT(t)?[t]:NT(t),r=1===n.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=cT(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(rT(r)&&wT(r)||Array.isArray(r)&&function(e){for(var t in e)if(!cT(e[t]))return!1;return!0}(r))&&XT(e,n.slice(0,-1)),e}function JT(){var e=[];return{get observers(){return e},next:function(t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.next&&i.next(t)}}catch(a){r.e(a)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var ZT=function(e){return tT(e)||!nT(e)};function eI(e,t){if(ZT(e)||ZT(t))return e===t;if(eT(e)&&eT(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],s=e[o];if(!r.includes(o))return!1;if("ref"!==o){var u=t[o];if(eT(s)&&eT(u)||rT(s)&&rT(u)||Array.isArray(s)&&Array.isArray(u)?!eI(s,u):s!==u)return!1}}return!0}var tI=function(e){return"select-multiple"===e.type},nI=function(e){return BT(e)||ZC(e)},rI=function(e){return UT(e)&&e.isConnected},iI=function(e){for(var t in e)if(jT(e[t]))return!0;return!1};function aI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(rT(e)||n)for(var r in e)Array.isArray(e[r])||rT(e[r])&&!iI(e[r])?(t[r]=Array.isArray(e[r])?[]:{},aI(e[r],t[r])):tT(e[r])||(t[r]=!0);return t}function oI(e,t,n){var r=Array.isArray(e);if(rT(e)||r)for(var i in e)Array.isArray(e[i])||rT(e[i])&&!iI(e[i])?cT(t)||ZT(n[i])?n[i]=Array.isArray(e[i])?aI(e[i],[]):vn({},aI(e[i])):oI(e[i],tT(t)?{}:t[i],n[i]):n[i]=!eI(e[i],t[i]);return n}var sI=function(e,t){return oI(e,t,aI(t))},uI=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return cT(e)?e:n?""===e?NaN:e?+e:e:r&&CT(e)?new Date(e):i?i(e):e};function lI(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return FT(t)?t.files:BT(t)?GT(e.refs).value:tI(t)?l(t.selectedOptions).map((function(e){return e.value})):ZC(t)?WT(e.refs).value:uI(cT(t.value)?e.ref.value:t.value,e)}var cI=function(e,t,n,r){var i,a={},o=C(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=fT(t,s);u&&PT(a,s,u._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:l(e),fields:a,shouldUseNativeValidation:r}},fI=function(e){return cT(e)?e:zT(e)?e.source:rT(e)?zT(e.value)?e.value.source:e.value:e},hI=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function dI(e,t,n){var r=fT(e,n);if(r||IT(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=fT(t,a),s=fT(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var pI=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},vI=function(e,t){return!lT(fT(e,t)).length&&XT(e,t)},yI={mode:dT.onSubmit,reValidateMode:dT.onChange,shouldFocusError:!0};function mI(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=vn(vn({},yI),t),i={submitCount:0,isDirty:!1,isLoading:jT(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},o=(rT(r.defaultValues)||rT(r.values))&&uT(r.defaultValues||r.values)||{},s=r.shouldUnregister?{}:uT(o),u={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},f=0,h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:JT(),array:JT(),state:JT()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,v=OT(r.mode),y=OT(r.reValidateMode),m=r.criteriaMode===dT.all,g=function(){var e=Jr(Yr().mark((function e(t){var n;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.isValid&&!t){e.next=14;break}if(!r.resolver){e.next=9;break}return e.t1=wT,e.next=5,E();case 5:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=12;break;case 9:return e.next=11,x(a,!0);case 11:e.t0=e.sent;case 12:(n=e.t0)!==i.isValid&&d.state.next({isValid:n});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){return h.isValidating&&d.state.next({isValidating:e})},k=function(e,t,n,r){var i=fT(a,e);if(i){var l=fT(s,e,cT(n)?fT(o,e):n);cT(l)||r&&r.defaultChecked||t?PT(s,e,t?l:lI(i._f)):N(e,l),u.mount&&g()}},b=function(e,t,n,r,a){var s=!1,u=!1,l={name:e};if(!n||r){h.isDirty&&(u=i.isDirty,i.isDirty=l.isDirty=T(),s=u!==l.isDirty);var c=eI(fT(o,e),t);u=fT(i.dirtyFields,e),c?XT(i.dirtyFields,e):PT(i.dirtyFields,e,!0),l.dirtyFields=i.dirtyFields,s=s||h.dirtyFields&&u!==!c}if(n){var f=fT(i.touchedFields,e);f||(PT(i.touchedFields,e,n),l.touchedFields=i.touchedFields,s=s||h.touchedFields&&f!==n)}return s&&a&&d.state.next(l),s?l:{}},w=function(n,r,a,o){var s=fT(i.errors,n),u=h.isValid&&MT(r)&&i.isValid!==r;if(t.delayError&&a?(e=function(e){return function(t){clearTimeout(f),f=setTimeout(e,t)}}((function(){return function(e,t){PT(i.errors,e,t),d.state.next({errors:i.errors})}(n,a)})),e(t.delayError)):(clearTimeout(f),e=null,a?PT(i.errors,n,a):XT(i.errors,n)),(a?!eI(s,a):s)||!wT(o)||u){var l=vn(vn(vn({},o),u&&MT(r)?{isValid:r}:{}),{},{errors:i.errors,name:n});i=vn(vn({},i),l),d.state.next(l)}_(!1)},E=function(){var e=Jr(Yr().mark((function e(t){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.resolver(s,r.context,cI(t||c.mount,a,r.criteriaMode,r.shouldUseNativeValidation)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Jr(Yr().mark((function e(t){var n,r,a,o,s,u;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:if(n=e.sent,r=n.errors,t){a=C(t);try{for(a.s();!(o=a.n()).done;)s=o.value,(u=fT(r,s))?PT(i.errors,s,u):XT(i.errors,s)}catch(l){a.e(l)}finally{a.f()}}else i.errors=r;return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Jr(Yr().mark((function e(t,n){var a,o,u,l,f,h,d,p=arguments;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=Yr().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(o=e.t1.value,!(u=t[o])){e.next=21;break}if(l=u._f,f=$C(u,JC),!l){e.next=17;break}return h=c.array.has(l.name),e.next=11,YT(u,s,m,r.shouldUseNativeValidation&&!n,h);case 11:if(!(d=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!n){e.next=16;break}return e.abrupt("break",23);case 16:!n&&(fT(d,l.name)?h?LT(i.errors,d,l.name):PT(i.errors,l.name,d[l.name]):XT(i.errors,l.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,x(f,n,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(e,t){return e&&t&&PT(s,e,t),!eI(D(),o)},I=function(e,t,n){return TT(e,c,vn({},u.mount?s:cT(t)?o:CT(e)?dn({},e,t):t),n,t)},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=fT(a,e),i=t;if(r){var o=r._f;o&&(!o.disabled&&PT(s,e,uI(t,o)),i=UT(o.ref)&&tT(t)?"":t,tI(o.ref)?l(o.ref.options).forEach((function(e){return e.selected=i.includes(e.value)})):o.refs?ZC(o.ref)?o.refs.length>1?o.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((function(t){return t===e.value})):i===e.value)})):o.refs[0]&&(o.refs[0].checked=!!i):o.refs.forEach((function(e){return e.checked=e.value===i})):FT(o.ref)?o.ref.value="":(o.ref.value=i,o.ref.type||d.values.next({name:e,values:vn({},s)})))}(n.shouldDirty||n.shouldTouch)&&b(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&O(e)},P=function e(t,n,r){for(var i in n){var o=n[i],s="".concat(t,".").concat(i),u=fT(a,s);!c.array.has(t)&&ZT(o)&&(!u||u._f)||eT(o)?N(s,o,r):e(s,o,r)}},A=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=fT(a,e),f=c.array.has(e),p=uT(t);PT(s,e,p),f?(d.array.next({name:e,values:vn({},s)}),(h.isDirty||h.dirtyFields)&&r.shouldDirty&&d.state.next({name:e,dirtyFields:sI(o,s),isDirty:T(e,p)})):!l||l._f||tT(p)?N(e,p,r):P(e,p,r),DT(e,c)&&d.state.next(vn({},i)),d.values.next({name:e,values:vn({},s)}),!u.mount&&n()},R=function(){var t=Jr(Yr().mark((function t(n){var o,u,l,f,p,k,S,C,T,I,N,P,A,R,D,L,M;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.target,u=o.name,l=!0,f=fT(a,u),p=function(){return o.type?lI(f._f):iT(n)},!f){t.next=47;break}if(C=p(),T=n.type===hT.BLUR||n.type===hT.FOCUS_OUT,I=!hI(f._f)&&!r.resolver&&!fT(i.errors,u)&&!f._f.deps||pI(T,fT(i.touchedFields,u),i.isSubmitted,y,v),N=DT(u,c,T),PT(s,u,C),T?(f._f.onBlur&&f._f.onBlur(n),e&&e(0)):f._f.onChange&&f._f.onChange(n),P=b(u,C,T,!1),A=!wT(P)||N,!T&&d.values.next({name:u,type:n.type,values:vn({},s)}),!I){t.next=18;break}return h.isValid&&g(),t.abrupt("return",A&&d.state.next(vn({name:u},N?{}:P)));case 18:if(!T&&N&&d.state.next(vn({},i)),_(!0),!r.resolver){t.next=32;break}return t.next=23,E([u]);case 23:R=t.sent,D=R.errors,L=dI(i.errors,a,u),M=dI(D,a,L.name||u),k=M.error,u=M.name,S=wT(D),t.next=46;break;case 32:return t.next=34,YT(f,s,m,r.shouldUseNativeValidation);case 34:if(t.t0=u,k=t.sent[t.t0],!(l=isNaN(C)||C===fT(s,u,C))){t.next=46;break}if(!k){t.next=42;break}S=!1,t.next=46;break;case 42:if(!h.isValid){t.next=46;break}return t.next=45,x(a,!0);case 45:S=t.sent;case 46:l&&(f._f.deps&&O(f._f.deps),w(u,S,k,P));case 47:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var e=Jr(Yr().mark((function e(t){var n,o,s,u,l,f=arguments;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]?f[1]:{},u=ST(t),_(!0),!r.resolver){e.next=11;break}return e.next=6,S(cT(t)?t:u);case 6:l=e.sent,o=wT(l),s=t?!u.some((function(e){return fT(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(u.map(function(){var e=Jr(Yr().mark((function e(t){var n;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fT(a,t),e.next=3,x(n&&n._f?dn({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((s=e.sent.every(Boolean))||i.isValid)&&g(),e.next=21;break;case 18:return e.next=20,x(a);case 20:s=o=e.sent;case 21:return d.state.next(vn(vn(vn({},!CT(t)||h.isValid&&o!==i.isValid?{}:{name:t}),r.resolver||!t?{isValid:o}:{}),{},{errors:i.errors,isValidating:!1})),n.shouldFocus&&!s&&RT(a,(function(e){return e&&fT(i.errors,e)}),t?u:c.mount),e.abrupt("return",s);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){var t=vn(vn({},o),u.mount?s:{});return cT(e)?t:CT(e)?fT(t,e):e.map((function(e){return fT(t,e)}))},L=function(e,t){return{invalid:!!fT((t||i).errors,e),isDirty:!!fT((t||i).dirtyFields,e),isTouched:!!fT((t||i).touchedFields,e),error:fT((t||i).errors,e)}},M=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=C(e?ST(e):c.mount);try{for(u.s();!(t=u.n()).done;){var l=t.value;c.mount.delete(l),c.array.delete(l),n.keepValue||(XT(a,l),XT(s,l)),!n.keepError&&XT(i.errors,l),!n.keepDirty&&XT(i.dirtyFields,l),!n.keepTouched&&XT(i.touchedFields,l),!r.shouldUnregister&&!n.keepDefaultValue&&XT(o,l)}}catch(f){u.e(f)}finally{u.f()}d.values.next({values:vn({},s)}),d.state.next(vn(vn({},i),n.keepDirty?{isDirty:T()}:{})),!n.keepIsValid&&g()},F=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=fT(a,t),f=MT(n.disabled);return PT(a,t,vn(vn({},i||{}),{},{_f:vn(vn({},i&&i._f?i._f:{ref:{name:t}}),{},{name:t,mount:!0},n)})),c.mount.add(t),i?f&&PT(s,t,n.disabled?void 0:fT(s,t,lI(i._f))):k(t,!0,n.value),vn(vn(vn({},f?{disabled:n.disabled}:{}),r.shouldUseNativeValidation?{required:!!n.required,min:fI(n.min),max:fI(n.max),minLength:fI(n.minLength),maxLength:fI(n.maxLength),pattern:fI(n.pattern)}:{}),{},{name:t,onChange:R,onBlur:R,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(s){if(s){e(t,n),i=fT(a,t);var f=cT(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,h=nI(f),d=i._f.refs||[];if(h?d.find((function(e){return e===f})):f===i._f.ref)return;PT(a,t,{_f:vn(vn({},i._f),h?{refs:[].concat(l(d.filter(rI)),[f],l(Array.isArray(fT(o,t))?[{}]:[])),ref:{type:f.type,name:t}}:{ref:f})}),k(t,!1,void 0,f)}else(i=fT(a,t,{}))._f&&(i._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&(!aT(c.array,t)||!u.action)&&c.unMount.add(t)}))})},j=function(){return r.shouldFocusError&&RT(a,(function(e){return e&&fT(i.errors,e)}),c.mount)},U=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=e||o,f=uT(l),v=e&&!wT(e)?f:o;if(r.keepDefaultValues||(o=l),!r.keepValues){if(r.keepDirtyValues||p){var y,m=C(c.mount);try{for(m.s();!(y=m.n()).done;){var g=y.value;fT(i.dirtyFields,g)?PT(v,g,fT(s,g)):A(g,fT(v,g))}}catch(x){m.e(x)}finally{m.f()}}else{if(sT&&cT(e)){var _,k=C(c.mount);try{for(k.s();!(_=k.n()).done;){var b=_.value,w=fT(a,b);if(w&&w._f){var E=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(UT(E)){var S=E.closest("form");if(S){S.reset();break}}}}}catch(x){k.e(x)}finally{k.f()}}a={}}s=t.shouldUnregister?r.keepDefaultValues?uT(o):{}:f,d.array.next({values:vn({},v)}),d.values.next({values:vn({},v)})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!u.mount&&n(),u.mount=!h.isValid||!!r.keepIsValid,u.watch=!!t.shouldUnregister,d.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:r.keepDirty?i.isDirty:!(!r.keepDefaultValues||eI(e,o)),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:r.keepDirtyValues?i.dirtyFields:r.keepDefaultValues&&e?sI(o,e):{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},V=function(e,t){return U(jT(e)?e(s):e,t)};return{control:{register:F,unregister:M,getFieldState:L,_executeSchema:E,_getWatch:I,_getDirty:T,_updateValid:g,_removeUnmounted:function(){var e,t=C(c.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=fT(a,n);r&&(r._f.refs?r._f.refs.every((function(e){return!rI(e)})):!rI(r._f.ref))&&M(n)}}catch(i){t.e(i)}finally{t.f()}c.unMount=new Set},_updateFieldArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(r&&n){if(u.action=!0,c&&Array.isArray(fT(a,e))){var f=n(fT(a,e),r.argA,r.argB);l&&PT(a,e,f)}if(c&&Array.isArray(fT(i.errors,e))){var p=n(fT(i.errors,e),r.argA,r.argB);l&&PT(i.errors,e,p),vI(i.errors,e)}if(h.touchedFields&&c&&Array.isArray(fT(i.touchedFields,e))){var v=n(fT(i.touchedFields,e),r.argA,r.argB);l&&PT(i.touchedFields,e,v)}h.dirtyFields&&(i.dirtyFields=sI(o,s)),d.state.next({name:e,isDirty:T(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else PT(s,e,t)},_getFieldArray:function(e){return lT(fT(u.mount?s:o,e,t.shouldUnregister?fT(o,e,[]):[]))},_reset:U,_resetDefaultValues:function(){return jT(r.defaultValues)&&r.defaultValues().then((function(e){V(e,r.resetOptions),d.state.next({isLoading:!1})}))},_updateFormState:function(e){i=vn(vn({},i),e)},_subjects:d,_proxyFormState:h,get _fields(){return a},get _formValues(){return s},get _state(){return u},set _state(e){u=e},get _defaultValues(){return o},get _names(){return c},set _names(e){c=e},get _formState(){return i},set _formState(e){i=e},get _options(){return r},set _options(e){r=vn(vn({},r),e)}},trigger:O,register:F,handleSubmit:function(e,t){return function(){var n=Jr(Yr().mark((function n(o){var u,l,c,f;return Yr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist()),u=uT(s),d.state.next({isSubmitting:!0}),!r.resolver){n.next=13;break}return n.next=6,E();case 6:l=n.sent,c=l.errors,f=l.values,i.errors=c,u=f,n.next=15;break;case 13:return n.next=15,x(a);case 15:if(XT(i.errors,"root"),!wT(i.errors)){n.next=22;break}return d.state.next({errors:{}}),n.next=20,e(u,o);case 20:n.next=27;break;case 22:if(!t){n.next=25;break}return n.next=25,t(vn({},i.errors),o);case 25:j(),setTimeout(j);case 27:d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wT(i.errors),submitCount:i.submitCount+1,errors:i.errors});case 28:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},watch:function(e,t){return jT(e)?d.values.subscribe({next:function(n){return e(I(void 0,t),n)}}):I(e,t,!0)},setValue:A,getValues:D,reset:V,resetField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};fT(a,e)&&(cT(t.defaultValue)?A(e,fT(o,e)):(A(e,t.defaultValue),PT(o,e,t.defaultValue)),t.keepTouched||XT(i.touchedFields,e),t.keepDirty||(XT(i.dirtyFields,e),i.isDirty=t.defaultValue?T(e,fT(o,e)):T()),t.keepError||(XT(i.errors,e),h.isValid&&g()),d.state.next(vn({},i)))},clearErrors:function(e){e&&ST(e).forEach((function(e){return XT(i.errors,e)})),d.state.next({errors:e?i.errors:{}})},unregister:M,setError:function(e,t,n){var r=(fT(a,e,{_f:{}})._f||{}).ref;PT(i.errors,e,vn(vn({},t),{},{ref:r})),d.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},setFocus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=fT(a,e),r=n&&n._f;if(r){var i=r.refs?r.refs[0]:r.ref;i.focus&&(i.focus(),t.shouldSelect&&i.select())}},getFieldState:L}}var gI=function(){var e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0");return"".concat(t).concat(n).concat(r).concat(i).concat(a).concat(o)},_I=function(){var e=Jr(Yr().mark((function e(){var t;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,f_(hg(xC,"tasks"));case 4:return e.sent.forEach((function(e){return t.push(e.data())})),e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u043b\u0430\u0434\u043e\u043a \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439."),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u043b\u0430\u0434\u043e\u043a \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),kI=function(){var e=Jr(Yr().mark((function e(t){var n,r;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],r=$g(hg(xC,"tasks"),Xg("userUID","==",t)),e.next=5,f_(r);case 5:return e.sent.forEach((function(e){return n.push(e.data())})),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u043b\u0430\u0434\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f."),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u043b\u0430\u0434\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.");case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),bI=function(){var e=Jr(Yr().mark((function e(t){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p_(dg(xC,"tasks",t));case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438."),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438.");case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),wI=function(){var e=Jr(Yr().mark((function e(t,n){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d_(dg(xC,"tasks",t),{state:n});case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0442\u0430\u0441\u043a\u0430."),console.log(e.t0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0442\u0430\u0441\u043a\u0430.");case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),EI=function(){var e=Jr(Yr().mark((function e(t,n){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d_(dg(xC,"tasks",t),n);case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0442\u0430\u0441\u043a\u0430."),console.log(e.t0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0442\u0430\u0441\u043a\u0430.");case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),SI=function(){var e=Jr(Yr().mark((function e(t,n,r,i){var a,o;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=NC(),o={title:n,text:r||"",date:gI()||"",username:t||"",state:!1,userUID:i,uid:a||""},!n.length){e.next=6;break}return e.next=6,h_(dg(xC,"tasks",a),o);case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0430\u0441\u043a\u0430."),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0430\u0441\u043a\u0430.");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),xI=function(e){var n=e.userInfo,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.useRef(),r=E(t.useState({isDirty:!1,isValidating:!1,isLoading:jT(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:jT(e.defaultValues)?void 0:e.defaultValues}),2),i=r[0],a=r[1];n.current||(n.current=vn(vn({},mI(e,(function(){return a((function(e){return vn({},e)}))}))),{},{formState:i}));var o=n.current.control;return o._options=e,xT({subject:o._subjects.state,next:function(e){ET(e,o._proxyFormState,o._updateFormState,!0)&&a(vn({},o._formState))}}),t.useEffect((function(){e.values&&!eI(e.values,o._defaultValues)?o._reset(e.values,o._options.resetOptions):o._resetDefaultValues()}),[e.values,o]),t.useEffect((function(){o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(vn({},o._formState))),o._removeUnmounted()})),n.current.formState=bT(i,o),n.current}(),i=r.register,a=(r.formState.errors,r.handleSubmit),o=r.reset;return(0,rt.jsx)("div",{className:qC,children:(0,rt.jsxs)("form",{onSubmit:a((function(e){SI(n.name,e.title,e.text,n.uid).then().catch(),o()})),children:[(0,rt.jsxs)("div",{className:HC,children:[(0,rt.jsx)("input",vn(vn({className:"".concat(WC," ").concat(KC),placeholder:"Enter title task..."},i("title")),{},{required:!0,autoFocus:!0,autoComplete:"off",maxLength:40})),(0,rt.jsx)("textarea",vn({className:"".concat(WC," ").concat(GC),placeholder:"Enter text task..."},i("text")))]}),(0,rt.jsx)("button",{className:QC,children:"Send task"})]})})},CI=function(e){var t=e.addTaskMode,n=void 0!==t&&t,r=e.userInfo;return(0,rt.jsx)("div",{className:BC,children:n?(0,rt.jsx)(xI,{userInfo:r}):(0,rt.jsx)("div",{className:zC,children:"\u041b\u044e\u0431\u043b\u044e \u043a\u043e\u0442\u0438\u043a\u043e\u0432 \u0438 \u043d\u0435 \u043b\u044e\u0431\u043b\u044e \u0443\u0442\u0440\u043e."})})},TI=n.p+"static/media/noPhoto.7aa616a33b2a429c4a88.png",II=function(e){var n=e.setCardIsOpen,r=e.userInfo,i=e.setUsersCardArr,a=E((0,t.useState)(!1),2),o=a[0],s=a[1],u=VC();return(0,rt.jsxs)("div",{className:ni.container,children:[(0,rt.jsx)("div",{onClick:function(){return n(!1)},className:ni.overlay}),(0,rt.jsxs)("div",{className:ni.window,children:[(0,rt.jsxs)("div",{className:ni.topWindow,children:[u&&(0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)(LC,{userInfo:r,setUsersCardArr:i}),(0,rt.jsx)(UC,{user:r,setAddTaskMode:s,addTaskMode:o})]}),(0,rt.jsx)("img",{className:ni.photo+" "+(!r.imageURL&&ni.noPhoto),src:r.imageURL||TI,alt:"Human"}),(0,rt.jsxs)("div",{className:ni.about,children:[(0,rt.jsx)("div",{className:ni.level,children:ti(r.level)}),(0,rt.jsxs)("div",{className:ni.name,children:[ti(r.name)," ",ti(r.surname)]}),(0,rt.jsx)("div",{className:ni.birthday,children:r.birthday})]})]}),(0,rt.jsx)(CI,{userInfo:r,addTaskMode:o})]})]})},NI=function(e){var n=e.userInfo,r=e.setUsersCardArr,i=void 0===r?function(){}:r,a=e.openOnClick,o=void 0===a||a,s=E((0,t.useState)(!1),2),u=s[0],l=s[1],c=E((0,t.useState)(TI),2),f=(c[0],c[1],br((function(e){return e.userSlice})).adminUser),h=function(){var e=Jr(Yr().mark((function e(){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,rt.jsxs)("div",{children:[u&&o&&(0,rt.jsx)(II,{setCardIsOpen:l,setUsersCardArr:i,userInfo:n}),(0,rt.jsxs)("div",{onClick:h,className:"".concat(Zr.container," ").concat(ei),children:[(0,rt.jsx)("img",{className:Zr.photo+" "+(!n.imageURL&&Zr.noPhoto),src:n.imageURL||TI,alt:"Human"}),(0,rt.jsxs)("div",{className:Zr.about,children:[(0,rt.jsx)("div",{className:Zr.level,children:n.login===f.login?"Admin":ti(n.level)}),(0,rt.jsxs)("div",{className:Zr.name,children:[ti(n.name)," ",ti(n.surname)]})]})]})]})},PI={container:"PersonInfo_container__9lb87",level:"PersonInfo_level__acSxm"},AI=function(e){var t=e.userInfo;return(0,rt.jsxs)("div",{className:PI.container,children:[(0,rt.jsx)("div",{className:PI.level,children:t.level}),(0,rt.jsx)("div",{className:PI.name,children:t.name+" "+t.surname}),(0,rt.jsx)("div",{className:PI.birthday,children:t.birthday})]})};var RI="BottomProfile_container__vTuWi",OI="BottomProfile_aboutMeInput__K2Yta",DI="BottomProfile_inputFile__XgyV3",LI="BottomProfile_uploadButton__Ghz4V",MI="BottomProfile_editButton__k7LaV",FI="BottomProfile_deleteButton__1zZlL",jI=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e);var n=Pr(),r=br((function(e){return e.userSlice})).user,i=E((0,t.useState)(null),2),a=i[0],o=i[1],s=(0,t.useRef)(null),u=function(){var e=Jr(Yr().mark((function e(){var t,i;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=8;break}return t={contentType:"image/jpeg"},i=_C(CC,"programmersImg/"+r.uid),e.next=6,yC(i,a,t);case 6:return e.next=8,mC(i).then((function(e){PC(r.uid,e),n(sr(vn(vn({},r),{},{imageURL:e}))),console.log("img is uploaded")})).catch((function(e){console.log(e),console.log("new err")}));case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return(0,rt.jsxs)("div",{className:RI,children:[(0,rt.jsx)("div",{className:OI}),(0,rt.jsx)("input",{className:DI,ref:s,onChange:function(e){return function(e){var t=e.target.files;t&&t.length>0&&o(t[0])}(e)},type:"file",accept:".png,.jpg,.jpeg"}),(0,rt.jsx)("button",{onClick:function(){var e;null===(e=s.current)||void 0===e||e.click()},className:LI,children:"Pick img"}),(0,rt.jsx)("button",{onClick:u,className:MI,children:"Upload img"}),(0,rt.jsx)("button",{onClick:function(){gC(_C(CC,"programmersImg/".concat(r.uid))).then((function(){PC(r.uid,"").then(),n(sr(vn(vn({},r),{},{imageURL:""}))),console.log("img is deleted")})).catch((function(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438."),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438."),console.log(e)}))},className:FI,children:"Delete Img"})]})},UI=function(){var e=br((function(e){return e.userSlice})).user,t={uid:e.uid||"",name:ti(e.name),surname:ti(e.surname),level:ti(e.level),birthday:e.birthday||"",login:"",imageURL:e.imageURL};return(0,rt.jsxs)("div",{className:Kr,children:[(0,rt.jsxs)("div",{className:Gr,children:[(0,rt.jsx)("img",{className:Qr,src:e.imageURL||TI,alt:"Human"}),(0,rt.jsx)(AI,{userInfo:t}),(0,rt.jsx)("div",{className:$r,children:(0,rt.jsx)(NI,{userInfo:t,openOnClick:!1})})]}),(0,rt.jsx)(jI,{})]})},VI="Programmers_container__VLl2U",BI=function(){return BI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},BI.apply(this,arguments)};var zI=function(e){var n=e.animate,r=void 0===n||n,i=e.animateBegin,a=e.backgroundColor,o=void 0===a?"#f5f6f7":a,s=e.backgroundOpacity,u=void 0===s?1:s,l=e.baseUrl,c=void 0===l?"":l,f=e.children,h=e.foregroundColor,d=void 0===h?"#eee":h,p=e.foregroundOpacity,v=void 0===p?1:p,y=e.gradientRatio,m=void 0===y?2:y,g=e.gradientDirection,_=void 0===g?"left-right":g,k=e.uniqueKey,b=e.interval,w=void 0===b?.25:b,E=e.rtl,S=void 0!==E&&E,x=e.speed,C=void 0===x?1.2:x,T=e.style,I=void 0===T?{}:T,N=e.title,P=void 0===N?"Loading...":N,A=e.beforeMask,R=void 0===A?null:A,O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),D=k||Math.random().toString(36).substring(6),L=D+"-diff",M=D+"-animated-diff",F=D+"-aria",j=S?{transform:"scaleX(-1)"}:null,U="0; "+w+"; 1",V=C+"s",B="top-bottom"===_?"rotate(90)":void 0;return(0,t.createElement)("svg",BI({"aria-labelledby":F,role:"img",style:BI(BI({},I),j)},O),P?(0,t.createElement)("title",{id:F},P):null,R&&(0,t.isValidElement)(R)?R:null,(0,t.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+c+"#"+L+")",style:{fill:"url("+c+"#"+M+")"}}),(0,t.createElement)("defs",null,(0,t.createElement)("clipPath",{id:L},f),(0,t.createElement)("linearGradient",{id:M,gradientTransform:B},(0,t.createElement)("stop",{offset:"0%",stopColor:o,stopOpacity:u},r&&(0,t.createElement)("animate",{attributeName:"offset",values:-m+"; "+-m+"; 1",keyTimes:U,dur:V,repeatCount:"indefinite",begin:i})),(0,t.createElement)("stop",{offset:"50%",stopColor:d,stopOpacity:v},r&&(0,t.createElement)("animate",{attributeName:"offset",values:-m/2+"; "+-m/2+"; "+(1+m/2),keyTimes:U,dur:V,repeatCount:"indefinite",begin:i})),(0,t.createElement)("stop",{offset:"100%",stopColor:o,stopOpacity:u},r&&(0,t.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+m),keyTimes:U,dur:V,repeatCount:"indefinite",begin:i})))))},qI=function(e){return e.children?(0,t.createElement)(zI,BI({},e)):(0,t.createElement)(HI,BI({},e))},HI=function(e){return(0,t.createElement)(qI,BI({viewBox:"0 0 476 124"},e),(0,t.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,t.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,t.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,t.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,t.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,t.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},WI=qI,KI=function(){return(0,rt.jsx)("div",{className:ei,children:(0,rt.jsxs)(WI,{speed:2,width:370,height:170,viewBox:"0 0 370 170",backgroundColor:"#f0f0f0",foregroundColor:"#dedede",children:[(0,rt.jsx)("rect",{x:"23",y:"23",rx:"14",ry:"14",width:"124",height:"124"}),(0,rt.jsx)("rect",{x:"168",y:"51",rx:"3",ry:"3",width:"150",height:"14"}),(0,rt.jsx)("rect",{x:"168",y:"30",rx:"3",ry:"3",width:"150",height:"14"})]})})},GI=function(){var e=E((0,t.useState)(!0),2),n=e[0],r=e[1],i=E((0,t.useState)([]),2),a=i[0],o=i[1],s=br((function(e){return e.userSlice})).user;return(0,t.useEffect)((function(){Jr(Yr().mark((function e(){var t,n;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),e.next=4,AC();case 4:t=e.sent,n=t?t.filter((function(e){return e.login!==s.login})):[],o(n),r(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0441\u0442\u043e\u0432",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()}),[]),(0,rt.jsx)("div",{className:VI,children:n?l(new Array(9)).map((function(e,t){return(0,rt.jsx)(KI,{},t)})):a.map((function(e){return(0,rt.jsx)(NI,{userInfo:e,setUsersCardArr:o},e.uid)}))})},QI="commonForm_window__p6-iV",$I="InputBlocks_container__Fv8h9",YI="InputBlocks_block__jmJJw",XI="InputBlock_container__r6O42",JI="InputBlock_regInput__vm5s1",ZI="InputBlock_regInputPaddingBottom__jPmxY",eN="InputBlock_passwordMode__Y2sf8",tN="InputBlock_titleFromBlocks__P0cVg",nN=function(e){var t=e.buttonIsLoading,n=void 0!==t&&t,r=e.showPassword,i=void 0===r||r,a=e.title,o=e.inputValue,s=e.inputOnChange,u=e.inputType,l=void 0===u?"":u,c=a.toLowerCase().includes("password")&&!i;return(0,rt.jsx)("div",{className:XI,children:(0,rt.jsxs)("label",{className:tN,children:[a,(0,rt.jsx)("input",{disabled:n,type:l||(c?"password":"text"),className:"".concat(JI," ").concat(!l&&ZI," ").concat(c&&eN),onChange:function(e){return s(e.target.value)},value:o})]})})},rN=function(e){var t=e.inputBlockArr,n=e.showPassword,r=void 0===n||n,i=e.buttonIsLoading,a=void 0!==i&&i;return(0,rt.jsx)("div",{className:$I,children:t.map((function(e){return(0,rt.jsx)("div",{className:YI,children:(0,rt.jsx)(nN,vn({showPassword:r,buttonIsLoading:a},e))},e.title)}))})},iN="ButtonOutsideForm_buttonUnderWindow__rnH++",aN=function(e){var t=e.title,n=e.linkTo,r=e.onClickProps;return(0,rt.jsx)(et,{to:n,children:(0,rt.jsx)("button",{onClick:r,className:iN,children:t})})},oN="ShowPasswordSVG_showPasswordSvg__Dqmv7",sN=function(e){var t=e.showIf,n=e.showPassword,r=e.setShowPassword;return(0,rt.jsx)(rt.Fragment,{children:t&&(0,rt.jsx)("button",{type:"button",title:"Show password",className:oN,onClick:function(){return r(!n)},children:n?(0,rt.jsx)("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,rt.jsx)("path",{d:"M20 14.8335C21.3082 13.3317 22 12 22 12C22 12 18.3636 5 12 5C11.6588 5 11.3254 5.02013 11 5.05822C10.6578 5.09828 10.3244 5.15822 10 5.23552M12 9C12.3506 9 12.6872 9.06015 13 9.17071C13.8524 9.47199 14.528 10.1476 14.8293 11C14.9398 11.3128 15 11.6494 15 12M3 3L21 21M12 15C11.6494 15 11.3128 14.9398 11 14.8293C10.1476 14.528 9.47198 13.8524 9.1707 13C9.11386 12.8392 9.07034 12.6721 9.04147 12.5M4.14701 9C3.83877 9.34451 3.56234 9.68241 3.31864 10C2.45286 11.1282 2 12 2 12C2 12 5.63636 19 12 19C12.3412 19 12.6746 18.9799 13 18.9418",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}):(0,rt.jsxs)("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,rt.jsx)("path",{d:"M12 5C5.63636 5 2 12 2 12C2 12 5.63636 19 12 19C18.3636 19 22 12 22 12C22 12 18.3636 5 12 5Z",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,rt.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})})},uN="ErrorMessage_container__fjJ4U",lN=function(e){var t=e.errorMessage,n=void 0===t?"":t;return(0,rt.jsx)("div",{className:uN,children:n})},cN="ButtonInForm_continueButton__fuRh1",fN="ButtonInForm_loadingGif__azHZA",hN="ButtonInForm_continueButtonActive__Wl2Au",dN=n.p+"static/media/loading.2b5f132381dfa9eff97f.gif",pN=function(e){var t=e.title,n=e.activeIf,r=e.onClickProps,i=void 0===r?function(){}:r,a=e.buttonIsLoading,o=void 0!==a&&a;return(0,rt.jsx)(rt.Fragment,{children:(0,rt.jsx)("button",{disabled:!n,className:cN+" "+(n?hN:""),onClick:function(e){return function(e){e.preventDefault(),i()}(e)},children:o?(0,rt.jsx)("img",{className:fN,src:dN,alt:"loading"}):t})})},vN=function(e){var t=e.setButtonIsLoading,n=e.loginInputValue,r=e.passwordInputValue,i=e.setErrorMessage,a=e.loginIsActive,o=e.buttonIsLoading,s=Pr(),u=xe(),l=function(){var e=Jr(Yr().mark((function e(){var a,o;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(!0);case 2:return e.prev=2,e.next=5,AC();case 5:if(a=e.sent,!(o=a?a.filter((function(e){return e.login===n&&e.password===r}))[0]:null)){e.next=14;break}return e.next=10,s(sr(o));case 10:return e.next=12,u("/menu/profile");case 12:e.next=16;break;case 14:return e.next=16,i("Invalid username or password.");case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 ",e.t0);case 21:return e.next=23,t(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(){return e.apply(this,arguments)}}();return(0,rt.jsx)(pN,{title:"Log in",activeIf:a,onClickProps:l,buttonIsLoading:o})},yN=function(){var e=E((0,t.useState)(!1),2),n=e[0],r=e[1],i=E((0,t.useState)(""),2),a=i[0],o=i[1],s=E((0,t.useState)(""),2),u=s[0],l=s[1],c=E((0,t.useState)(!1),2),f=c[0],h=c[1],d=E((0,t.useState)(""),2),p=d[0],v=d[1],y=a.length>0&&u.length>0&&!f&&!p,m=[{title:"Login",inputValue:a,inputOnChange:o},{title:"Password",inputValue:u,inputOnChange:l}];return(0,t.useEffect)((function(){v("")}),[a,u]),(0,rt.jsxs)("div",{children:[(0,rt.jsx)("div",{className:QI,children:(0,rt.jsxs)("form",{children:[(0,rt.jsx)(rN,{showPassword:n,inputBlockArr:m,buttonIsLoading:f}),(0,rt.jsx)(sN,{showIf:u.length>0,showPassword:n,setShowPassword:r}),(0,rt.jsx)(lN,{errorMessage:p}),(0,rt.jsx)(vN,{setButtonIsLoading:h,loginInputValue:a,passwordInputValue:u,setErrorMessage:v,loginIsActive:y,buttonIsLoading:f})]})}),(0,rt.jsx)(aN,{title:"Sigh up",linkTo:"/registration/about"})]})},mN="ToggleButton_container__VDU3x",gN="ToggleButton_toggleButton__BAZJg",_N="ToggleButton_activeToggleButton__pkhsC",kN=function(e){var t=e.checkedToggleButton,n=e.setCheckedToggleButton;return(0,rt.jsx)("div",{className:mN,children:["Junior","Middle","Senior"].map((function(e){return(0,rt.jsx)("button",{type:"button",onClick:function(){return n(e.toLowerCase())},className:gN+" "+(t===e.toLowerCase()?_N:""),children:e},e)}))})},bN=(0,t.memo)((function(){var e=jr(),n=xe(),r=br((function(e){return e.registrationSlice})).registrationUser,i=E((0,t.useState)(r.name||""),2),a=i[0],o=i[1],s=E((0,t.useState)(r.surname||""),2),u=s[0],l=s[1],c=E((0,t.useState)(r.birthday||""),2),f=c[0],h=c[1],d=E((0,t.useState)(r.level||""),2),p=d[0],v=d[1],y=a.length>0&&u.length>0&&f.length>0&&p.length>0,m=[{title:"Name",inputValue:a,inputOnChange:o},{title:"Surname",inputValue:u,inputOnChange:l},{title:"Birth Day",inputValue:f,inputOnChange:h,inputType:"date"}];return(0,rt.jsxs)("div",{children:[(0,rt.jsx)("div",{className:QI,children:(0,rt.jsxs)("form",{children:[(0,rt.jsx)(rN,{inputBlockArr:m}),(0,rt.jsx)(kN,{checkedToggleButton:p,setCheckedToggleButton:v}),(0,rt.jsx)(pN,{title:"Continue",activeIf:y,onClickProps:function(){var t=f.split("-"),r="".concat(t[2],".").concat(t[1],".").concat(t[0]);e(Dr({name:a,surname:u,birthday:r,level:p})),n("/registration/login")}})]})}),(0,rt.jsx)(aN,{title:"Go back",linkTo:"/authentication",onClickProps:function(){return e(Mr())}})]})})),wN="Home_container__qRlyu",EN="Home_title__1aNQh",SN="Home_text__bwQM6",xN="Home_goToButtons__WoXQV",CN="Home_button__b271X",TN=function(){return(0,rt.jsxs)("div",{className:wN,children:[(0,rt.jsx)("h2",{className:EN,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),(0,rt.jsx)("div",{className:SN,children:"\u042d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u044a\u044f\u0441\u043d\u044f\u0442\u044c\u0441\u044f \u0447\u0442\u043e \u0437\u0430 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438 \u043d\u0430 \u0447\u0435\u043c \u043e\u043d \u0431\u044b\u043b \u043d\u0430\u043f\u0438\u0441\u0430\u043d"}),(0,rt.jsxs)("div",{className:xN,children:[(0,rt.jsx)(et,{to:"/authentication",children:(0,rt.jsx)("div",{className:CN,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"})}),(0,rt.jsx)(et,{to:"/menu/profile",children:(0,rt.jsx)("div",{className:CN,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043c\u0435\u043d\u044e"})}),(0,rt.jsx)(et,{to:"/registration/about",children:(0,rt.jsx)("div",{className:CN,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"})})]})]})},IN="Tasks_container__nDFaQ",NN="Task_container__cdysr",PN="Task_textBlock__pAjmm",AN="Task_title__5yswI",RN="Task_info__VR7uZ",ON="Task_loginInTask__JO18p",DN="Task_date__r7hvA",LN="Task_greenDate__FYdr4",MN="Task_taskIsDisable__JwGg5",FN="Task_taskIsEnable__WiYNZ",jN="commonStyles_border__+B7wD",UN="OpenedTask_container__6DnVF",VN="OpenedTask_overlay__qtDMA",BN="OpenedTask_window__2EpME",zN="OpenedTask_titleBlock__2vZLY",qN="OpenedTask_titleInput__eMkyk",HN="OpenedTask_textBlock__S8YyR",WN="OpenedTask_textInput__8HdDC",KN="OpenedTask_time__pZUk5",GN="OpenedTask_yearMonthDay__n7ac9",QN="OpenedTask_date__3nf-u",$N="OpenedTask_greenDate__LO5fY",YN="OpenedTask_editButton__8AVfa",XN="OpenedTask_borderEdit__lrIDj",JN="DeleteTaskButton_container__TpJGb",ZN="DeleteTaskButton_deleteButton__9SOXY",eP=function(e){var t=e.task,n=e.taskItems,r=e.setTaskItems,i=function(){var e=Jr(Yr().mark((function e(){return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bI(t.uid).then().catch(),r(n.filter((function(e){return e.uid!==t.uid})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,rt.jsx)("div",{className:JN,children:(0,rt.jsx)("button",{onClick:i,className:ZN,children:"Delete task"})})},tP=function(e){var n=e.setTaskIsOpen,r=e.task,i=e.taskItems,a=e.setTaskItems,o=(e.time,E((0,t.useState)(!1),2)),s=o[0],u=o[1],l=E((0,t.useState)(r.title),2),c=l[0],f=l[1],h=E((0,t.useState)(r.text),2),d=h[0],p=h[1];return(0,rt.jsxs)("div",{className:UN,children:[(0,rt.jsx)("div",{onClick:function(){return n(!1)},className:VN}),(0,rt.jsxs)("div",{className:BN+" "+(s?XN:""),children:[(0,rt.jsx)("div",{className:zN,children:s?(0,rt.jsx)("input",{className:qN,onChange:function(e){return f(e.target.value)},value:c,autoFocus:!0}):r.title}),(0,rt.jsx)("div",{className:HN,children:s?(0,rt.jsx)("textarea",{className:WN,onChange:function(e){return p(e.target.value)},value:d}):r.text}),!!r.date.length&&(0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)("div",{className:"".concat(KN," ").concat(QN," ").concat(!r.state&&$N),children:r.date.slice(8,10)+":"+r.date.slice(10,12)}),(0,rt.jsx)("div",{className:"".concat(GN," ").concat(QN," ").concat(!r.state&&$N),children:r.date.slice(6,8)+"."+r.date.slice(4,6)+"."+r.date.slice(0,4)})]}),(0,rt.jsx)("button",{onClick:function(){!s||c===r.title&&d===r.text||(EI(r.uid,{title:c,text:d}).then().catch(),r.title=c,r.text=d),u(!s)},className:YN,children:s?"Save":"Edit mode"}),(0,rt.jsx)(eP,{task:r,taskItems:i,setTaskItems:a})]})]})},nP="CheckTaskButton_container__ojk1s",rP="CheckTaskButton_check__f5rkT",iP="CheckTaskButton_activeCheck__txRvA";var aP=function(e){var n=e.task,r=e.taskItems,i=(e.setTaskItems,e.isChecked),a=e.setIsChecked,o=e.setSortTaskFunc,s=(0,t.useCallback)(function(e,t){var n;return function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){e.apply(r,a)}),t)}}((function(e){n.state!==e&&(n.state=e,wI(n.uid,e).then().catch(),o(r))}),500),[]);return(0,rt.jsx)("div",{className:nP,children:(0,rt.jsx)("div",{onClick:function(){s(!i),a(!i)},className:rP+" "+(i?iP:"")})})},oP=function(e){var n,r=e.task,i=e.taskItems,a=e.setTaskItems,o=e.setSortTaskFunc,s=E((0,t.useState)(r.state),2),u=s[0],l=s[1],c=E((0,t.useState)(!1),2),f=c[0],h=c[1],d=VC();return(0,rt.jsxs)("div",{children:[f&&(0,rt.jsx)(tP,{setTaskIsOpen:h,task:r,taskItems:i,setTaskItems:a,time:!0}),(0,rt.jsxs)("div",{className:"".concat(NN,"  ").concat(jN," ").concat(u?MN:FN),children:[(0,rt.jsx)(aP,{task:r,taskItems:i,setTaskItems:a,isChecked:u,setIsChecked:l,setSortTaskFunc:o}),(0,rt.jsxs)("div",{className:"".concat(PN),onClick:function(){return h(!0)},children:[(0,rt.jsx)("span",{className:AN,children:r.title}),(0,rt.jsxs)("span",{className:RN,children:[d&&(0,rt.jsx)("span",{className:ON,children:r.username.slice(0,7)}),r.date&&(0,rt.jsx)("span",{className:DN+" "+(u?"":LN),children:(n=r.date,n.slice(6,8)+"."+n.slice(4,6))})]})]})]})]})},sP=function(){return(0,rt.jsx)("div",{className:jN,children:(0,rt.jsxs)(WI,{speed:2,width:570,height:50,viewBox:"0 0 570 50",backgroundColor:"#f0f0f0",foregroundColor:"#dedede",children:[(0,rt.jsx)("rect",{x:"168",y:"51",rx:"3",ry:"3",width:"150",height:"14"}),(0,rt.jsx)("circle",{cx:"26",cy:"24",r:"11"}),(0,rt.jsx)("rect",{x:"51",y:"13",rx:"5",ry:"5",width:"383",height:"22"}),(0,rt.jsx)("rect",{x:"467",y:"13",rx:"5",ry:"5",width:"80",height:"22"}),(0,rt.jsx)("rect",{x:"181",y:"44",rx:"0",ry:"0",width:"0",height:"1"})]})})},uP=function(){var e=E((0,t.useState)([]),2),n=e[0],r=e[1],i=E((0,t.useState)(!0),2),a=i[0],o=i[1],s=br((function(e){return e.userSlice})),u=s.user,c=s.adminUser,f=function(e){if(e&&e.length>0){var t=e.filter((function(e){return e.state})),n=e.filter((function(e){return!e.state})),i=t.sort((function(e,t){return Number(t.date)-Number(e.date)})),a=n.sort((function(e,t){return Number(t.date)-Number(e.date)}));r([].concat(l(a),l(i)))}else r([])};return(0,t.useEffect)((function(){Jr(Yr().mark((function e(){var t;return Yr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(!0);case 2:if(u.login!==c.login){e.next=8;break}return e.next=5,_I();case 5:e.t1=e.sent,e.next=11;break;case 8:return e.next=10,kI(u.uid);case 10:e.t1=e.sent;case 11:if(e.t0=e.t1,e.t0){e.next=14;break}e.t0=[];case 14:return t=e.t0,f(t),e.next=18,o(!1);case 18:case"end":return e.stop()}}),e)})))()}),[]),(0,rt.jsx)("div",{className:IN,children:a?l(new Array(18)).map((function(e,t){return(0,rt.jsx)(sP,{},t)})):n.map((function(e){return(0,rt.jsx)(oP,{task:e,taskItems:n,setTaskItems:r,setSortTaskFunc:f},e.uid)}))})},lP="Chat_container__z77uY",cP="Messages_container__JYZD+",fP="Messages_messages__n-tq-",hP="Message_container__eKwVt",dP="Message_wrapper__mY9nB",pP="Message_message__DBuR3",vP="Message_login__JWoh+",yP="Message_isUserLogin__evifF",mP="Message_time__6wXY6",gP="Message_date__F4bLD",_P="Message_removeButton__kdoP4",kP="Message_buttonSVG__X9uRu",bP="Message_skeletonWrapper__TGdk-",wP=function(e){var t=e.messageObj,n=br((function(e){return e.userSlice})),r=n.adminUser,i=n.user,a=VC(),o="".concat(t.date.slice(6,8),"/").concat(t.date.slice(4,6)),s="".concat(t.date.slice(8,10),":").concat(t.date.slice(10,12));return(0,rt.jsx)("div",{className:hP,children:(0,rt.jsxs)("div",{className:dP,children:[(0,rt.jsxs)("span",{className:pP,children:[(0,rt.jsxs)("div",{children:[(0,rt.jsxs)("span",{className:vP+" "+(t.login===i.login?yP:""),children:[t.login===r.login?"admin":t.login.slice(0,5),":"]}),(0,rt.jsx)("span",{children:t.inputMessage})]}),(0,rt.jsxs)("div",{className:mP,children:[" ",s]})]}),(0,rt.jsxs)("div",{className:gP,children:[" ",o]}),a&&(0,rt.jsx)("button",{className:_P,onClick:function(){(function(e){return GE("remove",e._path),MS(e,null)})(DS(SC,"/".concat(t.uuid))).then().catch()},children:(0,rt.jsxs)("svg",{className:kP,width:"25px",height:"25px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,rt.jsx)("path",{d:"M6 6L18 18",stroke:"#9BD0D0",strokeLinecap:"round"}),(0,rt.jsx)("path",{d:"M18 6L6.00001 18",stroke:"#9BD0D0",strokeLinecap:"round"})]})})]})})},EP=function(){var e=VC();return(0,rt.jsx)("div",{className:bP,children:(0,rt.jsxs)(WI,{speed:2,width:1140,height:28,viewBox:"0 0 1140 28",backgroundColor:"#ffffff",foregroundColor:"#cbf2f2",children:[(0,rt.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"64",height:"28"}),(0,rt.jsx)("rect",{x:"1063.5",y:"0",rx:"5",ry:"5",width:"42",height:"28"}),e&&(0,rt.jsx)("circle",{cx:"1128",cy:"14",r:"10"}),(0,rt.jsx)("rect",{x:"67",y:"0",rx:"5",ry:"5",width:"994",height:"28"})]})})},SP=function(){var e=E((0,t.useState)([]),2),n=e[0],r=e[1],i=(0,t.useRef)(null);return(0,t.useEffect)((function(){VS(DS(SC),(function(e){r([]);var t=e.val();if(null!==t){var n=Object.values(t).sort((function(e,t){return e.date-t.date}));r(n)}setTimeout((function(){return function(){if(i.current){var e=i.current,t=e.scrollHeight,n=e.clientHeight;i.current.scrollTop=t-n}}()}),0)}))}),[]),(0,rt.jsx)("div",{className:cP,children:(0,rt.jsx)("div",{className:fP,ref:i,children:n.length?n.map((function(e,t){return(0,rt.jsx)(wP,{messageObj:e},t)})):l(new Array(15)).map((function(e,t){return(0,rt.jsx)(EP,{},t)}))})})},xP="SendMessage_container__DvfVv",CP="SendMessage_sendInput__4l7ao",TP="SendMessage_sendButton__wv4YX",IP="SendMessage_buttonSVG__6LmK8",NP=function(){var e=br((function(e){return e.userSlice})).user,n=E((0,t.useState)(""),2),r=n[0],i=n[1];return(0,rt.jsxs)("form",{className:xP,children:[(0,rt.jsx)("input",{className:CP,value:r,onChange:function(e){return i(e.target.value)}}),(0,rt.jsx)("button",{onClick:function(t){if(t.preventDefault(),r.length){var n=NC(),a={uuid:n,inputMessage:r,login:e.login,date:gI()};MS(DS(SC,"/".concat(n)),a).then().catch()}i("")},className:TP,children:(0,rt.jsx)("svg",{className:IP,width:"13px",height:"13px",viewBox:"3 3 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,rt.jsx)("path",{d:"M20 12L4 4L6 12M20 12L4 20L6 12M20 12H6",stroke:"#78BBB8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})},PP=function(){return(0,rt.jsxs)("div",{className:lP,children:[(0,rt.jsx)(SP,{}),(0,rt.jsx)(NP,{})]})},AP=function(){var e=jr(),n=xe(),r=br((function(e){return e.registrationSlice})).registrationUser,i=E((0,t.useState)(!1),2),a=i[0],o=i[1],s=E((0,t.useState)(r.login||""),2),u=s[0],l=s[1],c=E((0,t.useState)(r.password||""),2),f=c[0],h=c[1],d=E((0,t.useState)(r.repeatPassword||""),2),p=d[0],v=d[1],y=E((0,t.useState)(""),2),m=y[0],g=y[1],_=E((0,t.useState)(!1),2),k=_[0],b=_[1],w=u.length>0&&f.length>0&&p.length>0&&!k&&!m,S=[{title:"Enter a new login",inputValue:u,inputOnChange:l},{title:"Enter a new password",inputValue:f,inputOnChange:h},{title:"Repeat new password",inputValue:p,inputOnChange:v}],x=function(){var t=Jr(Yr().mark((function t(){var i,a,o,s;return Yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),t.next=3,e(Lr({login:u,password:f,repeatPassword:p}));case 3:return t.next=5,DC(u);case 5:if(i=t.sent,f!==p||i){t.next=21;break}return a={login:u||"",password:f||"",name:r.name||"",surname:r.surname||"",level:r.level||"",birthday:r.birthday||"",uid:"",imageURL:""},t.next=10,OC(a);case 10:return o=t.sent,a.uid=o||"",t.next=14,e(sr(a));case 14:return t.next=16,n("/menu/profile");case 16:s=JSON.parse(localStorage.getItem("user")||"{}"),localStorage.setItem("user",JSON.stringify(vn({uid:o},s))),setTimeout((function(){return e(Mr())}),1e3),t.next=23;break;case 21:g(i?"This username already exists.":"Passwords don't match, please try again.");case 23:b(!1);case 24:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){g("")}),[p,f,u]),(0,rt.jsxs)("div",{children:[(0,rt.jsx)("div",{className:QI,children:(0,rt.jsxs)("form",{children:[(0,rt.jsx)(rN,{inputBlockArr:S,showPassword:a}),(0,rt.jsx)(sN,{showIf:f.length>0,showPassword:a,setShowPassword:o}),(0,rt.jsx)(lN,{errorMessage:m}),(0,rt.jsx)(pN,{title:"Sign up",activeIf:w,onClickProps:x,buttonIsLoading:k})]})}),(0,rt.jsx)(aN,{title:"Go back",linkTo:"/registration/about",onClickProps:function(){e(Lr({login:u,password:f,repeatPassword:p}))}})]})};var RP=function(){var e=br((function(e){return e.userSlice})).user,t=br((function(e){return e.registrationSlice})).registrationUser;return(0,rt.jsx)("div",{className:a,children:(0,rt.jsxs)(Be,{children:[(0,rt.jsx)(Ue,{path:"/",element:(0,rt.jsx)(TN,{})}),(0,rt.jsx)(Ue,{path:"/*",element:(0,rt.jsx)(Fe,{to:"/"})}),!e.login&&(0,rt.jsxs)(rt.Fragment,{children:[(0,rt.jsx)(Ue,{path:"/authentication",element:(0,rt.jsx)(yN,{})}),(0,rt.jsx)(Ue,{path:"/registration/*",element:(0,rt.jsx)(Fe,{to:"/registration/about"})}),(0,rt.jsx)(Ue,{path:"/registration/about",element:(0,rt.jsx)(bN,{})})]}),!t.name&&(0,rt.jsx)(Ue,{path:"/registration/login",element:(0,rt.jsx)(Fe,{to:"/registration/about"})}),(0,rt.jsx)(Ue,{path:"/registration/login",element:(0,rt.jsx)(AP,{})}),(0,rt.jsx)(Ue,{path:"*",element:(0,rt.jsx)(Fe,{to:"/authentication"})}),!!e.login&&(0,rt.jsxs)(Ue,{path:"/menu",element:(0,rt.jsx)(Wr,{}),children:[(0,rt.jsx)(Ue,{path:"/menu",element:(0,rt.jsx)(Fe,{to:"/menu/profile"})}),(0,rt.jsx)(Ue,{path:"/menu/*",element:(0,rt.jsx)(Fe,{to:"/menu/profile"})}),(0,rt.jsx)(Ue,{path:"/menu/profile",element:(0,rt.jsx)(UI,{})}),(0,rt.jsx)(Ue,{path:"/menu/programmers",element:(0,rt.jsx)(GI,{})}),(0,rt.jsx)(Ue,{path:"/menu/tasks",element:(0,rt.jsx)(uP,{})}),(0,rt.jsx)(Ue,{path:"/menu/chat",element:(0,rt.jsx)(PP,{})})]})]})})};i.createRoot(document.getElementById("root")).render((0,rt.jsx)(t.StrictMode,{children:(0,rt.jsx)(Xe,{children:(0,rt.jsx)(xr,{store:Fr,children:(0,rt.jsx)(RP,{})})})}))}()}();
//# sourceMappingURL=main.7235614c.js.map