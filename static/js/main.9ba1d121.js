/*! For license information please see main.9ba1d121.js.LICENSE.txt */
!function(){"use strict";var e={110:function(e,t,n){var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=c(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{l(t,y,g)}catch(_){}}}}return t}},746:function(e,t){var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case l:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function w(e){return b(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||b(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===l},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===l||e.$$typeof===h||e.$$typeof===g||e.$$typeof===_||e.$$typeof===k||e.$$typeof===y)},t.typeOf=b},309:function(e,t,n){e.exports=n(746)},463:function(e,t,n){var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case x:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,Se=null;function xe(e){if(e=_i(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),we(e.stateNode,e.type,t))}}function Ce(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Te(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ie(e,t,n)}finally{Pe=!1,(null!==Ee||null!==Se)&&(Ne(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(c)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ce){Oe=!1}function Le(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,s,u){Me=!1,Fe=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,Et,St,xt,Ct=!1,Tt=[],It=null,Nt=null,Pt=null,At=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Ct=!1,null!==It&&jt(It)&&(It=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==Pt&&jt(Pt)&&(Pt=null),At.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Nt&&Bt(Nt,e),null!==Pt&&Bt(Pt,e),At.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=k.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=_t,a=qt.transition;qt.transition=null;try{_t=1,Gt(e,t,n,r)}finally{_t=i,qt.transition=a}}function Kt(e,t,n,r){var i=_t,a=qt.transition;qt.transition=null;try{_t=4,Gt(e,t,n,r)}finally{_t=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=_i(i);if(null!==a&&bt(a),null===(a=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=be(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=F({},ln,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(gn),kn=an(F({},ln,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function xn(){return Sn}var Cn=F({},fn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Cn),In=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Pn=an(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(An),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Ln=null;c&&"documentMode"in document&&(Ln=document.documentMode);var Mn=c&&"TextEvent"in window&&!Ln,Fn=c&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(ki(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Wn(t,Gn,e,be(e)),Ae(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,_r=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Er={},Sr={};function xr(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Cr=xr("animationend"),Tr=xr("animationiteration"),Ir=xr("animationstart"),Nr=xr("transitionend"),Pr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),u(t,[e])}for(var Or=0;Or<Ar.length;Or++){var Dr=Ar[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Fe;Me=!1,Fe=null,je||(je=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,l),a=u}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=be(n),o=[];e:{var s=Pr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":l="focus",u=mn;break;case"focusout":l="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Nn;break;case Cr:case Tr:case Ir:u=yn;break;case Nr:u=Pn;break;case"scroll":u=hn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&c.push(Wr(p,v,d)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=ze(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ki(u),d=null==l?s:ki(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(h=l,p=0,d=c=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Gr(c),h=Gr(h)}c=null}else c=null;null!==u&&Qr(o,s,u,c,!1),null!==l&&null!==f&&Qr(o,f,l,c,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Hn(s))if(Xn)m=or;else{m=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zn?Vn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==_?"onCompositionEnd"===_&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Kr(r,_)).length&&(_=new kn(_,e,null,n,i),o.push({event:_,listeners:y}),g?_.data=g:null!==(g=Bn(n))&&(_.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Re(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Re(n,a))&&o.unshift(Wr(n,u,s)):i||null!=(u=Re(n,a))&&o.push(Wr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[di]||null}var wi=[],Ei=-1;function Si(e){return{current:e}}function xi(e){0>Ei||(e.current=wi[Ei],wi[Ei]=null,Ei--)}function Ci(e,t){Ei++,wi[Ei]=e.current,e.current=t}var Ti={},Ii=Si(Ti),Ni=Si(!1),Pi=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){xi(Ni),xi(Ii)}function Di(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Ci(Ii,t),Ci(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Pi=Ii.current,Ci(Ii,e),Ci(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,xi(Ni),xi(Ii),Ci(Ii,e)):xi(Ni),Ci(Ni,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=_t;try{var n=ji;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,zi),i}finally{_t=t,Vi=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,_a=null,ka=null;function ba(){ka=_a=ga=null}function wa(e){var t=ya.current;xi(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ka=_a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function xa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===_a){if(null===ga)throw Error(a(308));_a=e,ga.dependencies={lanes:0,firstContext:e}}else _a=_a.next=e;return t}var Ca=null;function Ta(e){null===Ca?Ca=[e]:Ca.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Pa=!1;function Aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Pa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=f):c=c.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fu|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(rl(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(rl(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=xa(a):(i=Ri(t)?Pi:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Aa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=xa(a):(a=Ri(t)?Pi:Ii.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===E?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case w:return(t=Ul(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===s.length)return n(i,f),ia&&Ji(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ji(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function m(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var _=d(i,v,g.value,l);if(null===_){null===v&&(v=y);break}e&&v&&null===_.alternate&&t(i,v),s=o(_,s,m),null===f?c=_:f.sibling=_,f=_,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,l))&&(s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return ia&&Ji(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===E){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Qa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ka(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((a=Ml(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Ll(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Ul(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Za),Ci(Za,t)}function io(){xi(Za),xi(eo),xi(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ci(eo,e),Ci(Za,n))}function oo(e){eo.current===e&&(xi(Za),xi(eo))}var so=Si(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,_o=!1,ko=0,bo=0;function wo(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),_o){o=0;do{if(_o=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=ls,e=n(r,i)}while(_o)}if(fo.current=os,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function xo(){var e=0!==ko;return ko=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Io(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=h,s=r):l=l.next=h,vo.lanes|=f,Fu|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Ro(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Ho(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===Pu)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Na(e,1);null!==t&&rl(t,e,1,-1)}function jo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Co();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Ho(e,t){return zo(2048,8,e,t)}function Wo(e,t){return zo(4,2,e,t)}function Ko(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Fu|=n,e.baseState=!0),t)}function Zo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{_t=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){rl(n,e,r,tl()),as(n,t,r)}}function ns(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ia(e,t,i,r))&&(rl(n,e,r,i=tl()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){_o=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:xa,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ss={readContext:xa,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:xa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:jo,useDebugValue:$o,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Co();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Pu)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Pu.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:xa,useCallback:Yo,useContext:xa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Io)},useDebugValue:$o,useDeferredValue:function(e){return Jo(To(),mo.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1},ls={readContext:xa,useCallback:Yo,useContext:xa,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Po,useRef:Vo,useState:function(){return Po(Io)},useDebugValue:$o,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Po(Io)[0],To().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Ro,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Ku=r),hs(0,t)},n}function vs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Gu?Gu=new Set([this]):Gu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cl.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=k.ReactCurrentOwner,ks=!1;function bs(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=xo(),null===e||ks?(ia&&n&&ea(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ol(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Dl(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Ts(e,t,n,r,i)}function xs(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Du,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Du,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Du,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Du,Ou),Ou|=r;return bs(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ri(n)?Pi:Ii.current;return a=Ai(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=xo(),null===e||ks?(ia&&r&&ea(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Is(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Hs(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=xa(l):l=Ai(t,l=Ri(n)?Pi:Ii.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Ha(t,o,r,l),Pa=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ni.current||Pa?("function"===typeof c&&(Va(t,n,c,r),u=t.memoizedState),(s=Pa||za(t,n,s,r,h,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ra(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ma(t.type,s),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=xa(u):u=Ai(t,u=Ri(n)?Pi:Ii.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Ha(t,o,r,u),Pa=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ni.current||Pa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(l=Pa||za(t,n,l,r,h,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ns(e,t,n,r,a,i)}function Ns(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ws(e,t,a);r=t.stateNode,_s.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):bs(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ps(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,i){return da(),pa(i),t.flags|=256,bs(e,t,n,r),t.child}var Rs,Os,Ds,Ls,Ms={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(so,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Fl(u,i,0,null),e=Ml(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ms,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Vs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Vs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Vs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Pu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rl(r,e,i,-1))}return ml(),Vs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=Us(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Dl(r,s):(s=Ml(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Fs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Dl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vs(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Gs(t),null;case 3:return r=t.stateNode,io(),xi(Ni),xi(Ii),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sl(aa),aa=null))),Os(e,t),Gs(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Gs(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ur("scroll",e):null!=c&&_(e,o,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Gs(t),null;case 13:if(xi(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),o=!1}else null!==aa&&(sl(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Lu&&(Lu=3):ml())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return io(),Os(e,t),null===e&&zr(t.stateNode.containerInfo),Gs(t),null;case 10:return wa(t.type._context),Gs(t),null;case 19:if(xi(so),null===(o=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Ks(o,!1);else{if(0!==Lu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Ks(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qu&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Gs(t),null}else 2*Xe()-o.renderingStartTime>qu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=so.current,Ci(so,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $s(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),xi(Ni),xi(Ii),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(xi(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(so),null;case 4:return io(),null;case 10:return wa(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Xs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Zs=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xl(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){xl(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&tu(t,n,a)}i=i.next}while(i!==r)}}function iu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function au(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var fu=null,hu=!1;function du(e,t,n){for(n=n.child;null!==n;)pu(e,t,n),n=n.sibling}function pu(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||eu(n,t);case 6:var r=fu,i=hu;fu=null,du(e,t,n),hu=i,null!==(fu=r)&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fu.removeChild(n.stateNode));break;case 18:null!==fu&&(hu?(e=fu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(fu,n.stateNode));break;case 4:r=fu,i=hu,fu=n.stateNode.containerInfo,hu=!0,du(e,t,n),fu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&tu(n,t,o),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xl(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function vu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:fu=u.stateNode,hu=!1;break e;case 3:case 4:fu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===fu)throw Error(a(160));pu(o,s,i),fu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){xl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mu(t,e),gu(e),4&r){try{ru(3,e,e.return),iu(3,e)}catch(m){xl(e,e.return,m)}try{ru(5,e,e.return)}catch(m){xl(e,e.return,m)}}break;case 1:mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(mu(t,e),gu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){xl(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&X(i,o),_e(u,s);var c=_e(u,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):_(i,f,h,c)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){xl(e,e.return,m)}}break;case 6:if(mu(t,e),gu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){xl(e,e.return,m)}}break;case 3:if(mu(t,e),gu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){xl(e,e.return,m)}break;case 4:default:mu(t,e),gu(e);break;case 13:mu(t,e),gu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Xe())),4&r&&vu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(c=Xs)||f,mu(t,e),Xs=c):mu(t,e),gu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Zs=e,f=e.child;null!==f;){for(h=Zs=f;null!==Zs;){switch(p=(d=Zs).child,d.tag){case 0:case 11:case 14:case 15:ru(4,d,d.return);break;case 1:eu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){xl(r,n,m)}}break;case 5:eu(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Zs=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(m){xl(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){xl(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mu(t,e),gu(e),4&r&&vu(e);case 21:}}function gu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,uu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,uu(e),o);break;default:throw Error(a(161))}}catch(s){xl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _u(e,t,n){Zs=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Ys;var l=Xs;if(Ys=o,(Xs=u)&&!l)for(Zs=i;null!==Zs;)u=(o=Zs).child,22===o.tag&&null!==o.memoizedState?Eu(i):null!==u?(u.return=o,Zs=u):Eu(i);for(;null!==a;)Zs=a,ku(a,t,n),a=a.sibling;Zs=i,Ys=s,Xs=l}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):bu(e)}}function bu(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||iu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&au(t)}catch(d){xl(t,t.return,d)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wu(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function Eu(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{iu(4,t)}catch(u){xl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){xl(t,i,u)}}var a=t.return;try{au(t)}catch(u){xl(t,a,u)}break;case 5:var o=t.return;try{au(t)}catch(u){xl(t,o,u)}}}catch(u){xl(t,t.return,u)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Su,xu=Math.ceil,Cu=k.ReactCurrentDispatcher,Tu=k.ReactCurrentOwner,Iu=k.ReactCurrentBatchConfig,Nu=0,Pu=null,Au=null,Ru=0,Ou=0,Du=Si(0),Lu=0,Mu=null,Fu=0,ju=0,Uu=0,Vu=null,Bu=null,zu=0,qu=1/0,Hu=null,Wu=!1,Ku=null,Gu=null,Qu=!1,$u=null,Yu=0,Xu=0,Ju=null,Zu=-1,el=0;function tl(){return 0!==(6&Nu)?Xe():-1!==Zu?Zu:Zu=Xe()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Nu)&&0!==Ru?Ru&-Ru:null!==va.transition?(0===el&&(el=vt()),el):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rl(e,t,n,r){if(50<Xu)throw Xu=0,Ju=null,Error(a(185));yt(e,n,r),0!==(2&Nu)&&e===Pu||(e===Pu&&(0===(2&Nu)&&(ju|=n),4===Lu&&ul(e,Ru)),il(e,r),1===n&&0===Nu&&0===(1&t.mode)&&(qu=Xe()+500,Ui&&zi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Pu?Ru:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(ll.bind(null,e)):Bi(ll.bind(null,e)),oi((function(){0===(6&Nu)&&zi()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pl(n,al.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function al(e,t){if(Zu=-1,el=0,0!==(6&Nu))throw Error(a(327));var n=e.callbackNode;if(El()&&e.callbackNode!==n)return null;var r=ht(e,e===Pu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Nu;Nu|=2;var o=vl();for(Pu===e&&Ru===t||(Hu=null,qu=Xe()+500,dl(e,t));;)try{_l();break}catch(u){pl(e,u)}ba(),Cu.current=o,Nu=i,null!==Au?t=0:(Pu=null,Ru=0,t=Lu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Mu,dl(e,0),ul(e,r),il(e,Xe()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Mu,dl(e,0),ul(e,r),il(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,Bu,Hu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=zu+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,Bu,Hu),t);break}wl(e,Bu,Hu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xu(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,Bu,Hu),r);break}wl(e,Bu,Hu);break;default:throw Error(a(329))}}}return il(e,Xe()),e.callbackNode===n?al.bind(null,e):null}function ol(e,t){var n=Vu;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=Bu,Bu=n,null!==t&&sl(t)),e}function sl(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function ul(e,t){for(t&=~Uu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Nu))throw Error(a(327));El();var t=ht(e,0);if(0===(1&t))return il(e,Xe()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Mu,dl(e,0),ul(e,t),il(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Bu,Hu),il(e,Xe()),null}function cl(e,t){var n=Nu;Nu|=1;try{return e(t)}finally{0===(Nu=n)&&(qu=Xe()+500,Ui&&zi())}}function fl(e){null!==$u&&0===$u.tag&&0===(6&Nu)&&El();var t=Nu;Nu|=1;var n=Iu.transition,r=_t;try{if(Iu.transition=null,_t=1,e)return e()}finally{_t=r,Iu.transition=n,0===(6&(Nu=t))&&zi()}}function hl(){Ou=Du.current,xi(Du)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),xi(Ni),xi(Ii),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:xi(so);break;case 10:wa(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Pu=e,Au=e=Dl(e.current,null),Ru=Ou=t,Lu=0,Mu=null,Uu=ju=Fu=0,Bu=Vu=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function pl(e,t){for(;;){var n=Au;try{if(ba(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,_o=!1,ko=0,Tu.current=null,null===n||null===n.return){Lu=1,Mu=t,Au=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Ru,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ms(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ms(o,c,t),ml();break e}l=Error(a(426))}else if(ia&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,u,0,t),pa(cs(l,u));break e}}o=l=cs(l,u),4!==Lu&&(Lu=2),null===Vu?Vu=[o]:Vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,ps(0,l,t));break e;case 1:u=l;var g=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Gu||!Gu.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bl(n)}catch(k){t=k,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function vl(){var e=Cu.current;return Cu.current=os,null===e?os:e}function ml(){0!==Lu&&3!==Lu&&2!==Lu||(Lu=4),null===Pu||0===(268435455&Fu)&&0===(268435455&ju)||ul(Pu,Ru)}function yl(e,t){var n=Nu;Nu|=2;var r=vl();for(Pu===e&&Ru===t||(Hu=null,dl(e,t));;)try{gl();break}catch(i){pl(e,i)}if(ba(),Nu=n,Cu.current=r,null!==Au)throw Error(a(261));return Pu=null,Ru=0,Lu}function gl(){for(;null!==Au;)kl(Au)}function _l(){for(;null!==Au&&!$e();)kl(Au)}function kl(e){var t=Su(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?bl(e):Au=t,Tu.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qs(n,t,Ou)))return void(Au=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return Lu=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===Lu&&(Lu=5)}function wl(e,t,n){var r=_t,i=Iu.transition;try{Iu.transition=null,_t=1,function(e,t,n,r){do{El()}while(null!==$u);if(0!==(6&Nu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Pu&&(Au=Pu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qu||(Qu=!0,Pl(tt,(function(){return El(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=_t;_t=1;var u=Nu;Nu|=4,Tu.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(l=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(u=s),d===o&&++f===r&&(l=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,_=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(b){xl(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}v=nu,nu=!1}(e,n),yu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,_u(n,e,i),Ye(),Nu=u,_t=s,Iu.transition=o}else e.current=n;if(Qu&&(Qu=!1,$u=e,Yu=i),o=e.pendingLanes,0===o&&(Gu=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Ku,Ku=null,e;0!==(1&Yu)&&0!==e.tag&&El(),o=e.pendingLanes,0!==(1&o)?e===Ju?Xu++:(Xu=0,Ju=e):Xu=0,zi()}(e,t,n,r)}finally{Iu.transition=i,_t=r}return null}function El(){if(null!==$u){var e=kt(Yu),t=Iu.transition,n=_t;try{if(Iu.transition=null,_t=16>e?16:e,null===$u)var r=!1;else{if(e=$u,$u=null,Yu=0,0!==(6&Nu))throw Error(a(331));var i=Nu;for(Nu|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Zs=c;null!==Zs;){var f=Zs;switch(f.tag){case 0:case 11:case 15:ru(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zs=h;else for(;null!==Zs;){var d=(f=Zs).sibling,p=f.return;if(ou(f),f===c){Zs=null;break}if(null!==d){d.return=p,Zs=d;break}Zs=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zs=g;break e}Zs=o.return}}var _=e.current;for(Zs=_;null!==Zs;){var k=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Zs=k;else e:for(s=_;null!==Zs;){if(0!==(2048&(u=Zs).flags))try{switch(u.tag){case 0:case 11:case 15:iu(9,u)}}catch(w){xl(u,u.return,w)}if(u===s){Zs=null;break e}var b=u.sibling;if(null!==b){b.return=u.return,Zs=b;break e}Zs=u.return}}if(Nu=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{_t=n,Iu.transition=t}}return!1}function Sl(e,t,n){e=Da(e,t=ps(0,t=cs(n,t),1),1),t=tl(),null!==e&&(yt(e,1,t),il(e,t))}function xl(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gu||!Gu.has(r))){t=Da(t,e=vs(t,e=cs(n,e),1),1),e=tl(),null!==t&&(yt(t,1,e),il(t,e));break}}t=t.return}}function Cl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Ru&n)===n&&(4===Lu||3===Lu&&(130023424&Ru)===Ru&&500>Xe()-zu?dl(e,0):Uu|=n),il(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=Na(e,t))&&(yt(e,t,n),il(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tl(e,n)}function Pl(e,t){return Ge(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Al(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ol(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Ml(n.children,i,o,t);case S:s=8,i|=8;break;case x:return(e=Rl(12,n,t,2|i)).elementType=x,e.lanes=o,e;case N:return(e=Rl(13,n,t,i)).elementType=N,e.lanes=o,e;case P:return(e=Rl(19,n,t,i)).elementType=P,e.lanes=o,e;case O:return Fl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case I:s=11;break e;case A:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Ul(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,a,o,s,u){return e=new Vl(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aa(a),e}function zl(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function ql(e,t,n,r,i,a,o,s,u){return(e=Bl(n,r,!0,e,0,a,0,s,u)).context=zl(null),n=e.current,(a=Oa(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),il(e,r),e}function Hl(e,t,n,r){var i=t.current,a=tl(),o=nl(i);return n=zl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(rl(e,i,o,a),La(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Ps(t),da();break;case 5:ao(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(Ci(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ci(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return Ws(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Ai(t,Ii.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=xo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Aa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Ns(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ol(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ps(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ra(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ws(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Cs(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&la(t),null;case 13:return js(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(ya,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ni.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ea(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ea(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=xa(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Es(e,t,r,i=ma(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Hs(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Ns(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return xs(e,t,n)}throw Error(a(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Wl(o);s.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wl(o);a.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wl(u);s.call(e)}}var u=Bl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),fl((function(){Hl(t,u,n,r)})),u}(n,t,e,i,r);return Wl(o)}Yl.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hl(e,t,null,null)},Yl.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fl((function(){Hl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),il(t,Xe()),0===(6&Nu)&&(qu=Xe()+500,zi()))}break;case 13:fl((function(){var t=Na(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Gl(e,1)}},wt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rl(t,e,134217728,tl());Gl(e,134217728)}},Et=function(e){if(13===e.tag){var t=nl(e),n=Na(e,t);if(null!==n)rl(n,e,t,tl());Gl(e,t)}},St=function(){return _t},xt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cl,Ne=fl;var tc={usingClientEntryPoint:!1,Events:[_i,ki,bi,Ce,Te,cl]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(a(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $l(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return fl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(fl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case c:case l:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){n(459)},374:function(e,t,n){var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function _(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=_.prototype=new g;k.constructor=_,v(k,y.prototype),k.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,b(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",b(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=N(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){e.exports=n(117)},184:function(e,t,n){e.exports=n(374)},813:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function b(e){if(m=!1,k(e),!v)if(null!==r(l))v=!0,O(w);else{var t=r(c);null!==t&&D(b,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(C),C=-1),p=!0;var a=d;try{for(k(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(l)&&i(l),k(n)}else i(l);h=r(l)}if(null!==h)var u=!0;else{var f=r(c);null!==f&&D(b,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,x=null,C=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function P(){if(null!==x){var e=t.unstable_now();I=e;var n=!0;try{n=x(!0,e)}finally{n?E():(S=!1,x=null)}}else S=!1}if("function"===typeof _)E=function(){_(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,R=A.port2;A.port1.onmessage=P,E=function(){R.postMessage(null)}}else E=function(){y(P,0)};function O(e){x=e,S||(S=!0,E())}function D(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(C),C=-1):m=!0,D(b,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){e.exports=n(813)},561:function(e,t,n){var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,c=r[1];return s((function(){i.value=n,i.getSnapshot=t,l(i)&&c({inst:i})}),[e,n,t]),o((function(){return l(i)&&c({inst:i}),e((function(){l(i)&&c({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},595:function(e,t,n){var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=l((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),c(d),d}},248:function(e,t,n){e.exports=n(561)},327:function(e,t,n){e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/humans-base/",function(){var e,t=n(791),r=n.t(t,2),i=n(250),a="App_container__4L7Vo";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function l(e){return function(e){if(Array.isArray(e))return o(e)}(e)||s(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function h(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h(r.key),r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function g(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){var t=g();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,n)}}function b(e){if(Array.isArray(e))return e}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){return b(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||u(e,t)||w()}function S(e,t,n){return S=g()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&v(i,n.prototype),i},S.apply(null,arguments)}function x(e){var t="function"===typeof Map?new Map:void 0;return x=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)},x(e)}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var I,N="popstate";function P(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function A(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function R(e,t){return{usr:e.state,key:e.key,idx:t}}function O(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?L(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function D(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function L(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function M(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,s=void 0===o?document.defaultView:o,u=a.v5Compat,l=void 0!==u&&u,c=s.history,f=e.Pop,h=null,d=p();function p(){return(c.state||{idx:null}).idx}function v(){f=e.Pop;var t=p(),n=null==t?null:t-d;d=t,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:D(e);return P(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,c.replaceState(T({},c.state,{idx:d}),""));var y={get action(){return f},get location(){return t(s,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(N,v),h=e,function(){s.removeEventListener(N,v),h=null}},createHref:function(e){return n(s,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;var i=O(y.location,t,n);r&&r(i,t);var a=R(i,d=p()+1),o=y.createHref(i);try{c.pushState(a,"",o)}catch(mu){s.location.assign(o)}l&&h&&h({action:f,location:y.location,delta:1})},replace:function(t,n){f=e.Replace;var i=O(y.location,t,n);r&&r(i,t);var a=R(i,d=p()),o=y.createHref(i);c.replaceState(a,"",o),l&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return c.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(I||(I={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function F(e,t,n){void 0===n&&(n="/");var r=X(("string"===typeof t?L(t):t).pathname||"/",n);if(null==r)return null;var i=j(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Q(i[o],Y(r));return a}function j(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(P(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=te([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(P(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),j(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:G(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(U(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function U(e){var t=e.split("/");if(0===t.length)return[];var n,r=b(n=t)||s(n)||u(n)||w(),i=r[0],a=r.slice(1),o=i.endsWith("?"),c=i.replace(/\?$/,"");if(0===a.length)return o?[c,""]:[c];var f=U(a.join("/")),h=[];return h.push.apply(h,l(f.map((function(e){return""===e?c:[c,e].join("/")})))),o&&h.push.apply(h,l(f)),h.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,B=3,z=2,q=1,H=10,W=-2,K=function(e){return"*"===e};function G(e,t){var n=e.split("/"),r=n.length;return n.some(K)&&(r+=W),t&&(r+=z),n.filter((function(e){return!K(e)})).reduce((function(e,t){return e+(V.test(t)?B:""===t?q:H)}),r)}function Q(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=$({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:te([i,c.pathname]),pathnameBase:ne(te([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=te([i,c.pathnameBase]))}return a}function $(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);A("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=E(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),c=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(mu){return A(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+mu+")."),e}}(l[n]||"",t),e}),{});return{params:c,pathname:s,pathnameBase:u,pattern:e}}function Y(e){try{return decodeURI(e)}catch(mu){return A(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+mu+")."),e}}function X(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function J(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Z(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ee(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=L(e):(P(!(i=T({},e)).pathname||!i.pathname.includes("?"),J("?","pathname","search",i)),P(!i.pathname||!i.pathname.includes("#"),J("#","pathname","hash",i)),P(!i.search||!i.search.includes("#"),J("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var l=s.split("/");".."===l[0];)l.shift(),u-=1;i.pathname=l.join("/")}a=u>=0?t[u]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?L(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:re(a),hash:ie(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!f&&!h||(c.pathname+="/"),c}var te=function(e){return e.join("/").replace(/\/\/+/g,"/")},ne=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},re=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},ie=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ae=function(e){m(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n)}(x(Error));function oe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var se=["post","put","patch","delete"],ue=(new Set(se),["get"].concat(se));new Set(ue),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");var le="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ce=t.useState,fe=t.useEffect,he=t.useLayoutEffect,de=t.useDebugValue;function pe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!le(n,r)}catch(mu){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var ve=t.createContext(null);var me=t.createContext(null);var ye=t.createContext(null);var ge=t.createContext(null);var _e=t.createContext(null);var ke=t.createContext({outlet:null,matches:[]});var be=t.createContext(null);function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function Ee(){return null!=t.useContext(_e)}function Se(){return Ee()||P(!1),t.useContext(_e).location}function xe(){Ee()||P(!1);var e=t.useContext(ge),n=e.basename,r=e.navigator,i=t.useContext(ke).matches,a=Se().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);t.useEffect((function(){s.current=!0}));var u=t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=ee(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:te([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}var Ce=t.createContext(null);function Te(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(ke).matches,a=Se().pathname,o=JSON.stringify(Z(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return ee(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Ie(){var e=function(){var e,n=t.useContext(be),r=De(Pe.UseRouteError),i=Le(Pe.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=oe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Ne,Pe,Ae=function(e){m(r,e);var n=k(r);function r(e){var t;return c(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return p(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(ke.Provider,{value:this.props.routeContext},t.createElement(be.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function Re(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(ve);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ke.Provider,{value:n},i)}function Oe(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||P(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,l=null;r&&(l=o.route.ErrorBoundary?t.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:t.createElement(Ie,null));var c=n.concat(i.slice(0,s+1)),f=function(){var n=e;return u?n=l:o.route.Component?n=t.createElement(o.route.Component,null):o.route.element&&(n=o.route.element),t.createElement(Re,{match:o,routeContext:{outlet:e,matches:c},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===s)?t.createElement(Ae,{location:r.location,component:l,error:u,children:f(),routeContext:{outlet:null,matches:c}}):f()}),null)}function De(e){var n=t.useContext(me);return n||P(!1),n}function Le(e){var n=function(e){var n=t.useContext(ke);return n||P(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||P(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Ne||(Ne={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Pe||(Pe={}));var Me;function Fe(e){var n=e.to,r=e.replace,i=e.state,a=e.relative;Ee()||P(!1);var o=t.useContext(me),s=xe();return t.useEffect((function(){o&&"idle"!==o.navigation.state||s(n,{replace:r,state:i,relative:a})})),null}function je(e){return function(e){var n=t.useContext(ke).outlet;return n?t.createElement(Ce.Provider,{value:e},n):n}(e.context)}function Ue(e){P(!1)}function Ve(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,s=n.location,u=n.navigationType,l=void 0===u?e.Pop:u,c=n.navigator,f=n.static,h=void 0!==f&&f;Ee()&&P(!1);var d=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof s&&(s=L(s));var v=s,m=v.pathname,y=void 0===m?"/":m,g=v.search,_=void 0===g?"":g,k=v.hash,b=void 0===k?"":k,w=v.state,E=void 0===w?null:w,S=v.key,x=void 0===S?"default":S,C=t.useMemo((function(){var e=X(y,d);return null==e?null:{location:{pathname:e,search:_,hash:b,state:E,key:x},navigationType:l}}),[d,y,_,b,E,x,l]);return null==C?null:t.createElement(ge.Provider,{value:p},t.createElement(_e.Provider,{children:o,value:C}))}function Be(n){var r=n.children,i=n.location,a=t.useContext(ve);return function(n,r){Ee()||P(!1);var i,a=t.useContext(ge).navigator,o=t.useContext(me),s=t.useContext(ke).matches,u=s[s.length-1],l=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),f=(u&&u.route,Se());if(r){var h,d="string"===typeof r?L(r):r;"/"===c||(null==(h=d.pathname)?void 0:h.startsWith(c))||P(!1),i=d}else i=f;var p=i.pathname||"/",v=F(n,{pathname:"/"===c?p:p.slice(c.length)||"/"}),m=Oe(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:te([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:te([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),s,o||void 0);return r&&m?t.createElement(_e.Provider,{value:{location:we({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},m):m}(a&&!r?a.router.routes:qe(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Me||(Me={}));var ze=new Promise((function(){}));t.Component;function qe(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==Ue&&P(!1),e.props.index&&e.props.children&&P(!1);var a=[].concat(l(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=qe(e.props.children,a)),r.push(o)}else r.push.apply(r,qe(e.props.children,n))})),r}var He={container:"Header_container__TsUVY",burgerPages:"Header_burgerPages__Z1xhi",openedBurgerPage:"Header_openedBurgerPage__kYtes",burgerMenuButton:"Header_burgerMenuButton__2a2SF",topLine:"Header_topLine__9fQsK",middleLine:"Header_middleLine__I0b6W",bottomLine:"Header_bottomLine__IvsdI",burgerMenuButtonActive:"Header_burgerMenuButtonActive__gI3Xc",burgerMenu:"Header_burgerMenu__sa3EZ",burgerButtons:"Header_burgerButtons__0+-lB",burgerButton:"Header_burgerButton__HAntM",line:"Header_line__vI3iU",active:"Header_active__OcOMM",pagesButton:"Header_pagesButton__iD+4L"},We="PagesButton_tabsPages__g4Uc6",Ke="PagesButton_page__sGIKh",Ge="PagesButton_opened__zP81n";function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)}function $e(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Ye=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Xe(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),M((function(e,t){var n=L(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash;return O("",{pathname:i,search:o,hash:void 0===s?"":s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:D(t))}),(function(e,t){A("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),n)));var s=o.current,u=E(t.useState({action:s.action,location:s.location}),2),l=u[0],c=u[1];return t.useLayoutEffect((function(){return s.listen(c)}),[s]),t.createElement(Ve,{basename:r,children:i,location:l.location,navigationType:l.action,navigator:s})}var Je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,l=e.target,c=e.to,f=e.preventScrollReset,h=$e(e,Ye),d=t.useContext(ge).basename,p=!1;if("string"===typeof c&&Ze.test(c)&&(r=c,Je)){var v=new URL(window.location.href),m=c.startsWith("//")?new URL(v.protocol+c):new URL(c),y=X(m.pathname,d);m.origin===v.origin&&null!=y?c=y+m.search+m.hash:p=!0}var g=function(e,n){var r=(void 0===n?{}:n).relative;Ee()||P(!1);var i=t.useContext(ge),a=i.basename,o=i.navigator,s=Te(e,{relative:r}),u=s.hash,l=s.pathname,c=s.search,f=l;return"/"!==a&&(f="/"===l?a:te([a,l])),o.createHref({pathname:f,search:c,hash:u})}(c,{relative:a}),_=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,l=xe(),c=Se(),f=Te(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:D(c)===D(f);l(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[c,l,f,a,o,i,e,s,u])}(c,{replace:s,state:u,target:l,preventScrollReset:f,relative:a});return t.createElement("a",Qe({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||_(e)},ref:n,target:l}))}));var tt,nt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(tt||(tt={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(nt||(nt={}));var rt="Search_container__kN-0r",it="Search_searchWrapper__RSQY6",at="Search_search__ljLp0",ot="Search_clearButton__qfVBr",st="Search_hidden__Ldb2l",ut=n(248),lt=n(327),ct=n(164);var ft=function(e){e()},ht=function(){return ft},dt=(0,t.createContext)(null);function pt(){return(0,t.useContext)(dt)}var vt=function(){throw new Error("uSES not initialized!")},mt=vt,yt=function(e,t){return e===t};function gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,n=e===dt?pt:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yt;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,u=mt(o.addNestedSub,a.getState,s||a.getState,e,r);return(0,t.useDebugValue)(u),u}}var _t=gt();n(110),n(900);var kt={notify:function(){},get:function(){return[]}};function bt(e,t){var n,r=kt;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=ht(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=kt)},getListeners:function(){return r}};return o}var wt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var Et=function(e){var n=e.store,r=e.context,i=e.children,a=e.serverState,o=(0,t.useMemo)((function(){var e=bt(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);wt((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=r||dt;return t.createElement(u.Provider,{value:o},i)};function St(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,n=e===dt?pt:function(){return(0,t.useContext)(e)};return function(){return n().store}}var xt=St();function Ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=e===dt?xt:St(e);return function(){return t().dispatch}}var Tt,It=Ct();function Nt(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Pt(e){return!!e&&!!e[kn]}function At(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===bn}(e)||Array.isArray(e)||!!e[_n]||!!(null===(t=e.constructor)||void 0===t?void 0:t[_n])||jt(e)||Ut(e))}function Rt(e,t,n){void 0===n&&(n=!1),0===Ot(e)?(n?Object.keys:wn)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function Ot(e){var t=e[kn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:jt(e)?2:Ut(e)?3:0}function Dt(e,t){return 2===Ot(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Lt(e,t){return 2===Ot(e)?e.get(t):e[t]}function Mt(e,t,n){var r=Ot(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Ft(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function jt(e){return vn&&e instanceof Map}function Ut(e){return mn&&e instanceof Set}function Vt(e){return e.o||e.t}function Bt(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=En(e);delete t[kn];for(var n=wn(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function zt(e,t){return void 0===t&&(t=!1),Ht(e)||Pt(e)||!At(e)||(Ot(e)>1&&(e.set=e.add=e.clear=e.delete=qt),Object.freeze(e),t&&Rt(e,(function(e,t){return zt(t,!0)}),!0)),e}function qt(){Nt(2)}function Ht(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Wt(e){var t=Sn[e];return t||Nt(18,e),t}function Kt(e,t){Sn[e]||(Sn[e]=t)}function Gt(){return dn}function Qt(e,t){t&&(Wt("Patches"),e.u=[],e.s=[],e.v=t)}function $t(e){Yt(e),e.p.forEach(Jt),e.p=null}function Yt(e){e===dn&&(dn=e.l)}function Xt(e){return dn={p:[],l:dn,h:e,m:!0,_:0}}function Jt(e){var t=e[kn];0===t.i||1===t.i?t.j():t.g=!0}function Zt(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||Wt("ES5").S(t,e,r),r?(n[kn].P&&($t(t),Nt(4)),At(e)&&(e=en(t,e),t.l||nn(t,e)),t.u&&Wt("Patches").M(n[kn].t,e,t.u,t.s)):e=en(t,n,[]),$t(t),t.u&&t.v(t.u,t.s),e!==gn?e:void 0}function en(e,t,n){if(Ht(t))return t;var r=t[kn];if(!r)return Rt(t,(function(i,a){return tn(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return nn(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Bt(r.k):r.o,a=i,o=!1;3===r.i&&(a=new Set(i),i.clear(),o=!0),Rt(a,(function(t,a){return tn(e,r,i,t,a,n,o)})),nn(e,i,!1),n&&e.u&&Wt("Patches").N(r,n,e.u,e.s)}return r.o}function tn(e,t,n,r,i,a,o){if(Pt(i)){var s=en(e,i,a&&t&&3!==t.i&&!Dt(t.R,r)?a.concat(r):void 0);if(Mt(n,r,s),!Pt(s))return;e.m=!1}else o&&n.add(i);if(At(i)&&!Ht(i)){if(!e.h.D&&e._<1)return;en(e,i),t&&t.A.l||nn(e,i)}}function nn(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&zt(t,n)}function rn(e,t){var n=e[kn];return(n?Vt(n):e)[t]}function an(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function on(e){e.P||(e.P=!0,e.l&&on(e.l))}function sn(e){e.o||(e.o=Bt(e.t))}function un(e,t,n){var r=jt(t)?Wt("MapSet").F(t,n):Ut(t)?Wt("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:Gt(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=xn;n&&(i=[r],a=Cn);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):Wt("ES5").J(t,n);return(n?n.A:Gt()).p.push(r),r}function ln(e){return Pt(e)||Nt(22,e),function e(t){if(!At(t))return t;var n,r=t[kn],i=Ot(t);if(r){if(!r.P&&(r.i<4||!Wt("ES5").K(r)))return r.t;r.I=!0,n=cn(t,i),r.I=!1}else n=cn(t,i);return Rt(n,(function(t,i){r&&Lt(r.t,t)===i||Mt(n,t,e(i))})),3===i?new Set(n):n}(e)}function cn(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Bt(e)}function fn(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[kn];return xn.get(t,e)},set:function(t){var n=this[kn];xn.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][kn];if(!i.P)switch(i.i){case 5:r(i)&&on(i);break;case 4:n(i)&&on(i)}}}function n(e){for(var t=e.t,n=e.k,r=wn(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==kn){var o=t[a];if(void 0===o&&!Dt(t,a))return!0;var s=n[a],u=s&&s[kn];if(u?u.t!==o:!Ft(s,o))return!0}}var l=!!t[kn];return r.length!==wn(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Kt("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=En(n);delete a[kn];for(var o=wn(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:Gt(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,kn,{value:a,writable:!0}),i},S:function(e,n,i){i?Pt(n)&&n[kn].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[kn];if(n){var i=n.t,a=n.k,o=n.R,s=n.i;if(4===s)Rt(a,(function(t){t!==kn&&(void 0!==i[t]||Dt(i,t)?o[t]||e(a[t]):(o[t]=!0,on(n)))})),Rt(i,(function(e){void 0!==a[e]||Dt(a,e)||(o[e]=!1,on(n))}));else if(5===s){if(r(n)&&(on(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var l=i.length;l<a.length;l++)o[l]=!0;for(var c=Math.min(a.length,i.length),f=0;f<c;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){mt=e}(lt.useSyncExternalStoreWithSelector),function(e){e}(ut.useSyncExternalStore),Tt=ct.unstable_batchedUpdates,ft=Tt;var hn,dn,pn="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),vn="undefined"!=typeof Map,mn="undefined"!=typeof Set,yn="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,gn=pn?Symbol.for("immer-nothing"):((hn={})["immer-nothing"]=!0,hn),_n=pn?Symbol.for("immer-draftable"):"__$immer_draftable",kn=pn?Symbol.for("immer-state"):"__$immer_state",bn=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),wn="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,En=Object.getOwnPropertyDescriptors||function(e){var t={};return wn(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Sn={},xn={get:function(e,t){if(t===kn)return e;var n=Vt(e);if(!Dt(n,t))return function(e,t,n){var r,i=an(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!At(r)?r:r===rn(e.t,t)?(sn(e),e.o[t]=un(e.A.h,r,e)):r},has:function(e,t){return t in Vt(e)},ownKeys:function(e){return Reflect.ownKeys(Vt(e))},set:function(e,t,n){var r=an(Vt(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=rn(Vt(e),t),a=null==i?void 0:i[kn];if(a&&a.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Ft(n,i)&&(void 0!==n||Dt(e.t,t)))return!0;sn(e),on(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==rn(e.t,t)||t in e.t?(e.R[t]=!1,sn(e),on(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Vt(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Nt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Nt(12)}},Cn={};Rt(xn,(function(e,t){Cn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Cn.deleteProperty=function(e,t){return Cn.set.call(this,e,t,void 0)},Cn.set=function(e,t,n){return xn.set.call(this,e[0],t,n,e[0])};var Tn=function(){function e(e){var t=this;this.O=yn,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&Nt(6),void 0!==r&&"function"!=typeof r&&Nt(7),At(e)){var s=Xt(t),u=un(t,e,void 0),l=!0;try{o=n(u),l=!1}finally{l?$t(s):Yt(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return Qt(s,r),Zt(e,s)}),(function(e){throw $t(s),e})):(Qt(s,r),Zt(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===gn&&(o=void 0),t.D&&zt(o,!0),r){var c=[],f=[];Wt("Patches").M(e,o,c,f),r(c,f)}return o}Nt(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){At(e)||Nt(8),Pt(e)&&(e=ln(e));var t=Xt(this),n=un(this,e,void 0);return n[kn].C=!0,Yt(t),n},t.finishDraft=function(e,t){var n=(e&&e[kn]).A;return Qt(n,t),Zt(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!yn&&Nt(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Wt("Patches").$;return Pt(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),In=new Tn,Nn=In.produce,Pn=(In.produceWithPatches.bind(In),In.setAutoFreeze.bind(In),In.setUseProxies.bind(In),In.applyPatches.bind(In),In.createDraft.bind(In),In.finishDraft.bind(In),Nn);function An(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){An(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ln="function"===typeof Symbol&&Symbol.observable||"@@observable",Mn=function(){return Math.random().toString(36).substring(7).split("").join(".")},Fn={INIT:"@@redux/INIT"+Mn(),REPLACE:"@@redux/REPLACE"+Mn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Mn()}};function jn(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Un(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Dn(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Dn(1));return n(Un)(e,t)}if("function"!==typeof e)throw new Error(Dn(2));var i=e,a=t,o=[],s=o,u=!1;function l(){s===o&&(s=o.slice())}function c(){if(u)throw new Error(Dn(3));return a}function f(e){if("function"!==typeof e)throw new Error(Dn(4));if(u)throw new Error(Dn(5));var t=!0;return l(),s.push(e),function(){if(t){if(u)throw new Error(Dn(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!jn(e))throw new Error(Dn(7));if("undefined"===typeof e.type)throw new Error(Dn(8));if(u)throw new Error(Dn(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}return h({type:Fn.INIT}),(r={dispatch:h,subscribe:f,getState:c,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Dn(10));i=e,h({type:Fn.REPLACE})}})[Ln]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Dn(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[Ln]=function(){return this},e},r}function Vn(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:Fn.INIT}))throw new Error(Dn(12));if("undefined"===typeof n(void 0,{type:Fn.PROBE_UNKNOWN_ACTION()}))throw new Error(Dn(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],l=n[u],c=e[u],f=l(c,t);if("undefined"===typeof f){t&&t.type;throw new Error(Dn(14))}i[u]=f,r=r||f!==c}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Bn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function zn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Dn(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Bn.apply(void 0,a)(n.dispatch),On(On({},n),{},{dispatch:r})}}}function qn(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Hn=qn();Hn.withExtraArgument=qn;var Wn=Hn,Kn=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gn=function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}},Qn=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},$n=Object.defineProperty,Yn=Object.defineProperties,Xn=Object.getOwnPropertyDescriptors,Jn=Object.getOwnPropertySymbols,Zn=Object.prototype.hasOwnProperty,er=Object.prototype.propertyIsEnumerable,tr=function(e,t,n){return t in e?$n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},nr=function(e,t){for(var n in t||(t={}))Zn.call(t,n)&&tr(e,n,t[n]);if(Jn)for(var r=0,i=Jn(t);r<i.length;r++){n=i[r];er.call(t,n)&&tr(e,n,t[n])}return e},rr=function(e,t){return Yn(e,Xn(t))},ir=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(t){i(t)}},o=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))},ar="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Bn:Bn.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function or(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var sr=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Kn(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Qn([void 0],e[0].concat(this)))):new(t.bind.apply(t,Qn([void 0],e.concat(this))))},t}(Array);function ur(e){return At(e)?Pn(e,(function(){})):e}function lr(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new sr);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Wn.withExtraArgument(n.extraArgument)):r.push(Wn));0;return r}(e)}}function cr(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return nr(nr({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function fr(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function hr(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ur(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function l(){var t="function"===typeof e.extraReducers?fr(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],l=void 0===u?void 0:u,c=nr(nr({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?fr(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return ur(e())};else{var l=ur(e);i=function(){return l}}function c(e,t){void 0===e&&(e=i());var n=Qn([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(Pt(e))return void 0===(r=n(e,t))?e:r;if(At(e))return Pn(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return c.getInitialState=i,c}(r,(function(e){for(var t in c)e.addCase(t,c[t]);for(var n=0,r=o;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}l&&e.addDefaultCase(l)}))}return a.forEach((function(e){var n,r,a=i[e],l=t+"/"+e;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[l]=n,u[e]=r?cr(l,r):cr(l)})),{name:t,reducer:function(e,t){return n||(n=l()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=l()),n.getInitialState()}}}var dr=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},pr=["name","message","stack","code"],vr=function(e,t){this.payload=e,this.meta=t},mr=function(e,t){this.payload=e,this.meta=t},yr=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=pr;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=cr(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:rr(nr({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=cr(e+"/pending",(function(e,t,n){return{payload:void 0,meta:rr(nr({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),a=cr(e+"/rejected",(function(e,t,r,i,a){return{payload:i,error:(n&&n.serializeError||yr)(e||"Rejected"),meta:rr(nr({},a||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,l){var c,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):dr(),h=new o;function d(e){c=e,h.abort()}var p=function(){return ir(this,null,(function(){var o,p,v,m,y,g;return Gn(this,(function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:u,extra:l}),null===(k=m)||"object"!==typeof k||"function"!==typeof k.then?[3,2]:[4,m];case 1:m=_.sent(),_.label=2;case 2:if(!1===m||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:c||"Aborted"})}))})),s(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:u,extra:l}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:s,getState:u,extra:l,requestId:f,signal:h.signal,abort:d,rejectWithValue:function(e,t){return new vr(e,t)},fulfillWithValue:function(e,t){return new mr(e,t)}})).then((function(t){if(t instanceof vr)throw t;return t instanceof mr?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=_.sent(),[3,5];case 4:return g=_.sent(),v=g instanceof vr?a(null,f,e,g.payload,g.meta):a(g,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&a.match(v)&&v.meta.condition||s(v),[2,v]}var k}))}))}();return Object.assign(p,{abort:d,requestId:f,arg:e,unwrap:function(){return p.then(gr)}})}}),{pending:i,rejected:a,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function gr(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var _r="listenerMiddleware";cr(_r+"/add"),cr(_r+"/removeAll"),cr(_r+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var kr,br=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:br(10);fn();var wr=hr({name:"search",initialState:{search:{programmers:"",tasks:"",chat:""}},reducers:{setProgrammersSearch:function(e,t){e.search.programmers=t.payload},setTasksSearch:function(e,t){e.search.tasks=t.payload},setChatSearch:function(e,t){e.search.chat=t.payload},clearAllSearch:function(e){e.search={programmers:"",tasks:"",chat:""}}}}),Er=wr.actions,Sr=Er.setProgrammersSearch,xr=Er.setTasksSearch,Cr=Er.setChatSearch,Tr=Er.clearAllSearch,Ir=wr.reducer,Nr=JSON.parse(localStorage.getItem("user")||"{}"),Pr=hr({name:"user",initialState:{user:{login:Nr.login||"",password:Nr.password||"",name:Nr.name||"",surname:Nr.surname||"",level:Nr.level||"",birthday:Nr.birthday||"",uid:Nr.uid||"",imageURL:Nr.imageURL||"",about:Nr.about||""},adminUser:{login:"a"}},reducers:{setUser:function(e,t){e.user.login=t.payload.login,e.user.name=t.payload.name,e.user.surname=t.payload.surname,e.user.level=t.payload.level,e.user.birthday=t.payload.birthday,e.user.uid=t.payload.uid,e.user.imageURL=t.payload.imageURL,e.user.about=t.payload.about,localStorage.setItem("user",JSON.stringify(e.user))},removeUser:function(e){e.user.login="",e.user.password="",e.user.name="",e.user.surname="",e.user.level="",e.user.birthday="",e.user.uid="",e.user.imageURL="",e.user.about="",localStorage.removeItem("user")}}}),Ar=Pr.actions,Rr=Ar.setUser,Or=Ar.removeUser,Dr=Pr.reducer,Lr=JSON.parse(localStorage.getItem("registrationUser")||"{}"),Mr=hr({name:"registration",initialState:{registrationUser:{login:Lr.login||"",password:Lr.password||"",repeatPassword:Lr.repeatPassword||"",name:Lr.name||"",surname:Lr.surname||"",level:Lr.level||"",birthday:Lr.birthday||""}},reducers:{setRegistrationAbout:function(e,t){e.registrationUser.name=t.payload.name,e.registrationUser.surname=t.payload.surname,e.registrationUser.level=t.payload.level,e.registrationUser.birthday=t.payload.birthday,localStorage.setItem("registrationUser",JSON.stringify(e.registrationUser))},setRegistrationLogPass:function(e,t){e.registrationUser.login=t.payload.login,e.registrationUser.password=t.payload.password,e.registrationUser.repeatPassword=t.payload.repeatPassword,localStorage.setItem("registrationUser",JSON.stringify(e.registrationUser))},clearRegistrationData:function(e){e.registrationUser.login="",e.registrationUser.password="",e.registrationUser.name="",e.registrationUser.surname="",e.registrationUser.level="",e.registrationUser.birthday="",e.registrationUser.repeatPassword="",localStorage.removeItem("registrationUser")}}}),Fr=Mr.actions,jr=Fr.setRegistrationAbout,Ur=Fr.setRegistrationLogPass,Vr=Fr.clearRegistrationData,Br=function(e){var t,n=lr(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,l=void 0===u||u,c=r.preloadedState,f=void 0===c?void 0:c,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!or(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Vn(a)}var p=s;"function"===typeof p&&(p=p(n));var v=zn.apply(void 0,p),m=Bn;l&&(m=ar(nr({trace:!1},"object"===typeof l&&l)));var y=[v];return Array.isArray(d)?y=Qn([v],d):"function"===typeof d&&(y=d(y)),Un(t,f,m.apply(void 0,y))}({reducer:{userSlice:Dr,registrationSlice:Mr.reducer,searchSlice:Ir}}),zr=function(){return It()},qr=n(184),Hr=function(){var e=E((0,t.useState)("tasks"),2),n=e[0],r=e[1],i=zr(),a=_t((function(e){return e.searchSlice})).search,o=Se(),s=(0,t.useRef)(null),u="/menu/profile"===o.pathname;(0,t.useEffect)((function(){"/menu/programmers"===o.pathname?r("programmers"):"/menu/tasks"===o.pathname?r("tasks"):"/menu/chat"===o.pathname&&r("chat")}),[o]);return(0,qr.jsxs)("div",{className:rt+" "+(u?st:""),children:[(0,qr.jsx)("div",{className:it,children:(0,qr.jsx)("input",{ref:s,className:at,type:"text",placeholder:"Search...",value:a[n],onChange:function(e){return function(e){"programmers"===n?i(Sr(e.target.value)):"tasks"===n?i(xr(e.target.value)):"chat"===n&&i(Cr(e.target.value))}(e)}})}),!!a[n].length&&(0,qr.jsx)("svg",{onClick:function(){"programmers"===n?i(Sr("")):"tasks"===n?i(xr("")):"chat"===n&&i(Cr(""))},fill:"#000000",width:"16px",height:"16px",viewBox:"-3.5 0 19 19",xmlns:"http://www.w3.org/2000/svg",className:ot,children:(0,qr.jsx)("path",{d:"M11.383 13.644A1.03 1.03 0 0 1 9.928 15.1L6 11.172 2.072 15.1a1.03 1.03 0 1 1-1.455-1.456l3.928-3.928L.617 5.79a1.03 1.03 0 1 1 1.455-1.456L6 8.261l3.928-3.928a1.03 1.03 0 0 1 1.455 1.456L7.455 9.716z"})})]})},Wr=function(e){var n=e.pagesArr,r=e.openedPage,i=e.setOpenedPage,a=Se();return(0,t.useEffect)((function(){var e=a.pathname.split("/"),t=e[e.length-1],n=t[0].toUpperCase()+t.slice(1);i(n)}),[a]),(0,qr.jsxs)("div",{className:We,children:[n.map((function(e){return(0,qr.jsx)(et,{className:"".concat(Ke," ").concat(r===e?Ge:""),to:"/menu/".concat(e.toLowerCase()),onClick:function(){!function(e){i(e)}(e)},children:e},e)})),(0,qr.jsx)(Hr,{})]})},Kr="ExitButton_container__pVS4D",Gr="ExitButton_exitButton__ix-q+",Qr=function(e){var t=e.onClickExitButton;return(0,qr.jsx)("div",{className:Kr,children:(0,qr.jsx)(et,{to:"/authentication",children:(0,qr.jsx)("div",{onClick:t,title:"Logout",className:Gr,children:(0,qr.jsxs)("svg",{width:"15",height:"15",viewBox:"0 0 27 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,qr.jsx)("path",{d:"M16 6.45454V1.75C16 1.33579 15.6642 1 15.25 1H1.75C1.33579 1 1 1.33579 1 1.75V24.25C1 24.6642 1.33579 25 1.75 25H15.25C15.6642 25 16 24.6642 16 24.25V19.5454",stroke:"#FFF6F6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,qr.jsx)("path",{d:"M10 13H26M26 13L21.6369 8M26 13L21.6364 18",stroke:"#FFF6F6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})})})},$r=function(){var e=zr(),n=["Profile","Programmers","Tasks","Chat"],r=E((0,t.useState)(!1),2),i=r[0],a=r[1],o=E((0,t.useState)(""),2),s=o[0],u=o[1],l=function(){e(Or()),e(Vr()),e(Tr())};return(0,qr.jsxs)("div",{className:He.container,children:[(0,qr.jsxs)("div",{className:He.burgerPages,children:[(0,qr.jsxs)("button",{className:He.burgerMenuButton+" "+(i?He.burgerMenuButtonActive:""),onClick:function(){return a(!i)},children:[(0,qr.jsx)("div",{className:He.topLine}),(0,qr.jsx)("div",{className:He.middleLine}),(0,qr.jsx)("div",{className:He.middleLineTest}),(0,qr.jsx)("div",{className:He.bottomLine})]}),(0,qr.jsx)("div",{className:He.openedBurgerPage,children:s}),(0,qr.jsx)("div",{className:He.burgerMenu+" "+(i?He.active:""),children:(0,qr.jsxs)("div",{className:He.burgerButtons,children:[n.map((function(e){return(0,qr.jsxs)("div",{children:[(0,qr.jsx)(et,{className:He.burgerButton,to:"/menu/".concat(e.toLowerCase()),onClick:function(){a(!1)},children:e},e),(0,qr.jsx)("span",{className:He.line})]},e)})),(0,qr.jsx)(et,{className:He.burgerButton,to:"/menu/authentication",onClick:l,children:"Exit"}),(0,qr.jsx)("span",{className:He.line})]})})]}),(0,qr.jsxs)("div",{className:He.pagesButton,children:[(0,qr.jsx)(Wr,{pagesArr:n,openedPage:s,setOpenedPage:u}),(0,qr.jsx)(Qr,{onClickExitButton:l})]})]})},Yr="MenuLayout_container__ep1Og",Xr="MenuLayout_content__N2R2c",Jr=function(){return(0,qr.jsxs)("div",{className:Yr,children:[(0,qr.jsx)($r,{}),(0,qr.jsx)("div",{className:Xr,children:(0,qr.jsx)(je,{})})]})};function Zr(){Zr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),s=new C(i||[]);return r(o,"_invoke",{value:w(e,n,s)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var h={};function d(){}function p(){}function v(){}var m={};u(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==t&&n.call(g,a)&&(m=g);var _=v.prototype=d.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,a,o,s){var u=c(e[r],e,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==f(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,o,s)}),(function(e){i("throw",e,o,s)})):t.resolve(h).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=c(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v,r(_,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:p,configurable:!0}),p.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},k(b.prototype),u(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function ei(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(mu){return void n(mu)}s.done?t(u):Promise.resolve(u).then(r,i)}function ti(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){ei(a,r,i,o,s,"next",e)}function s(e){ei(a,r,i,o,s,"throw",e)}o(void 0)}))}}var ni="Profile_container__RtR86",ri="Profile_contentTop__coFyv",ii="Profile_photoContainer__8e9t0",ai="Profile_photo__ljUKr",oi="Profile_contentBot__Xw100",si="Profile_aboutMeInput__mATBl",ui="Profile_area__FjUo4",li="Profile_aboutMeInputEditMode__XGSnV",ci={container:"PersonInfo_container__9lb87",level:"PersonInfo_level__acSxm",inputs:"PersonInfo_inputs__ncMc1",input:"PersonInfo_input__lt1ad",nameInput:"PersonInfo_nameInput__GTl8b",surnameInput:"PersonInfo_surnameInput__9h-Ew"},fi=function(e){var t=e.userInfo,n=e.editMode,r=e.editNameInput,i=e.editSurnameInput,a=e.setEditNameInput,o=e.setEditSurnameInput,s=e.editDateInput,u=e.setEditDateInput;return(0,qr.jsxs)("div",{className:ci.container,children:[(0,qr.jsx)("div",{className:ci.level,children:t.level}),n?(0,qr.jsxs)("div",{className:ci.inputs,children:[(0,qr.jsx)("input",{value:r,onChange:function(e){return a(e.target.value)},className:ci.input+" "+ci.nameInput,type:"text",maxLength:15}),(0,qr.jsx)("input",{value:i,onChange:function(e){return o(e.target.value)},className:ci.input+" "+ci.surnameInput,type:"text",maxLength:15}),(0,qr.jsx)("input",{className:ci.input+" "+ci.dateInput,type:"date",onChange:function(e){return u(e.target.value)},value:s})]}):(0,qr.jsxs)(qr.Fragment,{children:[(0,qr.jsx)("div",{className:ci.name,children:t.name+" "+t.surname}),(0,qr.jsx)("div",{className:ci.birthday,children:t.birthday})]})]})},hi=function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()},di=function(){var e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0"),o=String(e.getSeconds()).padStart(2,"0");return"".concat(t).concat(n).concat(r).concat(i).concat(a).concat(o)},pi=function(){var e=new Date,t=e.getUTCFullYear(),n=String(e.getUTCMonth()+1).padStart(2,"0"),r=String(e.getUTCDate()).padStart(2,"0"),i=String(e.getUTCHours()).padStart(2,"0"),a=String(e.getUTCMinutes()).padStart(2,"0"),o=String(e.getUTCSeconds()).padStart(2,"0");return"".concat(t).concat(n).concat(r).concat(i).concat(a).concat(o)},vi=function(e){var t=e.split("-");return"".concat(t[2],".").concat(t[1],".").concat(t[0])},mi=function(e){if(!e)return"";var t=e.split(".");return"".concat(t[2],"-").concat(t[1],"-").concat(t[0])},yi=n.p+"static/media/noPhoto.7aa616a33b2a429c4a88.png",gi="ImageButtons_container__Dh7mV",_i="ImageButtons_inputFile__9fAGr",ki="ImageButtons_uploadButton__N8SYI",bi="ImageButtons_deleteButton__E-dPu",wi=function(e){var n=e.setUserImage,r=e.setUserImageUrl,i=e.setUserImageLastImageUrl,a=zr(),o=_t((function(e){return e.userSlice})).user,s=(0,t.useRef)(null),u=function(){var e=ti(Zr().mark((function e(t){var i,a;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=t.target.files)&&i.length>0&&((a=new FileReader).onload=function(){var e=a.result;"string"===typeof e&&r(e)},i[0]&&(a.readAsDataURL(i[0]),n(i[0])));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,qr.jsxs)("div",{className:gi,children:[(0,qr.jsx)("input",{className:_i,ref:s,onChange:function(e){return u(e)},type:"file",accept:".png,.jpg,.jpeg"}),(0,qr.jsx)("button",{onClick:function(){var e;null===(e=s.current)||void 0===e||e.click()},className:ki,children:"Upload image"}),(0,qr.jsx)("button",{onClick:function(){r(""),n(null),i(o.imageURL||""),a(Rr(On(On({},o),{},{imageURL:""})))},className:bi,children:"Delete image"})]})},Ei="EditButtons_container__9EmDT",Si="EditButtons_editButton__M4RHn",xi="EditButtons_cancelButton__5snuv",Ci=!1,Ti=!1,Ii="${JSCORE_VERSION}",Ni=function(e,t){if(!e)throw Pi(t)},Pi=function(e){return new Error("Firebase Database ("+Ii+") INTERNAL ASSERT FAILED: "+e)},Ai=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ri={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ai(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Oi;var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Oi=function(e){m(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return p(n)}(x(Error)),Di=function(e){var t=Ai(e);return Ri.encodeByteArray(t,!0)},Li=function(e){return Di(e).replace(/\./g,"")},Mi=function(e){try{return Ri.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Fi(e){return ji(void 0,e)}function ji(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ji(e[n],t[n]));return e}var Ui=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Vi=function(){try{return Ui()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/humans-base",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDQ5ORJnTxV5XhhzAtjZNGM_boRZ59lqLc",REACT_APP_FIREBASE_AUTH_DOMAIN:"human-base.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"human-base",REACT_APP_FIREBASE_STORAGE_BUCKET:"human-base.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"754877585259",REACT_APP_FIREBASE_APP_ID:"1:754877585259:web:c4265c5f14ff82f84bde2e"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Mi(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Bi=function(e){var t=function(e){var t,n;return null===(n=null===(t=Vi())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]}(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},zi=function(){var e;return null===(e=Vi())||void 0===e?void 0:e.config},qi=function(){function e(){var t=this;c(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return p(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Hi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Li(JSON.stringify({alg:"none",type:"JWT"})),Li(JSON.stringify(a)),""].join(".")}function Wi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ki(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wi())}function Gi(){var e,t=null===(e=Vi())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Qi(){return!0===Ci||!0===Ti}function $i(){try{return"object"===typeof indexedDB}catch(e){return!1}}var Yi=function(e){m(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(_(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(_(a),Xi.prototype.create),a}return p(n)}(x(Error)),Xi=function(){function e(t,n,r){c(this,e),this.service=t,this.serviceName=n,this.errors=r}return p(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ji,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Yi(n,a,t)}}]),e}();var Ji=/\{\$([^}]+)}/g;function Zi(e){return JSON.parse(e)}function ea(e){return JSON.stringify(e)}var ta=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Zi(Mi(a[0])||""),n=Zi(Mi(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function na(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ra(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ia(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function aa(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function oa(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(sa(s)&&sa(u)){if(!oa(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function sa(e){return null!==e&&"object"===typeof e}var ua=function(){function e(){c(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return p(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^c&(f^h),u=1518500249):(s=c^f^h,u=1859775393):p<60?(s=c&f|h&(c|f),u=2400959708):(s=c^f^h,u=3395469782);var v=(l<<5|l>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function la(e,t){return"".concat(e," failed: ").concat(t," argument ")}var ca=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function fa(e){return e&&e._delegate?e._delegate:e}var ha=function(){function e(t,n,r){c(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return p(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),da="[DEFAULT]",pa=function(){function e(t,n){c(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return p(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new qi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch(u){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=E(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ti(Zr().mark((function e(){var t;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(l(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),l(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=C(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=E(i.value,2),u=s[0],l=s[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(a)}}catch(c){o.e(c)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===da?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da;return this.component?this.component.multipleInstances?e:da:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var va,ma,ya=function(){function e(t){c(this,e),this.name=t,this.providers=new Map}return p(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new pa(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ga=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ma||(ma={}));var _a={debug:ma.DEBUG,verbose:ma.VERBOSE,info:ma.INFO,warn:ma.WARN,error:ma.ERROR,silent:ma.SILENT},ka=ma.INFO,ba=(An(va={},ma.DEBUG,"log"),An(va,ma.VERBOSE,"log"),An(va,ma.INFO,"info"),An(va,ma.WARN,"warn"),An(va,ma.ERROR,"error"),va),wa=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ba[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ea=function(){function e(t){c(this,e),this.name=t,this._logLevel=ka,this._logHandler=wa,this._userLogHandler=null,ga.push(this)}return p(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ma))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?_a[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ma.DEBUG].concat(t)),this._logHandler.apply(this,[this,ma.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ma.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ma.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ma.INFO].concat(t)),this._logHandler.apply(this,[this,ma.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ma.WARN].concat(t)),this._logHandler.apply(this,[this,ma.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ma.ERROR].concat(t)),this._logHandler.apply(this,[this,ma.ERROR].concat(t))}}]),e}();var Sa,xa,Ca=function(e,t){return t.some((function(t){return e instanceof t}))};var Ta=new WeakMap,Ia=new WeakMap,Na=new WeakMap,Pa=new WeakMap,Aa=new WeakMap;var Ra={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ia.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Na.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return La(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Oa(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xa||(xa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ma(this),n),La(Ta.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return La(e.apply(Ma(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Ma(this),t].concat(r));return Na.set(a,t.sort?t.sort():[t]),La(a)}}function Da(e){return"function"===typeof e?Oa(e):(e instanceof IDBTransaction&&function(e){if(!Ia.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ia.set(e,t)}}(e),Ca(e,Sa||(Sa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ra):e)}function La(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(La(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ta.set(t,e)})).catch((function(){})),Aa.set(t,e),t}(e);if(Pa.has(e))return Pa.get(e);var t=Da(e);return t!==e&&(Pa.set(e,t),Aa.set(t,e)),t}var Ma=function(e){return Aa.get(e)};var Fa,ja,Ua=["get","getKey","getAll","getAllKeys","count"],Va=["put","add","delete","clear"],Ba=new Map;function za(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ba.get(t))return Ba.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Va.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ua.includes(n))){var a=function(){var e=ti(Zr().mark((function e(t){var a,o,s,u,l,c,f=arguments;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=f[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ba.set(t,a),a}}}Ra=function(e){return On(On({},e),{},{get:function(t,n,r){return za(t,n)||e.get(t,n,r)},has:function(t,n){return!!za(t,n)||e.has(t,n)}})}(Ra);var qa=function(){function e(t){c(this,e),this.container=t}return p(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ha="@firebase/app",Wa="0.9.9",Ka=new Ea("@firebase/app"),Ga="[DEFAULT]",Qa=(An(Fa={},Ha,"fire-core"),An(Fa,"@firebase/app-compat","fire-core-compat"),An(Fa,"@firebase/analytics","fire-analytics"),An(Fa,"@firebase/analytics-compat","fire-analytics-compat"),An(Fa,"@firebase/app-check","fire-app-check"),An(Fa,"@firebase/app-check-compat","fire-app-check-compat"),An(Fa,"@firebase/auth","fire-auth"),An(Fa,"@firebase/auth-compat","fire-auth-compat"),An(Fa,"@firebase/database","fire-rtdb"),An(Fa,"@firebase/database-compat","fire-rtdb-compat"),An(Fa,"@firebase/functions","fire-fn"),An(Fa,"@firebase/functions-compat","fire-fn-compat"),An(Fa,"@firebase/installations","fire-iid"),An(Fa,"@firebase/installations-compat","fire-iid-compat"),An(Fa,"@firebase/messaging","fire-fcm"),An(Fa,"@firebase/messaging-compat","fire-fcm-compat"),An(Fa,"@firebase/performance","fire-perf"),An(Fa,"@firebase/performance-compat","fire-perf-compat"),An(Fa,"@firebase/remote-config","fire-rc"),An(Fa,"@firebase/remote-config-compat","fire-rc-compat"),An(Fa,"@firebase/storage","fire-gcs"),An(Fa,"@firebase/storage-compat","fire-gcs-compat"),An(Fa,"@firebase/firestore","fire-fst"),An(Fa,"@firebase/firestore-compat","fire-fst-compat"),An(Fa,"fire-js","fire-js"),An(Fa,"firebase","fire-js-all"),Fa),$a=new Map,Ya=new Map;function Xa(e,t){try{e.container.addComponent(t)}catch(n){Ka.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ja(e){var t=e.name;if(Ya.has(t))return Ka.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ya.set(t,e);var n,r=C($a.values());try{for(r.s();!(n=r.n()).done;){Xa(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Za(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var eo=(An(ja={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),An(ja,"bad-app-name","Illegal App name: '{$appName}"),An(ja,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),An(ja,"app-deleted","Firebase App named '{$appName}' already deleted"),An(ja,"no-options","Need to provide options, when not being deployed to hosting via source."),An(ja,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),An(ja,"invalid-log-argument","First argument to `onLog` must be null or a function."),An(ja,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),An(ja,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),An(ja,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),An(ja,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ja),to=new Xi("app","Firebase",eo),no=function(){function e(t,n,r){var i=this;c(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ha("app",(function(){return i}),"PUBLIC"))}return p(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}]),e}(),ro="9.21.0";function io(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:Ga,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw to.create("bad-app-name",{appName:String(i)});if(n||(n=zi()),!n)throw to.create("no-options");var a=$a.get(i);if(a){if(oa(n,a.options)&&oa(r,a.config))return a;throw to.create("duplicate-app",{appName:i})}var o,s=new ya(i),u=C(Ya.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s.addComponent(l)}}catch(f){u.e(f)}finally{u.f()}var c=new no(n,r,s);return $a.set(i,c),c}function ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga,t=$a.get(e);if(!t&&e===Ga)return io();if(!t)throw to.create("no-app",{appName:e});return t}function oo(e,t,n){var r,i=null!==(r=Qa[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ka.warn(s.join(" "))}Ja(new ha("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var so="firebase-heartbeat-database",uo=1,lo="firebase-heartbeat-store",co=null;function fo(){return co||(co=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=La(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(La(s.result),e.oldVersion,e.newVersion,La(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(so,uo,{upgrade:function(e,t){if(0===t)e.createObjectStore(lo)}}).catch((function(e){throw to.create("idb-open",{originalErrorMessage:e.message})}))),co}function ho(e){return po.apply(this,arguments)}function po(){return po=ti(Zr().mark((function e(t){var n,r;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fo();case 3:return n=e.sent,e.abrupt("return",n.transaction(lo).objectStore(lo).get(yo(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Yi?Ka.warn(e.t0.message):(r=to.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ka.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),po.apply(this,arguments)}function vo(e,t){return mo.apply(this,arguments)}function mo(){return mo=ti(Zr().mark((function e(t,n){var r,i,a,o;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fo();case 3:return r=e.sent,i=r.transaction(lo,"readwrite"),a=i.objectStore(lo),e.next=8,a.put(n,yo(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Yi?Ka.warn(e.t0.message):(o=to.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Ka.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),mo.apply(this,arguments)}function yo(e){return"".concat(e.name,"!").concat(e.options.appId)}var go=function(){function e(t){var n=this;c(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new wo(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return p(e,[{key:"triggerHeartbeat",value:function(){var e=ti(Zr().mark((function e(){var t,n,r;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=_o(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ti(Zr().mark((function e(){var t,n,r,i,a;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=_o(),n=ko(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Li(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function _o(){return(new Date).toISOString().substring(0,10)}function ko(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Eo(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Eo(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var bo,wo=function(){function e(t){c(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return p(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ti(Zr().mark((function e(){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($i()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(mu){t(mu)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ti(Zr().mark((function e(){var t;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ho(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ti(Zr().mark((function e(t){var n,r;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",vo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ti(Zr().mark((function e(t){var n,r;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",vo(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(l(r.heartbeats),l(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Eo(e){return Li(JSON.stringify({version:2,heartbeats:e})).length}bo="",Ja(new ha("platform-logger",(function(e){return new qa(e)}),"PRIVATE")),Ja(new ha("heartbeat",(function(e){return new go(e)}),"PRIVATE")),oo(Ha,Wa,bo),oo(Ha,Wa,"esm2017"),oo("fire-js","");var So,xo="firebasestorage.googleapis.com",Co="storageBucket",To=function(e){m(n,e);var t=k(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return c(this,n),(i=t.call(this,Io(e),"Firebase Storage: ".concat(r," (").concat(Io(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(_(i),n.prototype),i}return p(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return Io(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Yi);function Io(e){return"storage/"+e}function No(){return new To(So.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Po(){return new To(So.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ao(){return new To(So.CANCELED,"User canceled the upload/download.")}function Ro(){return new To(So.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Oo(e){return new To(So.INVALID_ARGUMENT,e)}function Do(){return new To(So.APP_DELETED,"The Firebase app was deleted.")}function Lo(e,t){return new To(So.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Mo(e){throw new To(So.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(So||(So={}));var Fo,jo=function(){function e(t,n){c(this,e),this.bucket=t,this.path_=n}return p(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new To(So.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===xo?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],l=0;l<u.length;l++){var c=u[l],f=c.regex.exec(t);if(f){var h=f[c.indices.bucket],d=f[c.indices.path];d||(d=""),r=new e(h,d),c.postModify(r);break}}if(null==r)throw function(e){return new To(So.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Uo=function(){function e(t){c(this,e),this.promise_=Promise.reject(t)}return p(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Vo(e){return"string"===typeof e||e instanceof String}function Bo(e){return zo()&&e instanceof Blob}function zo(){return"undefined"!==typeof Blob&&!Gi()}function qo(e,t,n,r){if(r<t)throw Oo("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Oo("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Ho(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Wo(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function Ko(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Fo||(Fo={}));var Go=function(){function e(t,n,r,i,a,o,s,u,l,f,h){var d=this,p=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];c(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return p(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=No();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?Do():Ao());else i(Po())}};this.canceled_?t(0,new Qo(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var l=!1;function c(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(l)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void c.call.apply(c,[null,e].concat(n));var a;if(u()||o)return h(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),l||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new Qo(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Fo.NO_ERROR,a=r.getStatus();if(!n||Ko(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===Fo.ABORT;t(!1,new Qo(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new Qo(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),Qo=p((function e(t,n,r){c(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function $o(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Yo(){for(var e=$o(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(zo())return new Blob(n);throw new To(So.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Xo(e){if("undefined"===typeof atob)throw t="base-64",new To(So.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var Jo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Zo=p((function e(t,n){c(this,e),this.data=t,this.contentType=n||null}));function es(e,t){switch(e){case Jo.RAW:return new Zo(ts(t));case Jo.BASE64:case Jo.BASE64URL:return new Zo(ns(e,t));case Jo.DATA_URL:return new Zo(function(e){var t=new rs(e);return t.base64?ns(Jo.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Lo(Jo.DATA_URL,"Malformed data URL.")}return ts(t)}(t.rest)}(t),new rs(t).contentType)}throw No()}function ts(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ns(e,t){switch(e){case Jo.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Lo(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Jo.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Lo(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=Xo(t)}catch(l){if(l.message.includes("polyfill"))throw l;throw Lo(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var rs=p((function e(t){c(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Lo(Jo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){var n=e.length>=t.length;if(!n)return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var is=function(){function e(t,n){c(this,e);var r=0,i="";Bo(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return p(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Bo(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(zo()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Yo.apply(null,i))}var a=n.map((function(e){return Vo(e)?es(Jo.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function as(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function os(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function ss(e,t){return t}var us=p((function e(t,n,r,i){c(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||ss})),ls=null;function cs(){if(ls)return ls;var e=[];e.push(new us("bucket")),e.push(new us("generation")),e.push(new us("metageneration")),e.push(new us("name","fullPath",!0));var t=new us("name");t.xform=function(e,t){return function(e){return!Vo(e)||e.length<2?e:os(e)}(t)},e.push(t);var n=new us("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new us("timeCreated")),e.push(new us("updated")),e.push(new us("md5Hash",null,!0)),e.push(new us("cacheControl",null,!0)),e.push(new us("contentDisposition",null,!0)),e.push(new us("contentEncoding",null,!0)),e.push(new us("contentLanguage",null,!0)),e.push(new us("contentType",null,!0)),e.push(new us("metadata","customMetadata",!0)),ls=e}function fs(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new jo(n,r);return t._makeStorageReference(i)}})}(r,e),r}function hs(e,t,n){var r=as(t);return null===r?null:fs(e,r,n)}function ds(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var ps=p((function e(t,n,r,i){c(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function vs(e){if(!e)throw No()}function ms(e,t){return function(n,r){var i=hs(e,r,t);return vs(null!==i),i}}function ys(e,t){return function(n,r){var i=hs(e,r,t);return vs(null!==i),function(e,t,n,r){var i=as(t);if(null===i)return null;if(!Vo(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return Ho("/b/"+o(i)+"/o/"+o(a),n,r)+Wo({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function gs(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new To(So.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new To(So.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new To(So.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new To(So.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function _s(e){var t=gs(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new To(So.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function ks(e,t,n){var r=Ho(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new ps(r,"GET",ms(e,n),i);return a.errorHandler=_s(t),a}function bs(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function ws(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=bs(t,r,i),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ds(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+s+"--",f=is.getBlob(l,r,c);if(null===f)throw Ro();var h={name:u.fullPath},d=Ho(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new ps(d,"POST",ms(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=gs(t),v}var Es=p((function e(t,n,r,i){c(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function Ss(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){vs(!1)}return vs(!!n&&-1!==(t||["active"]).indexOf(n)),n}var xs=262144;function Cs(e,t,n,r,i,a,o,s){var u=new Es(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new To(So.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var l=u.total-u.current,c=l;i>0&&(c=Math.min(c,i));var f=u.current,h=f+c,d={"X-Goog-Upload-Command":0===c?"finalize":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw Ro();var v=t.maxUploadRetryTime,m=new ps(n,"POST",(function(e,n){var i,o=Ss(e,["active","final"]),s=u.current+c,l=r.size();return i="final"===o?ms(t,a)(e,n):null,new Es(s,l,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=gs(e),m}var Ts={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Is(e){switch(e){case"running":case"pausing":case"canceling":return Ts.RUNNING;case"paused":return Ts.PAUSED;case"success":return Ts.SUCCESS;case"canceled":return Ts.CANCELED;default:return Ts.ERROR}}var Ns=p((function e(t,n,r){c(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function Ps(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var As=null,Rs=function(){function e(){var t=this;c(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fo.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Fo.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Fo.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return p(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Mo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Mo("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Mo("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Mo("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Mo("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Os=function(e){m(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Rs);function Ds(){return As?As():new Os}var Ls=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;c(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=cs(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(So.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(Ko(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=Po()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(So.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return p(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=E(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=bs(t,r,i),s={name:o.fullPath},u=Ho(a,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},c=ds(o,n),f=e.maxUploadRetryTime,h=new ps(u,"POST",(function(e){var t;Ss(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){vs(!1)}return vs(Vo(t)),t}),f);return h.urlParams=s,h.headers=l,h.body=c,h.errorHandler=gs(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Ds,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new ps(n,"POST",(function(e){var t=Ss(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){vs(!1)}n||vs(!1);var i=Number(n);return vs(!isNaN(i)),new Es(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=gs(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,Ds,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=xs*this._chunkMultiplier,n=new Es(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=Cs(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,Ds,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(xs*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=ks(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,Ds,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=ws(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Ds,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ao(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=Is(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new Ns(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(Is(this._state)){case Ts.SUCCESS:Ps(this._resolve.bind(null,this.snapshot))();break;case Ts.CANCELED:case Ts.ERROR:Ps(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(Is(this._state)){case Ts.RUNNING:case Ts.PAUSED:e.next&&Ps(e.next.bind(e,this.snapshot))();break;case Ts.SUCCESS:e.complete&&Ps(e.complete.bind(e))();break;case Ts.CANCELED:case Ts.ERROR:default:e.error&&Ps(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),Ms=function(){function e(t,n){c(this,e),this._service=t,this._location=n instanceof jo?n:jo.makeFromUrl(n,t.host)}return p(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new jo(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return os(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new jo(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new To(So.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Fs(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=Ho(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new ps(r,"GET",ys(e,n),i);return a.errorHandler=_s(t),a}(e.storage,e._location,cs());return e.storage.makeRequestWithTokens(t,Ds).then((function(e){if(null===e)throw new To(So.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function js(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=Ho(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new ps(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=_s(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Ds)}function Us(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new jo(e._location.bucket,n);return new Ms(e.storage,r)}function Vs(e,t){if(e instanceof qs){var n=e;if(null==n._bucket)throw new To(So.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Co+"' property when initializing the app?");var r=new Ms(n,n._bucket);return null!=t?Vs(r,t):r}return void 0!==t?Us(e,t):e}function Bs(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof qs)return new Ms(e,t);throw Oo("To use ref(service, url), the first argument must be a Storage instance.")}return Vs(e,t)}function zs(e,t){var n=null===t||void 0===t?void 0:t[Co];return null==n?null:jo.makeFromBucketSpec(n,e)}var qs=function(){function e(t,n,r,i,a){c(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=xo,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?jo.makeFromBucketSpec(i,this._host):zs(this._host,this.app.options)}return p(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=jo.makeFromBucketSpec(this._url,e):this._bucket=zs(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){qo("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){qo("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ti(Zr().mark((function e(){var t,n;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ti(Zr().mark((function e(){var t,n;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Ms(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Uo(Do());var o=function(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=Wo(e.urlParams),u=e.url+s,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new Go(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=ti(Zr().mark((function e(t,n){var r,i,a,o;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=E(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Hs="@firebase/storage",Ws="0.11.2",Ks="storage";function Gs(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Ls(e,new is(t),n)}(e=fa(e),t,n)}function Qs(e){return Fs(e=fa(e))}function $s(e){return js(e=fa(e))}function Ys(e,t){return Bs(e=fa(e),t)}function Xs(e,t,n){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Hi(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function Js(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new qs(r,i,a,n,ro)}Ja(new ha(Ks,Js,"PUBLIC").setMultipleInstances(!0)),oo(Hs,Ws,""),oo(Hs,Ws,"esm2017");oo("firebase","9.21.0","app");var Zs="@firebase/database",eu="0.14.4",tu="";var nu=function(){function e(t){c(this,e),this.domStorage_=t,this.prefix_="firebase:"}return p(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ea(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Zi(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),ru=function(){function e(){c(this,e),this.cache_={},this.isInMemoryStorage=!0}return p(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return na(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),iu=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new nu(t)}}catch(n){}return new ru},au=iu("localStorage"),ou=iu("sessionStorage"),su=new Ea("@firebase/database"),uu=function(){var e=1;return function(){return e++}}(),lu=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Ni(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new ua;n.update(t);var r=n.digest();return Ri.encodeByteArray(r)},cu=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?ea(r):r,t+=" "}return t},fu=null,hu=!0,du=function(e,t){Ni(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(su.logLevel=ma.VERBOSE,fu=su.log.bind(su),t&&ou.set("logging_enabled",!0)):"function"===typeof e?fu=e:(fu=null,ou.remove("logging_enabled"))},pu=function(){if(!0===hu&&(hu=!1,null===fu&&!0===ou.get("logging_enabled")&&du(!0)),fu){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=cu.apply(null,t);fu(r)}},vu=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];pu.apply(void 0,[e].concat(n))}},mu=function(){var e="FIREBASE INTERNAL ERROR: "+cu.apply(void 0,arguments);su.error(e)},yu=function(){var e="FIREBASE FATAL ERROR: ".concat(cu.apply(void 0,arguments));throw su.error(e),new Error(e)},gu=function(){var e="FIREBASE WARNING: "+cu.apply(void 0,arguments);su.warn(e)},_u=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ku="[MIN_NAME]",bu="[MAX_NAME]",wu=function(e,t){if(e===t)return 0;if(e===ku||t===bu)return-1;if(t===ku||e===bu)return 1;var n=Pu(e),r=Pu(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Eu=function(e,t){return e===t?0:e<t?-1:1},Su=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ea(t))},xu=function e(t){if("object"!==typeof t||null===t)return ea(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=ea(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Cu=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Tu(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Iu=function(e){Ni(!_u(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var Nu=new RegExp("^-?(0*)\\d{1,10}$"),Pu=function(e){if(Nu.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Au=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw gu("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Ru=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},Ou=function(){function e(t,n){var r=this;c(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return p(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){gu('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Du=function(){function e(t,n,r){var i=this;c(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return p(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(pu("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gu(e)}}]),e}(),Lu=function(){function e(t){c(this,e),this.accessToken=t}return p(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();Lu.OWNER="owner";var Mu="5",Fu=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ju="ac",Uu="websocket",Vu="long_polling",Bu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];c(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=au.get("host:"+t)||this._host}return p(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&au.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function zu(e,t,n){var r;if(Ni("string"===typeof t,"typeof type must == string"),Ni("object"===typeof n,"typeof params must == object"),t===Uu)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Vu)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Tu(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var qu=function(){function e(){c(this,e),this.counters_={}}return p(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;na(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Fi(this.counters_)}}]),e}(),Hu={},Wu={};function Ku(e){var t=e.toString();return Hu[t]||(Hu[t]=new qu),Hu[t]}var Gu=function(){function e(t){c(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return p(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Au((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),Qu="start",$u=function(){function e(t,n,r,i,a,o,s){var u=this;c(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vu(t),this.stats_=Ku(n),this.urlFn=function(e){return u.appCheckToken&&(e[ju]=u.appCheckToken),zu(n,Vu,e)}}return p(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Gu(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Qi()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Yu((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Qu)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[Qu]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Mu,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[ju]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Fu.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=ea(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Di(t),r=Cu(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Qi()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=ea(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Qi()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Yu=function(){function e(t,n,r,i){if(c(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Qi())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=uu(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){pu("frame writing exception"),s.stack&&pu(s.stack),pu(s)}}}return p(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Qi()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){pu("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||pu("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Xu=null;"undefined"!==typeof MozWebSocket?Xu=MozWebSocket:"undefined"!==typeof WebSocket&&(Xu=WebSocket);var Ju=function(){function e(t,n,r,i,a,o,s){c(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vu(this.connId),this.stats_=Ku(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return p(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,au.set("previous_websocket_failure",!0);try{var r;if(Qi()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(Mu,"/").concat(tu,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/humans-base",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDQ5ORJnTxV5XhhzAtjZNGM_boRZ59lqLc",REACT_APP_FIREBASE_AUTH_DOMAIN:"human-base.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"human-base",REACT_APP_FIREBASE_STORAGE_BUCKET:"human-base.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"754877585259",REACT_APP_FIREBASE_APP_ID:"1:754877585259:web:c4265c5f14ff82f84bde2e"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Xu(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){au.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Zi(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Ni(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=ea(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Cu(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Mu,!Qi()&&"undefined"!==typeof location&&location.hostname&&Fu.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[ju]=r),i&&(a.p=i),zu(e,Uu,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Xu&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return au.isInMemoryStorage||!0===au.get("previous_websocket_failure")}}]),e}();Ju.responsesRequiredToBeHealthy=2,Ju.healthyTimeout=3e4;var Zu=function(){function e(t){c(this,e),this.initTransports_(t)}return p(e,[{key:"initTransports_",value:function(t){var n=Ju&&Ju.isAvailable(),r=n&&!Ju.previouslyFailed();if(t.webSocketOnly&&(n||gu("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ju];else{var i,a=this.transports_=[],o=C(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[$u,Ju]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Zu.globalTransportInitialized_=!1;var el=function(){function e(t,n,r,i,a,o,s,u,l,f){c(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vu("c:"+this.id+":"),this.transportManager_=new Zu(n),this.log_("Connection created"),this.start_()}return p(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ru((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Su("t",e),n=Su("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Su("t",e),n=Su("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Su("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?mu("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mu("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Mu!==n&&gu("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ru((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ru((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(au.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),tl=function(){function e(){c(this,e)}return p(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),nl=function(){function e(t){c(this,e),this.allowedEvents_=t,this.listeners_={},Ni(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return p(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=l(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Ni(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),rl=function(e){m(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ki()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return p(n,[{key:"getInitialEvent",value:function(e){return Ni("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(nl),il=32,al=768,ol=function(){function e(t,n){if(c(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return p(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function sl(){return new ol("")}function ul(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ll(e){return e.pieces_.length-e.pieceNum_}function cl(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ol(e.pieces_,t)}function fl(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function hl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function dl(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ol(t,0)}function pl(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ol)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new ol(n,0)}function vl(e){return e.pieceNum_>=e.pieces_.length}function ml(e,t){var n=ul(e),r=ul(t);if(null===n)return t;if(n===r)return ml(cl(e),cl(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function yl(e,t){if(ll(e)!==ll(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function gl(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ll(e)>ll(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var _l=p((function e(t,n){c(this,e),this.errorPrefix_=n,this.parts_=hl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=ca(this.parts_[r]);kl(this)}));function kl(e){if(e.byteLength_>al)throw new Error(e.errorPrefix_+"has a key path longer than "+al+" bytes ("+e.byteLength_+").");if(e.parts_.length>il)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+il+") or object contains a cycle "+bl(e))}function bl(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var wl=function(e){m(n,e);var t=k(n);function n(){var e,r,i;return c(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return p(n,[{key:"getInitialEvent",value:function(e){return Ni("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(nl),El=1e3,Sl=function(e){m(n,e);var t=k(n);function n(e,r,i,a,o,s,u,l){var f;if(c(this,n),(f=t.call(this)).repoInfo_=e,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=o,f.authTokenProvider_=s,f.appCheckTokenProvider_=u,f.authOverride_=l,f.id=n.nextPersistentConnectionId_++,f.log_=vu("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=El,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!Qi())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return wl.getInstance().on("visible",f.onVisible_,_(f)),-1===e.host.indexOf("fblocal")&&rl.getInstance().on("online",f.onOnline_,_(f)),f}return p(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(ea(i)),Ni(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new qi,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Ni(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ni(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=ta(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=ta(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Ni(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+ea(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):mu("Unrecognized action received from server: "+ea(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Ni(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=El,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=El,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=El),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=ti(Zr().mark((function e(){var t,r,i,a,o,s,u,l,c,f,h,d,p,v,m=this;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},c=function(e){Ni(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:c},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:h=e.sent,d=E(h,2),p=d[0],v=d[1],s?pu("getToken() completed but was canceled"):(pu("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new el(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){gu(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&gu(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){pu("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){pu("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ia(this.interruptReasons_)&&(this.reconnectDelay_=El,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return xu(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new ol(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){pu("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){pu("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=C(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=C(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Qi()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+tu.replace(/\./g,"-")]=1,Ki()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=rl.getInstance().currentlyOnline();return ia(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&na(e,"w")){var n=ra(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();gu("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(tl);Sl.nextPersistentConnectionId_=0,Sl.nextConnectionId_=0;var xl,Cl=function(){function e(t,n){c(this,e),this.name=t,this.node=n}return p(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Tl=function(){function e(){c(this,e)}return p(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Cl(ku,e),r=new Cl(ku,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Cl.MIN}}]),e}(),Il=function(e){m(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"compare",value:function(e,t){return wu(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Pi("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Cl.MIN}},{key:"maxPost",value:function(){return new Cl(bu,xl)}},{key:"makePost",value:function(e,t){return Ni("string"===typeof e,"KeyIndex indexValue must always be a string."),new Cl(e,xl)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return xl},set:function(e){xl=e}}]),n}(Tl),Nl=new Il,Pl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;c(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return p(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Al=function(){function e(t,n,r,i,a){c(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Dl.EMPTY_NODE,this.right=null!=a?a:Dl.EMPTY_NODE}return p(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Dl.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Dl.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Al.RED=!0,Al.BLACK=!1;var Rl,Ol=function(){function e(){c(this,e)}return p(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Al(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Dl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;c(this,e),this.comparator_=t,this.root_=n}return p(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Al.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Al.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Pl(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Pl(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Pl(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Pl(this.root_,null,this.comparator_,!0,e)}}]),e}();function Ll(e,t){return wu(e.name,t.name)}function Ml(e,t){return wu(e,t)}Dl.EMPTY_NODE=new Ol;var Fl,jl,Ul,Vl=function(e){return"number"===typeof e?"number:"+Iu(e):"string:"+e},Bl=function(e){if(e.isLeafNode()){var t=e.val();Ni("string"===typeof t||"number"===typeof t||"object"===typeof t&&na(t,".sv"),"Priority must be a string or number.")}else Ni(e===Rl||e.isEmpty(),"priority of unexpected type.");Ni(e===Rl||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},zl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;c(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Ni(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Bl(this.priorityNode_)}return p(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return vl(t)?this:".priority"===ul(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=ul(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Ni(".priority"!==r||1===ll(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(cl(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Vl(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Iu(this.value_):this.value_,this.lazyHash_=lu(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Ni(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Ni(i>=0,"Unknown leaf type: "+n),Ni(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Fl},set:function(e){Fl=e}}]),e}();zl.VALUE_TYPE_ORDER=["object","boolean","number","string"];var ql,Hl,Wl=function(e){m(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?wu(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Cl.MIN}},{key:"maxPost",value:function(){return new Cl(bu,new zl("[PRIORITY-POST]",Ul))}},{key:"makePost",value:function(e,t){var n=jl(e);return new Cl(t,new zl("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Tl),Kl=new Wl,Gl=Math.log(2),Ql=function(){function e(t){c(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/Gl,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return p(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),$l=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new Al(o,a.node,Al.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new Al(o,a.node,Al.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),c=e[a],f=n?n(c):c;u(new Al(f,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),f=Math.pow(2,t.count-(l+1));c?s(f,Al.BLACK):(s(f,Al.BLACK),s(f,Al.RED))}return a}(new Ql(e.length));return new Dl(r||t,a)},Yl={},Xl=function(){function e(t,n){c(this,e),this.indexes_=t,this.indexSet_=n}return p(e,[{key:"get",value:function(e){var t=ra(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Dl?t:null}},{key:"hasIndex",value:function(e){return na(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Ni(t!==Nl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Cl.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?$l(i,t.getCompare()):Yl;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(aa(this.indexes_,(function(e,i){var a=ra(r.indexSet_,i);if(Ni(a,"Missing index implementation for "+i),e===Yl){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(Cl.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),$l(o,a.getCompare())}return Yl}var l=n.get(t.name),c=e;return l&&(c=c.remove(new Cl(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(aa(this.indexes_,(function(e){if(e===Yl)return e;var r=n.get(t.name);return r?e.remove(new Cl(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Ni(Yl&&Kl,"ChildrenNode.ts has not been loaded"),ql=ql||new e({".priority":Yl},{".priority":Kl})}}]),e}(),Jl=function(){function e(t,n,r){c(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Bl(this.priorityNode_),this.children_.isEmpty()&&Ni(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return p(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||Hl}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Hl:t}},{key:"getChild",value:function(e){var t=ul(e);return null===t?this:this.getImmediateChild(t).getChild(cl(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Ni(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Cl(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?Hl:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=ul(e);if(null===n)return t;Ni(".priority"!==ul(e)||1===ll(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(cl(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(Kl,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Vl(this.getPriority().val())+":"),this.forEachChild(Kl,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":lu(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Cl(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Cl(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Cl(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Cl.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Cl.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Zl?-1:0}},{key:"withIndex",value:function(t){if(t===Nl||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Nl||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Kl),r=t.getIterator(Kl),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Nl?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return Hl||(Hl=new e(new Dl(Ml),null,Xl.Default))}}]),e}();Jl.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Zl=new(function(e){m(n,e);var t=k(n);function n(){return c(this,n),t.call(this,new Dl(Ml),Jl.EMPTY_NODE,Xl.Default)}return p(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Jl.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Jl));Object.defineProperties(Cl,{MIN:{value:new Cl(ku,Jl.EMPTY_NODE)},MAX:{value:new Cl(bu,Zl)}}),Il.__EMPTY_NODE=Jl.EMPTY_NODE,zl.__childrenNodeConstructor=Jl,Rl=Zl,function(e){Ul=e}(Zl);var ec=!0;function tc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Jl.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Ni(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new zl(e,tc(t));if(e instanceof Array||!ec){var n=Jl.EMPTY_NODE;return Tu(e,(function(t,r){if(na(e,t)&&"."!==t.substring(0,1)){var i=tc(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(tc(t))}var r=[],i=!1;if(Tu(e,(function(e,t){if("."!==e.substring(0,1)){var n=tc(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Cl(e,n)))}})),0===r.length)return Jl.EMPTY_NODE;var a=$l(r,Ll,(function(e){return e.name}),Ml);if(i){var o=$l(r,Kl.getCompare());return new Jl(a,tc(t),new Xl({".priority":o},{".priority":Kl}))}return new Jl(a,tc(t),Xl.Default)}!function(e){jl=e}(tc);var nc=function(e){m(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).indexPath_=e,Ni(!vl(e)&&".priority"!==ul(e),"Can't create PathIndex with empty path or .priority key"),r}return p(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?wu(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=tc(e),r=Jl.EMPTY_NODE.updateChild(this.indexPath_,n);return new Cl(t,r)}},{key:"maxPost",value:function(){var e=Jl.EMPTY_NODE.updateChild(this.indexPath_,Zl);return new Cl(bu,e)}},{key:"toString",value:function(){return hl(this.indexPath_,0).join("/")}}]),n}(Tl),rc=function(e){m(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?wu(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Cl.MIN}},{key:"maxPost",value:function(){return Cl.MAX}},{key:"makePost",value:function(e,t){var n=tc(e);return new Cl(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Tl),ic=new rc;function ac(e){return{type:"value",snapshotNode:e}}function oc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function sc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function uc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var lc=function(){function e(t){c(this,e),this.index_=t}return p(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Ni(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(sc(t,o)):Ni(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(oc(t,n)):a.trackChildChange(uc(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Kl,(function(e,r){t.hasChild(e)||n.trackChildChange(sc(e,r))})),t.isLeafNode()||t.forEachChild(Kl,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(uc(t,r,i))}else n.trackChildChange(oc(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?Jl.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),cc=function(){function e(t){c(this,e),this.indexedFilter_=new lc(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return p(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Cl(t,n))||(n=Jl.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=Jl.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Jl.EMPTY_NODE);var i=this;return t.forEachChild(Kl,(function(e,t){i.matches(new Cl(e,t))||(r=r.updateImmediateChild(e,Jl.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),fc=function(){function e(t){var n=this;c(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new cc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return p(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Cl(t,n))||(n=Jl.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Jl.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=Jl.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(Jl.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var l=s.getNext();u<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?u++:r=r.updateImmediateChild(l.name,Jl.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;Ni(s.numChildren()===this.limit_,"");var u=new Cl(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,l,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(uc(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(sc(t,f));var p=s.updateImmediateChild(t,Jl.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(oc(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:c&&a(l,u)>=0?(null!=i&&(i.trackChildChange(sc(l.name,l.node)),i.trackChildChange(oc(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,Jl.EMPTY_NODE)):e}}]),e}(),hc=function(){function e(){c(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kl}return p(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Ni(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Ni(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ku}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Ni(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Ni(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bu}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Ni(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===Kl}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function dc(e){var t,n={};if(e.isDefault())return n;if(e.index_===Kl?t="$priority":e.index_===ic?t="$value":e.index_===Nl?t="$key":(Ni(e.index_ instanceof nc,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=ea(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=ea(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+ea(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=ea(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+ea(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function pc(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Kl&&(t.i=e.index_.toString()),t}var vc=function(e){m(n,e);var t=k(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=vu("p:rest:"),o.listens_={},o}return p(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=dc(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),ra(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=dc(e._queryParams),r=e._path.toString(),i=new qi;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=E(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+function(e){for(var t=[],n=function(){var e=E(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Zi(l.responseText)}catch(n){gu("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&gu("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Ni(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(tl),mc=function(){function e(){c(this,e),this.rootNode_=Jl.EMPTY_NODE}return p(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function yc(){return{value:null,children:new Map}}function gc(e,t,n){if(vl(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ul(t);e.children.has(r)||e.children.set(r,yc()),gc(e.children.get(r),t=cl(t),n)}}function _c(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){_c(r,new ol(t.toString()+"/"+e),n)}))}var kc,bc=function(){function e(t){c(this,e),this.collection_=t,this.last_=null}return p(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Tu(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),wc=function(){function e(t,n){c(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new bc(t);var r=1e4+2e4*Math.random();Ru(this.reportStats_.bind(this),Math.floor(r))}return p(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Tu(t,(function(t,i){i>0&&na(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Ru(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Ec(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(kc||(kc={}));var Sc,xc=function(){function e(t,n,r){c(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=kc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return p(e,[{key:"operationForChild",value:function(t){if(vl(this.path)){if(null!=this.affectedTree.value)return Ni(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ol(t));return new e(sl(),n,this.revert)}return Ni(ul(this.path)===t,"operationForChild called for unrelated child."),new e(cl(this.path),this.affectedTree,this.revert)}}]),e}(),Cc=function(){function e(t,n){c(this,e),this.source=t,this.path=n,this.type=kc.LISTEN_COMPLETE}return p(e,[{key:"operationForChild",value:function(t){return vl(this.path)?new e(this.source,sl()):new e(this.source,cl(this.path))}}]),e}(),Tc=function(){function e(t,n,r){c(this,e),this.source=t,this.path=n,this.snap=r,this.type=kc.OVERWRITE}return p(e,[{key:"operationForChild",value:function(t){return vl(this.path)?new e(this.source,sl(),this.snap.getImmediateChild(t)):new e(this.source,cl(this.path),this.snap)}}]),e}(),Ic=function(){function e(t,n,r){c(this,e),this.source=t,this.path=n,this.children=r,this.type=kc.MERGE}return p(e,[{key:"operationForChild",value:function(t){if(vl(this.path)){var n=this.children.subtree(new ol(t));return n.isEmpty()?null:n.value?new Tc(this.source,sl(),n.value):new e(this.source,sl(),n)}return Ni(ul(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,cl(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Nc=function(){function e(t,n,r){c(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return p(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(vl(e))return this.isFullyInitialized()&&!this.filtered_;var t=ul(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Pc=p((function e(t){c(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function Ac(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Pi("Should only compare child_ events.");var r=new Cl(t.childName,t.snapshotNode),i=new Cl(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Rc(e,t){return{eventCache:e,serverCache:t}}function Oc(e,t,n,r){return Rc(new Nc(t,n,r),e.serverCache)}function Dc(e,t,n,r){return Rc(e.eventCache,new Nc(t,n,r))}function Lc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Mc(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Fc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Sc||(Sc=new Dl(Eu)),Sc);c(this,e),this.value=t,this.children=n}return p(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:sl(),value:this.value};if(vl(e))return null;var n=ul(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(cl(e),t);return null!=i?{path:pl(new ol(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(vl(t))return this;var n=ul(t),r=this.children.get(n);return null!==r?r.subtree(cl(t)):new e(null)}},{key:"set",value:function(t,n){if(vl(t))return new e(n,this.children);var r=ul(t),i=(this.children.get(r)||new e(null)).set(cl(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(vl(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ul(t),r=this.children.get(n);if(r){var i,a=r.remove(cl(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(vl(e))return this.value;var t=ul(e),n=this.children.get(t);return n?n.get(cl(e)):null}},{key:"setTree",value:function(t,n){if(vl(t))return n;var r,i=ul(t),a=(this.children.get(i)||new e(null)).setTree(cl(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(sl(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(pl(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,sl(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(vl(e))return null;var i=ul(e),a=this.children.get(i);return a?a.findOnPath_(cl(e),pl(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,sl(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(vl(t))return this;this.value&&r(n,this.value);var i=ul(t),a=this.children.get(i);return a?a.foreachOnPath_(cl(t),pl(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(sl(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(pl(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Tu(t,(function(e,t){n=n.set(new ol(e),t)})),n}}]),e}(),jc=function(){function e(t){c(this,e),this.writeTree_=t}return p(e,null,[{key:"empty",value:function(){return new e(new Fc(null))}}]),e}();function Uc(e,t,n){if(vl(t))return new jc(new Fc(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=ml(i,t);return a=a.updateChild(o,n),new jc(e.writeTree_.set(i,a))}var s=new Fc(n),u=e.writeTree_.setTree(t,s);return new jc(u)}function Vc(e,t,n){var r=e;return Tu(n,(function(e,n){r=Uc(r,pl(t,e),n)})),r}function Bc(e,t){if(vl(t))return jc.empty();var n=e.writeTree_.setTree(t,new Fc(null));return new jc(n)}function zc(e,t){return null!=qc(e,t)}function qc(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ml(n.path,t)):null}function Hc(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Kl,(function(e,n){t.push(new Cl(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Cl(e,n.value))})),t}function Wc(e,t){if(vl(t))return e;var n=qc(e,t);return new jc(null!=n?new Fc(n):e.writeTree_.subtree(t))}function Kc(e){return e.writeTree_.isEmpty()}function Gc(e,t){return Qc(sl(),e.writeTree_,t)}function Qc(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Ni(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Qc(pl(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(pl(e,".priority"),r)),n}function $c(e,t){return lf(t,e)}function Yc(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Ni(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Xc(s,r.path)?i=!1:gl(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Zc(e.allWrites,Jc,sl()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=Bc(e.visibleWrites,r.path):Tu(r.children,(function(t){e.visibleWrites=Bc(e.visibleWrites,pl(r.path,t))}));return!0}return!1}function Xc(e,t){if(e.snap)return gl(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&gl(pl(e.path,n),t))return!0;return!1}function Jc(e){return e.visible}function Zc(e,t,n){for(var r=jc.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)gl(n,o)?r=Uc(r,s=ml(n,o),a.snap):gl(o,n)&&(s=ml(o,n),r=Uc(r,sl(),a.snap.getChild(s)));else{if(!a.children)throw Pi("WriteRecord should have .snap or .children");if(gl(n,o))r=Vc(r,s=ml(n,o),a.children);else if(gl(o,n))if(vl(s=ml(o,n)))r=Vc(r,sl(),a.children);else{var u=ra(a.children,ul(s));if(u){var l=u.getChild(cl(s));r=Uc(r,sl(),l)}}}}}return r}function ef(e,t,n,r,i){if(r||i){var a=Wc(e.visibleWrites,t);if(!i&&Kc(a))return n;if(i||null!=n||zc(a,sl())){return Gc(Zc(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(gl(e.path,t)||gl(t,e.path))}),t),n||Jl.EMPTY_NODE)}return null}var o=qc(e.visibleWrites,t);if(null!=o)return o;var s=Wc(e.visibleWrites,t);return Kc(s)?n:null!=n||zc(s,sl())?Gc(s,n||Jl.EMPTY_NODE):null}function tf(e,t,n,r){return ef(e.writeTree,e.treePath,t,n,r)}function nf(e,t){return function(e,t,n){var r=Jl.EMPTY_NODE,i=qc(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Kl,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=Wc(e.visibleWrites,t);return n.forEachChild(Kl,(function(e,t){var n=Gc(Wc(a,new ol(e)),t);r=r.updateImmediateChild(e,n)})),Hc(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Hc(Wc(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function rf(e,t,n,r){return function(e,t,n,r,i){Ni(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=pl(t,n);if(zc(e.visibleWrites,a))return null;var o=Wc(e.visibleWrites,a);return Kc(o)?i.getChild(n):Gc(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function af(e,t){return function(e,t){return qc(e.visibleWrites,t)}(e.writeTree,pl(e.treePath,t))}function of(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=Wc(e.visibleWrites,t),l=qc(u,sl());if(null!=l)s=l;else{if(null==n)return[];s=Gc(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&c.length<i;)0!==f(d,r)&&c.push(d),d=h.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function sf(e,t,n){return function(e,t,n,r){var i=pl(t,n),a=qc(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?Gc(Wc(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function uf(e,t){return lf(pl(e.treePath,t),e.writeTree)}function lf(e,t){return{treePath:e,writeTree:t}}var cf=function(){function e(){c(this,e),this.changeMap=new Map}return p(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Ni("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ni(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,uc(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,sc(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,oc(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Pi("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,uc(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),ff=new(function(){function e(){c(this,e)}return p(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),hf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;c(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return p(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Nc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sf(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Mc(this.viewCache_),i=of(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function df(e,t,n,r,i){var a,o,s=new cf;if(n.type===kc.OVERWRITE){var u=n;u.source.fromUser?a=mf(e,t,u.path,u.snap,r,i,s):(Ni(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!vl(u.path),a=vf(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===kc.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=pl(n,r);yf(t,ul(l))&&(s=mf(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=pl(n,r);yf(t,ul(l))||(s=mf(e,s,l,u,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):(Ni(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=_f(e,t,l.path,l.children,r,i,o,s))}else if(n.type===kc.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=af(r,n))return t;var s,u=new hf(r,t,i),l=t.eventCache.getNode();if(vl(n)||".priority"===ul(n)){var c;if(t.serverCache.isFullyInitialized())c=tf(r,Mc(t));else{var f=t.serverCache.getNode();Ni(f instanceof Jl,"serverChildren would be complete if leaf node"),c=nf(r,f)}s=e.filter.updateFullNode(l,c,a)}else{var h=ul(n),d=sf(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=l.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(l,h,d,cl(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(l,h,Jl.EMPTY_NODE,cl(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=tf(r,Mc(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=af(r,sl()),Oc(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=af(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(vl(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return vf(e,t,n,u.getNode().getChild(n),i,a,s,o);if(vl(n)){var l=new Fc(null);return u.getNode().forEachChild(Nl,(function(e,t){l=l.set(new ol(e),t)})),_f(e,t,n,l,i,a,s,o)}return t}var c=new Fc(null);return r.foreach((function(e,t){var r=pl(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),_f(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==kc.LISTEN_COMPLETE)throw Pi("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Dc(t,a.getNode(),a.isFullyInitialized()||vl(n),a.isFiltered());return pf(e,o,n,r,ff,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Lc(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(ac(Lc(t)))}}(t,a,f),{viewCache:a,changes:f}}function pf(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=af(r,n))return t;if(vl(n))if(Ni(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Mc(t),c=nf(r,l instanceof Jl?l:Jl.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var f=tf(r,Mc(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=ul(n);if(".priority"===h){Ni(1===ll(n),"Can't have a priority with additional path components");var d=u.getNode(),p=rf(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=cl(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var y=rf(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(h).updateChild(m,y):u.getNode().getImmediateChild(h)}else v=sf(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return Oc(t,o,u.isFullyInitialized()||vl(n),e.filter.filtersNodes())}function vf(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(vl(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{var h=ul(n);if(!l.isCompleteForPath(n)&&ll(n)>1)return t;var d=cl(n),p=l.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),h,p,d,ff,null)}var v=Dc(t,u,l.isFullyInitialized()||vl(n),c.filtersNodes());return pf(e,v,n,i,new hf(i,v,a),s)}function mf(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new hf(i,t,a);if(vl(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=Oc(t,u,!0,e.filter.filtersNodes());else{var f=ul(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Oc(t,u,l.isFullyInitialized(),l.isFiltered());else{var h,d=cl(n),p=l.getNode().getImmediateChild(f);if(vl(d))h=r;else{var v=c.getCompleteChild(f);h=null!=v?".priority"===fl(d)&&v.getChild(dl(d)).isEmpty()?v:v.updateChild(d,r):Jl.EMPTY_NODE}if(p.equals(h))s=t;else s=Oc(t,e.filter.updateChild(l.getNode(),f,h,d,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function yf(e,t){return e.eventCache.isCompleteForChild(t)}function gf(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function _f(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=vl(n)?r:new Fc(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=gf(0,t.serverCache.getNode().getImmediateChild(n),r);l=vf(e,l,new ol(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!u){var f=gf(0,t.serverCache.getNode().getImmediateChild(n),r);l=vf(e,l,new ol(n),f,i,a,o,s)}})),l}var kf,bf=function(){function e(t,n){c(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new lc(i.getIndex()),o=(r=i).loadsAllData()?new lc(r.getIndex()):r.hasLimit()?new fc(r):new cc(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,l=a.updateFullNode(Jl.EMPTY_NODE,s.getNode(),null),f=o.updateFullNode(Jl.EMPTY_NODE,u.getNode(),null),h=new Nc(l,s.isFullyInitialized(),a.filtersNodes()),d=new Nc(f,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Rc(d,h),this.eventGenerator_=new Pc(this.query_)}return p(e,[{key:"query",get:function(){return this.query_}}]),e}();function wf(e,t){var n=Mc(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!vl(t)&&!n.getImmediateChild(ul(t)).isEmpty())?n.getChild(t):null}function Ef(e){return 0===e.eventRegistrations_.length}function Sf(e,t,n){var r=[];if(n){Ni(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function xf(e,t,n,r){t.type===kc.MERGE&&null!==t.source.queryId&&(Ni(Mc(e.viewCache_),"We should always have a full cache before handling merges"),Ni(Lc(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=df(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,Ni(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Ni(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Ni(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Cf(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Cf(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Ac(e,i,"child_removed",t,r,n),Ac(e,i,"child_added",t,r,n),Ac(e,i,"child_moved",a,r,n),Ac(e,i,"child_changed",t,r,n),Ac(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Tf,If=p((function e(){c(this,e),this.views=new Map}));function Nf(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Ni(null!=a,"SyncTree gave us an op for an invalid query."),xf(a,t,n,r)}var o,s=[],u=C(e.views.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s=s.concat(xf(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function Pf(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=tf(n,i?r:null),u=!1;s?u=!0:r instanceof Jl?(s=nf(n,r),u=!1):(s=Jl.EMPTY_NODE,u=!1);var l=Rc(new Nc(s,u,!1),new Nc(r,i,!1));return new bf(t,l)}return o}function Af(e,t,n,r,i,a){var o=Pf(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Kl,(function(e,t){r.push(oc(e,t))})),n.isFullyInitialized()&&r.push(ac(n.getNode())),Cf(e,r,n.getNode(),t)}(o,n)}function Rf(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=Ff(e);if("default"===i){var u,l=C(e.views.entries());try{for(l.s();!(u=l.n()).done;){var c=E(u.value,2),f=c[0],h=c[1];o=o.concat(Sf(h,n,r)),Ef(h)&&(e.views.delete(f),h.query._queryParams.loadsAllData()||a.push(h.query))}}catch(p){l.e(p)}finally{l.f()}}else{var d=e.views.get(i);d&&(o=o.concat(Sf(d,n,r)),Ef(d)&&(e.views.delete(i),d.query._queryParams.loadsAllData()||a.push(d.query)))}return s&&!Ff(e)&&a.push(new(Ni(kf,"Reference.ts has not been loaded"),kf)(t._repo,t._path)),{removed:a,events:o}}function Of(e){var t,n=[],r=C(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function Df(e,t){var n,r=null,i=C(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||wf(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function Lf(e,t){if(t._queryParams.loadsAllData())return jf(e);var n=t._queryIdentifier;return e.views.get(n)}function Mf(e,t){return null!=Lf(e,t)}function Ff(e){return null!=jf(e)}function jf(e){var t,n=C(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var Uf=1,Vf=p((function e(t){c(this,e),this.listenProvider_=t,this.syncPointTree_=new Fc(null),this.pendingWriteTree_={visibleWrites:jc.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Bf(e,t,n,r,i){return function(e,t,n,r,i){Ni(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Uc(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Qf(e,new Tc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function zf(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Yc(e.pendingWriteTree_,t)){var i=new Fc(null);return null!=r.snap?i=i.set(sl(),!0):Tu(r.children,(function(e){i=i.set(new ol(e),!0)})),Qf(e,new xc(r.path,i,n))}return[]}function qf(e,t,n){return Qf(e,new Tc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Hf(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||Mf(o,t))){var u=Rf(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));var l=u.removed;if(s=u.events,!i){var c=-1!==l.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return Ff(t)}));if(c&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&Ff(t))return[jf(t)];var r=[];return t&&(r=Of(t)),Tu(n,(function(e,t){r=r.concat(t)})),r}))}(h),p=0;p<d.length;++p){var v=d[p],m=v.query,y=Xf(e,v);e.listenProvider_.startListening(rh(m),Jf(e,m),y.hashFn,y.onComplete)}}if(!f&&l.length>0&&!r)if(c){e.listenProvider_.stopListening(rh(t),null)}else l.forEach((function(t){var n=e.queryToTagMap.get(Zf(t));e.listenProvider_.stopListening(rh(t),n)}))}!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Zf(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,l)}return s}function Wf(e,t,n,r){var i=eh(e,r);if(null!=i){var a=th(i),o=a.path,s=a.queryId,u=ml(o,t);return nh(e,o,new Tc(Ec(s),u,n))}return[]}function Kf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=ml(e,i);a=a||Df(t,n),o=o||Ff(t)}));var s,u=e.syncPointTree_.get(i);(u?(o=o||Ff(u),a=a||Df(u,sl())):(u=new If,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)?s=!0:(s=!1,a=Jl.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((function(e,t){var n=Df(t,sl());n&&(a=a.updateImmediateChild(e,n))})));var l=Mf(u,t);if(!l&&!t._queryParams.loadsAllData()){var c=Zf(t);Ni(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var f=Uf++;e.queryToTagMap.set(c,f),e.tagToQueryMap.set(f,c)}var h=Af(u,t,n,$c(e.pendingWriteTree_,i),a,s);if(!l&&!o&&!r){var d=Lf(u,t);h=h.concat(function(e,t,n){var r=t._path,i=Jf(e,t),a=Xf(e,n),o=e.listenProvider_.startListening(rh(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)Ni(!Ff(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!vl(e)&&t&&Ff(t))return[jf(t).query];var r=[];return t&&(r=r.concat(Of(t).map((function(e){return e.query})))),Tu(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var c=u[l];e.listenProvider_.stopListening(rh(c),Jf(e,c))}return o}(e,t,d))}return h}function Gf(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Df(n,ml(e,t));if(r)return r}));return ef(r,t,i,n,!0)}function Qf(e,t){return $f(t,e.syncPointTree_,null,$c(e.pendingWriteTree_,sl()))}function $f(e,t,n,r){if(vl(e.path))return Yf(e,t,n,r);var i=t.get(sl());null==n&&null!=i&&(n=Df(i,sl()));var a=[],o=ul(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var l=n?n.getImmediateChild(o):null,c=uf(r,o);a=a.concat($f(s,u,l,c))}return i&&(a=a.concat(Nf(i,e,r,n))),a}function Yf(e,t,n,r){var i=t.get(sl());null==n&&null!=i&&(n=Df(i,sl()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=uf(r,t),u=e.operationForChild(t);u&&(a=a.concat(Yf(u,i,o,s)))})),i&&(a=a.concat(Nf(i,e,r,n))),a}function Xf(e,t){var n=t.query,r=Jf(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Jl.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=eh(e,n);if(r){var i=th(r),a=i.path,o=i.queryId,s=ml(a,t);return nh(e,a,new Cc(Ec(o),s))}return[]}(e,n._path,r):function(e,t){return Qf(e,new Cc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Hf(e,n,null,i)}}}function Jf(e,t){var n=Zf(t);return e.queryToTagMap.get(n)}function Zf(e){return e._path.toString()+"$"+e._queryIdentifier}function eh(e,t){return e.tagToQueryMap.get(t)}function th(e){var t=e.indexOf("$");return Ni(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ol(e.substr(0,t))}}function nh(e,t,n){var r=e.syncPointTree_.get(t);return Ni(r,"Missing sync point for query tag that we're tracking"),Nf(r,n,$c(e.pendingWriteTree_,t),null)}function rh(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Ni(Tf,"Reference.ts has not been loaded"),Tf)(e._repo,e._path):e}var ih=function(){function e(t){c(this,e),this.node_=t}return p(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),ah=function(){function e(t,n){c(this,e),this.syncTree_=t,this.path_=n}return p(e,[{key:"getImmediateChild",value:function(t){var n=pl(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return Gf(this.syncTree_,this.path_)}}]),e}(),oh=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},sh=function(e,t,n){return e&&"object"===typeof e?(Ni(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?uh(e[".sv"],t,n):"object"===typeof e[".sv"]?lh(e[".sv"],t):void Ni(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},uh=function(e,t,n){if("timestamp"===e)return n.timestamp;Ni(!1,"Unexpected server value: "+e)},lh=function(e,t,n){e.hasOwnProperty("increment")||Ni(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Ni(!1,"Unexpected increment value: "+r);var i=t.node();if(Ni(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},ch=function(e,t,n,r){return hh(t,new ah(n,e),r)},fh=function(e,t,n){return hh(e,new ih(t),n)};function hh(e,t,n){var r,i=e.getPriority().val(),a=sh(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=sh(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new zl(s,tc(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new zl(a))),u.forEachChild(Kl,(function(e,i){var a=hh(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var dh=p((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};c(this,e),this.name=t,this.parent=n,this.node=r}));function ph(e,t){for(var n=t instanceof ol?t:new ol(t),r=e,i=ul(n);null!==i;){var a=ra(r.node.children,i)||{children:{},childCount:0};r=new dh(i,r,a),i=ul(n=cl(n))}return r}function vh(e){return e.node.value}function mh(e,t){e.node.value=t,bh(e)}function yh(e){return e.node.childCount>0}function gh(e,t){Tu(e.node.children,(function(n,r){t(new dh(n,e,r))}))}function _h(e,t,n,r){n&&!r&&t(e),gh(e,(function(e){_h(e,t,!0,r)})),n&&r&&t(e)}function kh(e){return new ol(null===e.parent?e.name:kh(e.parent)+"/"+e.name)}function bh(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===vh(e)&&!yh(e)}(n),i=na(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,bh(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,bh(e))}(e.parent,e.name,e)}var wh=/[\[\].#$\/\u0000-\u001F\u007F]/,Eh=/[\[\].#$\u0000-\u001F\u007F]/,Sh=10485760,xh=function(e){return"string"===typeof e&&0!==e.length&&!wh.test(e)},Ch=function(e){return"string"===typeof e&&0!==e.length&&!Eh.test(e)},Th=function(e,t,n,r){r&&void 0===t||Ih(la(e,"value"),t,n)},Ih=function e(t,n,r){var i=r instanceof ol?new _l(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+bl(i));if("function"===typeof n)throw new Error(t+"contains a function "+bl(i)+" with contents = "+n.toString());if(_u(n))throw new Error(t+"contains "+n.toString()+" "+bl(i));if("string"===typeof n&&n.length>Sh/3&&ca(n)>Sh)throw new Error(t+"contains a string greater than "+Sh+" utf8 bytes "+bl(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Tu(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!xh(n)))throw new Error(t+" contains an invalid key ("+n+") "+bl(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ca(t),kl(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=ca(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+bl(i)+" in addition to actual children.")}},Nh=function(e,t,n,r){if((!r||void 0!==n)&&!Ch(n))throw new Error(la(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ph=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Nh(e,t,n,r)},Ah=function(e,t){if(".info"===ul(t))throw new Error(e+" failed = Can't modify data under /.info/")},Rh=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!xh(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Ch(e)}(n))throw new Error(la(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Oh=p((function e(){c(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Dh(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||yl(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Lh(e,t,n){Dh(e,n),Fh(e,(function(e){return yl(e,t)}))}function Mh(e,t,n){Dh(e,n),Fh(e,(function(e){return gl(e,t)||gl(t,e)}))}function Fh(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(jh(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function jh(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();fu&&pu("event: "+n.toString()),Au(r)}}}var Uh="repo_interrupt",Vh=25,Bh=function(){function e(t,n,r,i){c(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Oh,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yc(),this.transactionQueueTree_=new dh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return p(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function zh(e,t,n){if(e.stats_=Ku(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new vc(e.repoInfo_,(function(t,n,r,i){Wh(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Kh(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ea(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Sl(e.repoInfo_,t,(function(t,n,r,i){Wh(e,t,n,r,i)}),(function(t){Kh(e,t)}),(function(t){!function(e,t){Tu(t,(function(t,n){Gh(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return Wu[n]||(Wu[n]=t()),Wu[n]}(e.repoInfo_,(function(){return new wc(e.stats_,e.server_)})),e.infoData_=new mc,e.infoSyncTree_=new Vf({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=qf(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Gh(e,"connected",!1),e.serverSyncTree_=new Vf({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Mh(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function qh(e){var t=e.infoData_.getNode(new ol(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Hh(e){return oh({timestamp:qh(e)})}function Wh(e,t,n,r,i){e.dataUpdateCount++;var a=new ol(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=aa(n,(function(e){return tc(e)}));o=function(e,t,n,r){var i=eh(e,r);if(i){var a=th(i),o=a.path,s=a.queryId,u=ml(o,t),l=Fc.fromObject(n);return nh(e,o,new Ic(Ec(s),u,l))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=tc(n);o=Wf(e.serverSyncTree_,a,u,i)}else if(r){var l=aa(n,(function(e){return tc(e)}));o=function(e,t,n){var r=Fc.fromObject(n);return Qf(e,new Ic({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=tc(n);o=qf(e.serverSyncTree_,a,c)}var f=a;o.length>0&&(f=nd(e,a)),Mh(e.eventQueue_,f,o)}function Kh(e,t){Gh(e,"connected",t),!1===t&&function(e){Jh(e,"onDisconnectEvents");var t=Hh(e),n=yc();_c(e.onDisconnect_,sl(),(function(r,i){var a=ch(r,i,e.serverSyncTree_,t);gc(n,r,a)}));var r=[];_c(n,sl(),(function(t,n){r=r.concat(qf(e.serverSyncTree_,t,n));var i=sd(e,t);nd(e,i)})),e.onDisconnect_=yc(),Mh(e.eventQueue_,sl(),r)}(e)}function Gh(e,t,n){var r=new ol("/.info/"+t),i=tc(n);e.infoData_.updateSnapshot(r,i);var a=qf(e.infoSyncTree_,r,i);Mh(e.eventQueue_,r,a)}function Qh(e){return e.nextWriteId_++}function $h(e,t,n,r,i){Jh(e,"set",{path:t.toString(),value:n,priority:r});var a=Hh(e),o=tc(n,r),s=Gf(e.serverSyncTree_,t),u=fh(o,s,a),l=Qh(e),c=Bf(e.serverSyncTree_,t,u,l,!0);Dh(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||gu("set at "+t+" failed: "+n);var o=zf(e.serverSyncTree_,l,!a);Mh(e.eventQueue_,t,o),Zh(e,i,n,r)}));var f=sd(e,t);nd(e,f),Mh(e.eventQueue_,f,[])}function Yh(e,t,n){var r;r=".info"===ul(t._path)?Hf(e.infoSyncTree_,t,n):Hf(e.serverSyncTree_,t,n),Lh(e.eventQueue_,t._path,r)}function Xh(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Uh)}function Jh(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];pu.apply(void 0,[t].concat(r))}function Zh(e,t,n,r){t&&Au((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function ed(e,t,n){return Gf(e.serverSyncTree_,t,n)||Jl.EMPTY_NODE}function td(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||od(e,t),vh(t)){var n=id(e,t);Ni(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=ed(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];Ni(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=ml(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),f=t;e.server_.put(f.toString(),c,(function(r){Jh(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(zf(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);od(e,ph(e.transactionQueueTree_,t)),td(e,e.transactionQueueTree_),Mh(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Au(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{gu("transaction at "+f.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}nd(e,t)}}),o)}(e,kh(t),n)}else yh(t)&&gh(t,(function(t){td(e,t)}))}function nd(e,t){var n=rd(e,t),r=kh(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u,l=t[a],c=ml(n,l.path),f=!1;if(Ni(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,s=l.abortReason,i=i.concat(zf(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=Vh)f=!0,s="maxretry",i=i.concat(zf(e.serverSyncTree_,l.currentWriteId,!0));else{var h=ed(e,l.path,o);l.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){Ih("transaction failed: Data returned ",d,l.path);var p=tc(d);"object"===typeof d&&null!=d&&na(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=l.currentWriteId,m=Hh(e),y=fh(p,h,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=Qh(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Bf(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(zf(e.serverSyncTree_,v,!0))}else f=!0,s="nodata",i=i.concat(zf(e.serverSyncTree_,l.currentWriteId,!0))}Mh(e.eventQueue_,n,i),i=[],f&&(t[a].status=2,u=t[a].unwatcher,setTimeout(u,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))},u=0;u<t.length;u++)s(u);od(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)Au(r[l]);td(e,e.transactionQueueTree_)}(e,id(e,n),r),r}function rd(e,t){var n,r=e.transactionQueueTree_;for(n=ul(t);null!==n&&void 0===vh(r);)r=ph(r,n),n=ul(t=cl(t));return r}function id(e,t){var n=[];return ad(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function ad(e,t,n){var r=vh(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);gh(t,(function(t){ad(e,t,n)}))}function od(e,t){var n=vh(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,mh(t,n.length>0?n:void 0)}gh(t,(function(t){od(e,t)}))}function sd(e,t){var n=kh(rd(e,t)),r=ph(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){ud(e,t)})),ud(e,r),_h(r,(function(t){ud(e,t)})),n}function ud(e,t){var n=vh(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Ni(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Ni(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(zf(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?mh(t,void 0):n.length=a+1,Mh(e.eventQueue_,kh(t),i);for(var s=0;s<r.length;s++)Au(r[s])}}var ld=function(e,t){var n=cd(e),r=n.namespace;"firebase.com"===n.domain&&yu(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||yu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&gu("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Bu(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ol(n.pathString)}},cd=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=C(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):gu("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},fd="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",hd=(function(){var e=0,t=[]}(),function(){function e(t,n,r,i){c(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return p(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+ea(this.snapshot.exportVal())}}]),e}()),dd=function(){function e(t,n,r){c(this,e),this.eventRegistration=t,this.error=n,this.path=r}return p(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),pd=function(){function e(t,n){c(this,e),this.snapshotCallback=t,this.cancelCallback=n}return p(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Ni(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),vd=function(){function e(t,n,r,i){c(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return p(e,[{key:"key",get:function(){return vl(this._path)?null:fl(this._path)}},{key:"ref",get:function(){return new md(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=pc(this._queryParams),t=xu(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return pc(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=fa(t))instanceof e))return!1;var n=this._repo===t._repo,r=yl(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var md=function(e){m(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,r,new hc,!1)}return p(n,[{key:"parent",get:function(){var e=dl(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(vd),yd=function(){function e(t,n,r){c(this,e),this._node=t,this.ref=n,this._index=r}return p(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new ol(t),r=_d(this.ref,t);return new e(this._node.getChild(n),r,Kl)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,_d(n.ref,r),Kl))}))}},{key:"hasChild",value:function(e){var t=new ol(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function gd(e,t){return(e=fa(e))._checkNotDeleted("ref"),void 0!==t?_d(e._root,t):e._root}function _d(e,t){return null===ul((e=fa(e))._path)?Ph("child","path",t,!1):Nh("child","path",t,!1),new md(e._repo,pl(e._path,t))}function kd(e,t){e=fa(e),Ah("set",e._path),Th("set",t,e._path,!1);var n=new qi;return $h(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}var bd=function(){function e(t){c(this,e),this.callbackContext=t}return p(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new hd("value",this,new yd(e.snapshotNode,new md(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new dd(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),wd=function(){function e(t,n){c(this,e),this.eventType=t,this.callbackContext=n}return p(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new dd(this,e,t):null}},{key:"createEvent",value:function(e,t){Ni(null!=e.childName,"Child events should have a childName.");var n=_d(new md(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new hd(e.type,this,new yd(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function Ed(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){Yh(e._repo,e,l),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new pd(n,a||void 0),l="value"===t?new bd(u):new wd(t,u);return function(e,t,n){var r;r=".info"===ul(t._path)?Kf(e.infoSyncTree_,t,n):Kf(e.serverSyncTree_,t,n),Lh(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return Yh(e._repo,e,l)}}function Sd(e,t,n,r){return Ed(e,"value",t,n,r)}!function(e){Ni(!kf,"__referenceConstructor has already been defined"),kf=e}(md),function(e){Ni(!Tf,"__referenceConstructor has already been defined"),Tf=e}(md);var xd="FIREBASE_DATABASE_EMULATOR_HOST",Cd={},Td=!1;function Id(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||yu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pu("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=ld(a,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/humans-base",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyDQ5ORJnTxV5XhhzAtjZNGM_boRZ59lqLc",REACT_APP_FIREBASE_AUTH_DOMAIN:"human-base.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"human-base",REACT_APP_FIREBASE_STORAGE_BUCKET:"human-base.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"754877585259",REACT_APP_FIREBASE_APP_ID:"1:754877585259:web:c4265c5f14ff82f84bde2e"}[xd]),l?(o=!0,a="http://".concat(l,"?ns=").concat(u.namespace),u=(s=ld(a,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new Lu(Lu.OWNER):new Du(e.name,e.options,t);Rh("Invalid Firebase Database URL",s),vl(s.path)||yu("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Cd[t.name];i||(i={},Cd[t.name]=i);var a=i[e.toURLString()];a&&yu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Bh(e,Td,n,r),i[e.toURLString()]=a,a}(u,e,c,new Ou(e.name,n));return new Nd(f,e)}var Nd=function(){function e(t,n){c(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return p(e,[{key:"_repo",get:function(){return this._instanceStarted||(zh(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new md(this._repo,sl())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Cd[t];n&&n[e.key]===e||yu("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Xh(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&yu("Cannot call "+e+" on a deleted database.")}}]),e}();function Pd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=fa(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&yu("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&yu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Lu(Lu.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Hi(r.mockUserToken,e.app.options.projectId);a=new Lu(o)}!function(e,t,n,r){e.repoInfo_=new Bu("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,a)}Sl.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Sl.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};function Ad(){return Ad="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ad.apply(this,arguments)}!function(e){!function(e){tu=e}(ro),Ja(new ha("database",(function(e,t){var n=t.instanceIdentifier;return Id(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),oo(Zs,eu,e),oo(Zs,eu,"esm2017")}();var Rd,Od="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Dd={},Ld=Ld||{},Md=Od||self;function Fd(){}function jd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ud(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Vd="closure_uid_"+(1e9*Math.random()>>>0),Bd=0;function zd(e,t,n){return e.call.apply(e.bind,arguments)}function qd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Hd(e,t,n){return(Hd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zd:qd).apply(null,arguments)}function Wd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Kd(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Gd(){this.s=this.s,this.o=this.o}Gd.prototype.s=!1,Gd.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,Vd)&&e[Vd]||(e[Vd]=++Bd)}(this)},Gd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Qd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function $d(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Yd(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(jd(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Xd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Xd.prototype.h=function(){this.defaultPrevented=!0};var Jd=function(){if(!Md.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Md.addEventListener("test",Fd,t),Md.removeEventListener("test",Fd,t)}catch(Ft){}return e}();function Zd(e){return/^[\s\xa0]*$/.test(e)}var ep=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function tp(e,t){return e<t?-1:e>t?1:0}function np(){var e=Md.navigator;return e&&(e=e.userAgent)?e:""}function rp(e){return-1!=np().indexOf(e)}function ip(e){return ip[" "](e),e}function ap(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}ip[" "]=Fd;var op,sp=rp("Opera"),up=rp("Trident")||rp("MSIE"),lp=rp("Edge"),cp=lp||up,fp=rp("Gecko")&&!(-1!=np().toLowerCase().indexOf("webkit")&&!rp("Edge"))&&!(rp("Trident")||rp("MSIE"))&&!rp("Edge"),hp=-1!=np().toLowerCase().indexOf("webkit")&&!rp("Edge");function dp(){var e=Md.document;return e?e.documentMode:void 0}e:{var pp="",vp=function(){var e=np();return fp?/rv:([^\);]+)(\)|;)/.exec(e):lp?/Edge\/([\d\.]+)/.exec(e):up?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):hp?/WebKit\/(\S+)/.exec(e):sp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(vp&&(pp=vp?vp[1]:""),up){var mp=dp();if(null!=mp&&mp>parseFloat(pp)){op=String(mp);break e}}op=pp}var yp,gp={};if(Md.document&&up){var _p=dp();yp=_p||(parseInt(op,10)||void 0)}else yp=void 0;var kp=yp;function bp(e,t){if(Xd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fp){e:{try{ip(t.nodeName);var i=!0;break e}catch(Mt){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:wp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&bp.$.h.call(this)}}Kd(bp,Xd);var wp={2:"touch",3:"pen",4:"mouse"};bp.prototype.h=function(){bp.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ep="closure_listenable_"+(1e6*Math.random()|0),Sp=0;function xp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Sp,this.fa=this.ia=!1}function Cp(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Tp(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ip(e){var t={};for(var n in e)t[n]=e[n];return t}var Np="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pp(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Np.length;a++)n=Np[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ap(e){this.src=e,this.g={},this.h=0}function Rp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Qd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Cp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Op(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Ap.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Op(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new xp(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Dp="closure_lm_"+(1e6*Math.random()|0),Lp={};function Mp(e,t,n,r,i){if(r&&r.once)return jp(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Mp(e,t[a],n,r,i);return null}return n=Wp(n),e&&e[Ep]?e.O(t,n,Ud(r)?!!r.capture:!!r,i):Fp(e,t,n,!1,r,i)}function Fp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ud(i)?!!i.capture:!!i,s=qp(e);if(s||(e[Dp]=s=new Ap(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=zp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Jd||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Bp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function jp(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)jp(e,t[a],n,r,i);return null}return n=Wp(n),e&&e[Ep]?e.P(t,n,Ud(r)?!!r.capture:!!r,i):Fp(e,t,n,!0,r,i)}function Up(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Up(e,t[a],n,r,i);else r=Ud(r)?!!r.capture:!!r,n=Wp(n),e&&e[Ep]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Op(a=e.g[t],n,r,i))&&(Cp(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=qp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Op(t,n,r,i)),(n=-1<e?t[e]:null)&&Vp(n))}function Vp(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ep])Rp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Bp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qp(t))?(Rp(n,e),0==n.h&&(n.src=null,t[Dp]=null)):Cp(e)}}}function Bp(e){return e in Lp?Lp[e]:Lp[e]="on"+e}function zp(e,t){if(e.fa)e=!0;else{t=new bp(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Vp(e),e=n.call(r,t)}return e}function qp(e){return(e=e[Dp])instanceof Ap?e:null}var Hp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wp(e){return"function"===typeof e?e:(e[Hp]||(e[Hp]=function(t){return e.handleEvent(t)}),e[Hp])}function Kp(){Gd.call(this),this.i=new Ap(this),this.S=this,this.J=null}function Gp(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Xd(t,e);else if(t instanceof Xd)t.target=t.target||e;else{var i=t;Pp(t=new Xd(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Qp(o,r,!0,t)&&i}if(i=Qp(o=t.g=e,r,!0,t)&&i,i=Qp(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Qp(o=t.g=n[a],r,!1,t)&&i}function Qp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Rp(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Kd(Kp,Gd),Kp.prototype[Ep]=!0,Kp.prototype.removeEventListener=function(e,t,n,r){Up(this,e,t,n,r)},Kp.prototype.N=function(){if(Kp.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Cp(n[r]);delete t.g[e],t.h--}}this.J=null},Kp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Kp.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var $p=Md.JSON.stringify;function Yp(){var e=iv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Xp,Jp=function(){function e(){c(this,e),this.h=this.g=null}return p(e,[{key:"add",value:function(e,t){var n=Zp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Zp=new(function(){function e(t,n){c(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return p(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new ev}),(function(e){return e.reset()})),ev=function(){function e(){c(this,e),this.next=this.g=this.h=null}return p(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function tv(e){Md.setTimeout((function(){throw e}),0)}function nv(e,t){Xp||function(){var e=Md.Promise.resolve(void 0);Xp=function(){e.then(av)}}(),rv||(Xp(),rv=!0),iv.add(e,t)}var rv=!1,iv=new Jp;function av(){for(var e;e=Yp();){try{e.h.call(e.g)}catch(Ft){tv(Ft)}var t=Zp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}rv=!1}function ov(e,t){Kp.call(this),this.h=e||1,this.g=t||Md,this.j=Hd(this.qb,this),this.l=Date.now()}function sv(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function uv(e,t,n){if("function"===typeof e)n&&(e=Hd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Hd(e.handleEvent,e)}return 2147483647<Number(t)?-1:Md.setTimeout(e,t||0)}function lv(e){e.g=uv((function(){e.g=null,e.i&&(e.i=!1,lv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Kd(ov,Kp),(Rd=ov.prototype).ga=!1,Rd.T=null,Rd.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gp(this,"tick"),this.ga&&(sv(this),this.start()))}},Rd.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Rd.N=function(){ov.$.N.call(this),sv(this),delete this.g};var cv=function(e){m(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return p(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:lv(this)}},{key:"N",value:function(){Ad(y(n.prototype),"N",this).call(this),this.g&&(Md.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Gd);function fv(e){Gd.call(this),this.h=e,this.g={}}Kd(fv,Gd);var hv=[];function dv(e,t,n,r){Array.isArray(n)||(n&&(hv[0]=n.toString()),n=hv);for(var i=0;i<n.length;i++){var a=Mp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function pv(e){Tp(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Vp(e)}),e),e.g={}}function vv(){this.g=!0}function mv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return $p(n)}catch(Kt){return t}}(e,n)+(r?" "+r:"")}))}fv.prototype.N=function(){fv.$.N.call(this),pv(this)},fv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vv.prototype.Ea=function(){this.g=!1},vv.prototype.info=function(){};var yv={},gv=null;function _v(){return gv=gv||new Kp}function kv(e){Xd.call(this,yv.Ta,e)}function bv(e){var t=_v();Gp(t,new kv(t))}function wv(e,t){Xd.call(this,yv.STAT_EVENT,e),this.stat=t}function Ev(e){var t=_v();Gp(t,new wv(t,e))}function Sv(e,t){Xd.call(this,yv.Ua,e),this.size=t}function xv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Md.setTimeout((function(){e()}),t)}yv.Ta="serverreachability",Kd(kv,Xd),yv.STAT_EVENT="statevent",Kd(wv,Xd),yv.Ua="timingevent",Kd(Sv,Xd);var Cv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Tv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Iv(){}function Nv(e){return e.h||(e.h=e.i())}function Pv(){}Iv.prototype.h=null;var Av,Rv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ov(){Xd.call(this,"d")}function Dv(){Xd.call(this,"c")}function Lv(){}function Mv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new fv(this),this.P=jv,e=cp?125:void 0,this.V=new ov(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Fv}function Fv(){this.i=null,this.g="",this.h=!1}Kd(Ov,Xd),Kd(Dv,Xd),Kd(Lv,Iv),Lv.prototype.g=function(){return new XMLHttpRequest},Lv.prototype.i=function(){return{}},Av=new Lv;var jv=45e3,Uv={},Vv={};function Bv(e,t,n){e.L=1,e.v=om(tm(t)),e.s=n,e.S=!0,zv(e,null)}function zv(e,t){e.G=Date.now(),Kv(e),e.A=tm(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),_m(n.i,"t",r),e.C=0,n=e.l.I,e.h=new Fv,e.g=_y(e.l,n?t:null,!e.s),0<e.O&&(e.M=new cv(Hd(e.Pa,e,e.g),e.O)),dv(e.U,e.g,"readystatechange",e.nb),t=e.I?Ip(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),bv(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function qv(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Hv(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Wv(e,n))==Vv){4==t&&(e.o=4,Ev(14),i=!1),mv(e.j,e.m,null,"[Incomplete Response]");break}if(r==Uv){e.o=4,Ev(15),mv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}mv(e.j,e.m,r,null),Xv(e,r)}qv(e)&&r!=Vv&&r!=Uv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ev(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),fy(t),t.L=!0,Ev(11))):(mv(e.j,e.m,n,"[Invalid Chunked Response]"),Yv(e),$v(e))}function Wv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Vv:(n=Number(t.substring(n,r)),isNaN(n)?Uv:(r+=1)+n>t.length?Vv:(t=t.substr(r,n),e.C=r+n,t))}function Kv(e){e.Y=Date.now()+e.P,Gv(e,e.P)}function Gv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=xv(Hd(e.lb,e),t)}function Qv(e){e.B&&(Md.clearTimeout(e.B),e.B=null)}function $v(e){0==e.l.H||e.J||py(e.l,e)}function Yv(e){Qv(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,sv(e.V),pv(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function Xv(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Cm(n.h,e)))if(!e.K&&Cm(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;dy(n),ry(n)}cy(n),Ev(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=xv(Hd(n.ib,n),6e3));if(1>=xm(n.h)&&n.na){try{n.na()}catch(a){}n.na=void 0}}else my(n,11)}else if((e.K||n.g==e)&&dy(n),!Zd(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.J=a[1],n.oa=a[2];var o=a[3];null!=o&&(n.qa=o,n.j.info("VER="+n.qa));var s=a[4];null!=s&&(n.Ga=s,n.j.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.h;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Tm(f,f.h),f.h=null))}if(r.F){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,am(r.G,r.F,h))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=gy(r,r.I?r.oa:null,r.Y),d.K){Im(r.h,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Qv(p),Kv(p)),r.g=d}else ly(r);0<n.i.length&&ay(n)}else"stop"!=a[0]&&"close"!=a[0]||my(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?my(n,7):ny(n):"noop"!=a[0]&&n.l&&n.l.Aa(a),n.A=0)}bv()}catch(a){}}function Jv(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(jd(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(jd(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(jd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Rd=Mv.prototype).setTimeout=function(e){this.P=e},Rd.nb=function(e){e=e.target;var t=this.M;t&&3==Ym(e)?t.l():this.Pa(e)},Rd.Pa=function(e){try{if(e==this.g)e:{var t=Ym(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||cp||this.g&&(this.h.h||this.g.ja()||Xm(this.g)))){this.J||4!=t||7==n||bv(),Qv(this);var r=this.g.da();this.aa=r;t:if(qv(this)){var i=Xm(this.g);e="";var a=i.length,o=4==Ym(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Yv(this),$v(this);var s="";break t}this.h.i=new Md.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zd(u)){var c=u;break t}}c=null}if(!(r=c)){this.i=!1,this.o=3,Ev(12),Yv(this),$v(this);break e}mv(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xv(this,r)}this.S?(Hv(this,t,s),cp&&this.i&&3==t&&(dv(this.U,this.V,"tick",this.mb),this.V.start())):(mv(this.j,this.m,s,null),Xv(this,s)),4==t&&Yv(this),this.i&&!this.J&&(4==t?py(this.l,this):(this.i=!1,Kv(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Ev(12)):(this.o=0,Ev(13)),Yv(this),$v(this)}}}catch(t){}},Rd.mb=function(){if(this.g){var e=Ym(this.g),t=this.g.ja();this.C<t.length&&(Qv(this),Hv(this,e,t),this.i&&4!=e&&Kv(this))}},Rd.cancel=function(){this.J=!0,Yv(this)},Rd.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(bv(),Ev(17)),Yv(this),this.o=2,$v(this)):Gv(this,this.Y-e)};var Zv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function em(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof em){this.h=void 0!==t?t:e.h,nm(this,e.j),this.s=e.s,this.g=e.g,rm(this,e.m),this.l=e.l,t=e.i;var n=new vm;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),im(this,n),this.o=e.o}else e&&(n=String(e).match(Zv))?(this.h=!!t,nm(this,n[1]||"",!0),this.s=sm(n[2]||""),this.g=sm(n[3]||"",!0),rm(this,n[4]),this.l=sm(n[5]||"",!0),im(this,n[6]||"",!0),this.o=sm(n[7]||"")):(this.h=!!t,this.i=new vm(null,this.h))}function tm(e){return new em(e)}function nm(e,t,n){e.j=n?sm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function im(e,t,n){t instanceof vm?(e.i=t,function(e,t){t&&!e.j&&(mm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ym(this,t),_m(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=um(t,dm)),e.i=new vm(t,e.h))}function am(e,t,n){e.i.set(t,n)}function om(e){return am(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function sm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function um(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}em.prototype.toString=function(){var e=[],t=this.j;t&&e.push(um(t,cm,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(um(t,cm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(um(n,"/"==n.charAt(0)?hm:fm,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",um(n,pm)),e.join("")};var cm=/[#\/\?@]/g,fm=/[#\?:]/g,hm=/[#\?]/g,dm=/[#\?@]/g,pm=/#/g;function vm(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mm(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ym(e,t){mm(e),t=km(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function gm(e,t){return mm(e),t=km(e,t),e.g.has(t)}function _m(e,t,n){ym(e,t),0<n.length&&(e.i=null,e.g.set(km(e,t),$d(n)),e.h+=n.length)}function km(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Rd=vm.prototype).add=function(e,t){mm(this),this.i=null,e=km(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Rd.forEach=function(e,t){mm(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Rd.sa=function(){mm(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Rd.Z=function(e){mm(this);var t=[];if("string"===typeof e)gm(this,e)&&(t=t.concat(this.g.get(km(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Rd.set=function(e,t){return mm(this),this.i=null,gm(this,e=km(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Rd.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Rd.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var bm=p((function e(t,n){c(this,e),this.h=t,this.g=n}));function wm(e){this.l=e||Em,Md.PerformanceNavigationTiming?e=0<(e=Md.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Md.g&&Md.g.Ka&&Md.g.Ka()&&Md.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Em=10;function Sm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function xm(e){return e.h?1:e.g?e.g.size:0}function Cm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Tm(e,t){e.g?e.g.add(t):e.h=t}function Im(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Nm(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return $d(e.i)}function Pm(){}function Am(){this.g=new Pm}function Rm(e,t,n){var r=n||"";try{Jv(e,(function(e,n){var i=e;Ud(e)&&(i=$p(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Om(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(Mt){}}function Dm(e){this.l=e.fc||null,this.j=e.ob||!1}function Lm(e,t){Kp.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Mm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wm.prototype.cancel=function(){if(this.i=Nm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Pm.prototype.stringify=function(e){return Md.JSON.stringify(e,void 0)},Pm.prototype.parse=function(e){return Md.JSON.parse(e,void 0)},Kd(Dm,Iv),Dm.prototype.g=function(){return new Lm(this.l,this.j)},Dm.prototype.i=function(e){return function(){return e}}({}),Kd(Lm,Kp);var Mm=0;function Fm(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function jm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Um(e)}function Um(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Rd=Lm.prototype).open=function(e,t){if(this.readyState!=Mm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Um(this)},Rd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Md).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Rd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jm(this)),this.readyState=Mm},Rd.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Um(this)),this.g&&(this.readyState=3,Um(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Md.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fm(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Rd.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jm(this):Um(this),3==this.readyState&&Fm(this)}},Rd.Za=function(e){this.g&&(this.response=this.responseText=e,jm(this))},Rd.Ya=function(e){this.g&&(this.response=e,jm(this))},Rd.ka=function(){this.g&&jm(this)},Rd.setRequestHeader=function(e,t){this.v.append(e,t)},Rd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Rd.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Vm=Md.JSON.parse;function Bm(e){Kp.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zm,this.L=this.M=!1}Kd(Bm,Kp);var zm="",qm=/^https?$/i,Hm=["POST","PUT"];function Wm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Km(e),Qm(e)}function Km(e){e.F||(e.F=!0,Gp(e,"complete"),Gp(e,"error"))}function Gm(e){if(e.h&&"undefined"!=typeof Ld&&(!e.C[1]||4!=Ym(e)||2!=e.da()))if(e.v&&4==Ym(e))uv(e.La,0,e);else if(Gp(e,"readystatechange"),4==Ym(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Zv)[1]||null;if(!a&&Md.self&&Md.self.location){var o=Md.self.location.protocol;a=o.substr(0,o.length-1)}i=!qm.test(a?a.toLowerCase():"")}t=i}if(t)Gp(e,"complete"),Gp(e,"success");else{e.m=6;try{var s=2<Ym(e)?e.g.statusText:""}catch(At){s=""}e.j=s+" ["+e.da()+"]",Km(e)}}finally{Qm(e)}}}function Qm(e,t){if(e.g){$m(e);var n=e.g,r=e.C[0]?Fd:null;e.g=null,e.C=null,t||Gp(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function $m(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Md.clearTimeout(e.A),e.A=null)}function Ym(e){return e.g?e.g.readyState:0}function Xm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case zm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Wt){return null}}function Jm(e){var t="";return Tp(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Zm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Jm(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):am(e,t,n))}function ey(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ty(e){this.Ga=0,this.i=[],this.j=new vv,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ey("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ey("baseRetryDelayMs",5e3,e),this.hb=ey("retryDelaySeedMs",1e4,e),this.eb=ey("forwardChannelMaxRetries",2,e),this.xa=ey("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new wm(e&&e.concurrentRequestLimit),this.Ja=new Am,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function ny(e){if(iy(e),3==e.H){var t=e.W++,n=tm(e.G);am(n,"SID",e.J),am(n,"RID",t),am(n,"TYPE","terminate"),sy(e,n),(t=new Mv(e,e.j,t,void 0)).L=2,t.v=om(tm(n)),n=!1,Md.navigator&&Md.navigator.sendBeacon&&(n=Md.navigator.sendBeacon(t.v.toString(),"")),!n&&Md.Image&&((new Image).src=t.v,n=!0),n||(t.g=_y(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Kv(t)}yy(e)}function ry(e){e.g&&(fy(e),e.g.cancel(),e.g=null)}function iy(e){ry(e),e.u&&(Md.clearTimeout(e.u),e.u=null),dy(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Md.clearTimeout(e.m),e.m=null)}function ay(e){Sm(e.h)||e.m||(e.m=!0,nv(e.Na,e),e.C=0)}function oy(e,t){var n;n=t?t.m:e.W++;var r=tm(e.G);am(r,"SID",e.J),am(r,"RID",n),am(r,"AID",e.V),sy(e,r),e.o&&e.s&&Zm(r,e.o,e.s),n=new Mv(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=uy(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Tm(e.h,n),Bv(n,r,t)}function sy(e,t){e.ma&&Tp(e.ma,(function(e,n){am(t,n,e)})),e.l&&Jv({},(function(e,n){am(t,n,e)}))}function uy(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Hd(e.l.Va,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].h,c=i[u].g;if(0>(l-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Rm(c,o,"req"+l+"_")}catch(_n){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.F=e,r}function ly(e){e.g||e.u||(e.ba=1,nv(e.Ma,e),e.A=0)}function cy(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=xv(Hd(e.Ma,e),vy(e,e.A)),e.A++,!0)}function fy(e){null!=e.B&&(Md.clearTimeout(e.B),e.B=null)}function hy(e){e.g=new Mv(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=tm(e.wa);am(t,"RID","rpc"),am(t,"SID",e.J),am(t,"CI",e.M?"0":"1"),am(t,"AID",e.V),am(t,"TYPE","xmlhttp"),sy(e,t),e.o&&e.s&&Zm(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=om(tm(t)),n.s=null,n.S=!0,zv(n,e)}function dy(e){null!=e.v&&(Md.clearTimeout(e.v),e.v=null)}function py(e,t){var n=null;if(e.g==t){dy(e),fy(e),e.g=null;var r=2}else{if(!Cm(e.h,t))return;n=t.F,Im(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Gp(r=_v(),new Sv(r,n)),ay(e)}else ly(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!(xm(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=xv(Hd(e.Na,e,t),vy(e,e.C)),e.C++,!0))}(e,t)||2==r&&cy(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:my(e,5);break;case 4:my(e,10);break;case 3:my(e,6);break;default:my(e,2)}}function vy(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function my(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Hd(e.pb,e);n||(n=new em("//www.google.com/images/cleardot.gif"),Md.location&&"http"==Md.location.protocol||nm(n,"https"),om(n)),function(e,t){var n=new vv;if(Md.Image){var r=new Image;r.onload=Wd(Om,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Wd(Om,n,r,"TestLoadImage: error",!1,t),r.onabort=Wd(Om,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Wd(Om,n,r,"TestLoadImage: timeout",!1,t),Md.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ev(2);e.H=0,e.l&&e.l.za(t),yy(e),iy(e)}function yy(e){if(e.H=0,e.pa=[],e.l){var t=Nm(e.h);0==t.length&&0==e.i.length||(Yd(e.pa,t),Yd(e.pa,e.i),e.h.i.length=0,$d(e.i),e.i.length=0),e.l.ya()}}function gy(e,t,n){var r=n instanceof em?tm(n):new em(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),rm(r,r.m);else{var i=Md.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new em(null,void 0);r&&nm(a,r),t&&(a.g=t),i&&rm(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&am(r,n,t),am(r,"VER",e.qa),sy(e,r),r}function _y(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Bm(new Dm({ob:!0})):new Bm(e.va)).Oa(e.I),t}function ky(){}function by(){if(up&&!(10<=Number(kp)))throw Error("Environmental error: no available transport.")}function wy(e,t){Kp.call(this),this.g=new ty(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Zd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Zd(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xy(this)}function Ey(e){Ov.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sy(){Dv.call(this),this.status=1}function xy(e){this.g=e}function Cy(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ty(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Iy(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Rd=Bm.prototype).Oa=function(e){this.M=e},Rd.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Av.g(),this.C=this.u?Nv(this.u):Nv(Av),this.g.onreadystatechange=Hd(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Wm(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=C(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Md.FormData&&e instanceof Md.FormData,!(0<=Qd(Hm,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=C(n);try{for(l.s();!(u=l.n()).done;){var c=E(u.value,2),f=c[0],h=c[1];this.g.setRequestHeader(f,h)}}catch(d){l.e(d)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$m(this),0<this.B&&((this.L=function(e){return up&&ap(gp,9,(function(){for(var e=0,t=ep(String(op)).split("."),n=ep("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=tp(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||tp(0==a[2].length,0==o[2].length)||tp(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hd(this.ua,this)):this.A=uv(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Wm(this,s)}},Rd.ua=function(){"undefined"!=typeof Ld&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gp(this,"timeout"),this.abort(8))},Rd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Gp(this,"complete"),Gp(this,"abort"),Qm(this))},Rd.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qm(this,!0)),Bm.$.N.call(this)},Rd.La=function(){this.s||(this.G||this.v||this.l?Gm(this):this.kb())},Rd.kb=function(){Gm(this)},Rd.da=function(){try{return 2<Ym(this)?this.g.status:-1}catch(Lt){return-1}},Rd.ja=function(){try{return this.g?this.g.responseText:""}catch(Lt){return""}},Rd.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Vm(t)}},Rd.Ia=function(){return this.m},Rd.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Rd=ty.prototype).qa=8,Rd.H=1,Rd.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Mv(this,this.j,e,void 0),n=this.s;if(this.U&&(n?Pp(n=Ip(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=uy(this,t,r),am(i=tm(this.G),"RID",e),am(i,"CVER",22),this.F&&am(i,"X-HTTP-Session-Id",this.F),sy(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Jm(n)))+"&"+r:this.o&&Zm(i,this.o,n)),Tm(this.h,t),this.bb&&am(i,"TYPE","init"),this.P?(am(i,"$req",r),am(i,"SID","null"),t.ba=!0,Bv(t,i,null)):Bv(t,i,r),this.H=2}}else 3==this.H&&(e?oy(this,e):0==this.i.length||Sm(this.h)||oy(this))},Rd.Ma=function(){if(this.u=null,hy(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=xv(Hd(this.jb,this),e)}},Rd.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Ev(10),ry(this),hy(this))},Rd.ib=function(){null!=this.v&&(this.v=null,ry(this),cy(this),Ev(19))},Rd.pb=function(e){e?(this.j.info("Successfully pinged google.com"),Ev(2)):(this.j.info("Failed to ping google.com"),Ev(1))},(Rd=ky.prototype).Ba=function(){},Rd.Aa=function(){},Rd.za=function(){},Rd.ya=function(){},Rd.Va=function(){},by.prototype.g=function(e,t){return new wy(e,t)},Kd(wy,Kp),wy.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;Ev(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=gy(e,null,e.Y),ay(e)},wy.prototype.close=function(){ny(this.g)},wy.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=$p(e),e=n);t.i.push(new bm(t.fb++,e)),3==t.H&&ay(t)},wy.prototype.N=function(){this.g.l=null,delete this.j,ny(this.g),delete this.g,wy.$.N.call(this)},Kd(Ey,Ov),Kd(Sy,Dv),Kd(xy,ky),xy.prototype.Ba=function(){Gp(this.g,"a")},xy.prototype.Aa=function(e){Gp(this.g,new Ey(e))},xy.prototype.za=function(e){Gp(this.g,new Sy)},xy.prototype.ya=function(){Gp(this.g,"b")},Kd(Cy,(function(){this.blockSize=-1})),Cy.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Cy.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Ty(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Ty(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Ty(this,r),i=0;break}}this.h=i,this.i+=t},Cy.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Ny={};function Py(e){return-128<=e&&128>e?ap(Ny,e,(function(e){return new Iy([0|e],0>e?-1:0)})):new Iy([0|e],0>e?-1:0)}function Ay(e){if(isNaN(e)||!isFinite(e))return Oy;if(0>e)return jy(Ay(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ry;return new Iy(t,0)}var Ry=4294967296,Oy=Py(0),Dy=Py(1),Ly=Py(16777216);function My(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Fy(e){return-1==e.h}function jy(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Iy(n,~e.h).add(Dy)}function Uy(e,t){return e.add(jy(t))}function Vy(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function By(e,t){this.g=e,this.h=t}function zy(e,t){if(My(t))throw Error("division by zero");if(My(e))return new By(Oy,Oy);if(Fy(e))return t=zy(jy(e),t),new By(jy(t.g),jy(t.h));if(Fy(t))return t=zy(e,jy(t)),new By(jy(t.g),t.h);if(30<e.g.length){if(Fy(e)||Fy(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Dy,r=t;0>=r.X(e);)n=qy(n),r=qy(r);var i=Hy(n,1),a=Hy(r,1);for(r=Hy(r,2),n=Hy(n,2);!My(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Hy(r,1),n=Hy(n,1)}return t=Uy(e,i.R(t)),new By(i,t)}for(i=Oy;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Ay(n)).R(t);Fy(o)||0<o.X(e);)o=(a=Ay(n-=r)).R(t);My(a)&&(a=Dy),i=i.add(a),e=Uy(e,o)}return new By(i,e)}function qy(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Iy(n,e.h)}function Hy(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Iy(i,e.h)}(Rd=Iy.prototype).ea=function(){if(Fy(this))return-jy(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ry+r)*t,t*=Ry}return e},Rd.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(My(this))return"0";if(Fy(this))return"-"+jy(this).toString(e);for(var t=Ay(Math.pow(e,6)),n=this,r="";;){var i=zy(n,t).g,a=((0<(n=Uy(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(My(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Rd.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Rd.X=function(e){return Fy(e=Uy(this,e))?-1:My(e)?0:1},Rd.abs=function(){return Fy(this)?jy(this):this},Rd.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Iy(n,-2147483648&n[n.length-1]?-1:0)},Rd.R=function(e){if(My(this)||My(e))return Oy;if(Fy(this))return Fy(e)?jy(this).R(jy(e)):jy(jy(this).R(e));if(Fy(e))return jy(this.R(jy(e)));if(0>this.X(Ly)&&0>e.X(Ly))return Ay(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Vy(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Vy(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Vy(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Vy(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Iy(n,0)},Rd.gb=function(e){return zy(this,e).h},Rd.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Iy(n,this.h&e.h)},Rd.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Iy(n,this.h|e.h)},Rd.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Iy(n,this.h^e.h)},by.prototype.createWebChannel=by.prototype.g,wy.prototype.send=wy.prototype.u,wy.prototype.open=wy.prototype.m,wy.prototype.close=wy.prototype.close,Cv.NO_ERROR=0,Cv.TIMEOUT=8,Cv.HTTP_ERROR=6,Tv.COMPLETE="complete",Pv.EventType=Rv,Rv.OPEN="a",Rv.CLOSE="b",Rv.ERROR="c",Rv.MESSAGE="d",Kp.prototype.listen=Kp.prototype.O,Bm.prototype.listenOnce=Bm.prototype.P,Bm.prototype.getLastError=Bm.prototype.Sa,Bm.prototype.getLastErrorCode=Bm.prototype.Ia,Bm.prototype.getStatus=Bm.prototype.da,Bm.prototype.getResponseJson=Bm.prototype.Wa,Bm.prototype.getResponseText=Bm.prototype.ja,Bm.prototype.send=Bm.prototype.ha,Bm.prototype.setWithCredentials=Bm.prototype.Oa,Cy.prototype.digest=Cy.prototype.l,Cy.prototype.reset=Cy.prototype.reset,Cy.prototype.update=Cy.prototype.j,Iy.prototype.add=Iy.prototype.add,Iy.prototype.multiply=Iy.prototype.R,Iy.prototype.modulo=Iy.prototype.gb,Iy.prototype.compare=Iy.prototype.X,Iy.prototype.toNumber=Iy.prototype.ea,Iy.prototype.toString=Iy.prototype.toString,Iy.prototype.getBits=Iy.prototype.D,Iy.fromNumber=Ay,Iy.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return jy(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ay(Math.pow(n,8)),i=Oy,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Ay(Math.pow(n,o)),i=i.R(o).add(Ay(s))):i=(i=i.R(r)).add(Ay(s))}return i};var Wy=Dd.createWebChannelTransport=function(){return new by},Ky=Dd.getStatEventTarget=function(){return _v()},Gy=Dd.ErrorCode=Cv,Qy=Dd.EventType=Tv,$y=Dd.Event=yv,Yy=Dd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xy=Dd.FetchXmlHttpFactory=Dm,Jy=Dd.WebChannel=Pv,Zy=Dd.XhrIo=Bm,eg=Dd.Md5=Cy,tg=Dd.Integer=Iy,ng="@firebase/firestore",rg=function(){function e(t){c(this,e),this.uid=t}return p(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();rg.UNAUTHENTICATED=new rg(null),rg.GOOGLE_CREDENTIALS=new rg("google-credentials-uid"),rg.FIRST_PARTY=new rg("first-party-uid"),rg.MOCK_USER=new rg("mock-user");var ig="9.21.0",ag=new Ea("@firebase/firestore");function og(){return ag.logLevel}function sg(e){if(ag.logLevel<=ma.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cg);ag.debug.apply(ag,["Firestore (".concat(ig,"): ").concat(e)].concat(l(i)))}}function ug(e){if(ag.logLevel<=ma.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cg);ag.error.apply(ag,["Firestore (".concat(ig,"): ").concat(e)].concat(l(i)))}}function lg(e){if(ag.logLevel<=ma.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(cg);ag.warn.apply(ag,["Firestore (".concat(ig,"): ").concat(e)].concat(l(i)))}}function cg(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function fg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(ig,") INTERNAL ASSERTION FAILED: ")+e;throw ug(t),new Error(t)}function hg(e,t){e||fg()}function dg(e,t){return e}var pg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},vg=function(e){m(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return p(n)}(Yi),mg=p((function e(){var t=this;c(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),yg=p((function e(t,n){c(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),gg=function(){function e(){c(this,e)}return p(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(rg.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),_g=function(){function e(t){c(this,e),this.token=t,this.changeListener=null}return p(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),kg=function(){function e(t){c(this,e),this.t=t,this.currentUser=rg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new mg;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new mg,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ti(Zr().mark((function e(){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){sg("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(sg("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new mg)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(sg("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(hg("string"==typeof n.accessToken),new yg(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return hg(null===e||"string"==typeof e),new rg(e)}}]),e}(),bg=function(){function e(t,n,r){c(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=rg.FIRST_PARTY,this.g=new Map}return p(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),wg=function(){function e(t,n,r){c(this,e),this.h=t,this.l=n,this.m=r}return p(e,[{key:"getToken",value:function(){return Promise.resolve(new bg(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(rg.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Eg=p((function e(t){c(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Sg=function(){function e(t){c(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return p(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&sg("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,sg("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){sg("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):sg("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(hg("string"==typeof t.token),e.T=t.token,new Eg(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function xg(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Cg=function(){function e(){c(this,e)}return p(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=xg(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Tg(e,t){return e<t?-1:e>t?1:0}function Ig(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Ng=function(){function e(t,n){if(c(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new vg(pg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new vg(pg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new vg(pg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vg(pg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return p(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Tg(this.nanoseconds,e.nanoseconds):Tg(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Pg=function(){function e(t){c(this,e),this.timestamp=t}return p(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ng(0,0))}},{key:"max",value:function(){return new e(new Ng(253402300799,999999999))}}]),e}(),Ag=function(){function e(t,n,r){c(this,e),void 0===n?n=0:n>t.length&&fg(),void 0===r?r=t.length-n:r>t.length-n&&fg(),this.segments=t,this.offset=n,this.len=r}return p(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Rg=function(e){m(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new vg(pg.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,l(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ag),Og=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dg=function(e){m(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Og.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new vg(pg.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new vg(pg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new vg(pg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new vg(pg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Ag),Lg=function(){function e(t){c(this,e),this.path=t}return p(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Rg.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Rg.fromString(t))}},{key:"fromName",value:function(t){return new e(Rg.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Rg.emptyPath())}},{key:"comparator",value:function(e,t){return Rg.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Rg(t.slice()))}}]),e}(),Mg=p((function e(t,n,r,i){c(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Mg.UNKNOWN_ID=-1;function Fg(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Pg.fromTimestamp(1e9===r?new Ng(n+1,0):new Ng(n,r));return new Ug(i,Lg.empty(),t)}function jg(e){return new Ug(e.readTime,e.key,-1)}var Ug=function(){function e(t,n,r){c(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return p(e,null,[{key:"min",value:function(){return new e(Pg.min(),Lg.empty(),-1)}},{key:"max",value:function(){return new e(Pg.max(),Lg.empty(),-1)}}]),e}();function Vg(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Lg.comparator(e.documentKey,t.documentKey))?n:Tg(e.largestBatchId,t.largestBatchId)}var Bg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",zg=function(){function e(){c(this,e),this.onCommittedListeners=[]}return p(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function qg(e){return Hg.apply(this,arguments)}function Hg(){return Hg=ti(Zr().mark((function e(t){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===pg.FAILED_PRECONDITION&&t.message===Bg){e.next=2;break}throw t;case 2:sg("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Hg.apply(this,arguments)}var Wg=function(){function e(t){var n=this;c(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return p(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&fg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Kg(e){return"IndexedDbTransactionError"===e.name}var Gg=function(){function e(t,n){var r=this;c(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return p(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Qg(e){return null==e}function $g(e){return 0===e&&1/e==-1/0}function Yg(e){return"number"==typeof e&&Number.isInteger(e)&&!$g(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Gg.ct=-1;var Xg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Jg=([].concat(l(Xg),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Zg=Jg;[].concat(Zg,["indexConfiguration","indexState","indexEntries"]);function e_(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function t_(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function n_(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var r_=function(){function e(t,n){c(this,e),this.comparator=t,this.root=n||a_.EMPTY}return p(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,a_.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,a_.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new i_(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new i_(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new i_(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new i_(this.root,e,this.comparator,!0)}}]),e}(),i_=function(){function e(t,n,r,i){c(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return p(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),a_=function(){function e(t,n,r,i,a){c(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return p(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw fg();if(this.right.isRed())throw fg();var e=this.left.check();if(e!==this.right.check())throw fg();return e+(this.isRed()?0:1)}}]),e}();a_.EMPTY=null,a_.RED=!0,a_.BLACK=!1,a_.EMPTY=new(function(){function e(){c(this,e),this.size=0}return p(e,[{key:"key",get:function(){throw fg()}},{key:"value",get:function(){throw fg()}},{key:"color",get:function(){throw fg()}},{key:"left",get:function(){throw fg()}},{key:"right",get:function(){throw fg()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new a_(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var o_=function(){function e(t){c(this,e),this.comparator=t,this.data=new r_(this.comparator)}return p(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new s_(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new s_(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),s_=function(){function e(t){c(this,e),this.iter=t}return p(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var u_=function(){function e(t){c(this,e),this.fields=t,t.sort(Dg.comparator)}return p(e,[{key:"unionWith",value:function(t){var n,r=new o_(Dg.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=C(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Ig(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),l_=function(e){m(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return p(n)}(x(Error));var c_=function(e){function t(e){c(this,t),this.binaryString=e}return p(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Tg(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new l_("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();c_.EMPTY_BYTE_STRING=new c_("");var f_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function h_(e){if(hg(!!e),"string"==typeof e){var t=0,n=f_.exec(e);if(hg(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:d_(e.seconds),nanos:d_(e.nanos)}}function d_(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function p_(e){return"string"==typeof e?c_.fromBase64String(e):c_.fromUint8Array(e)}function v_(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function m_(e){var t=e.mapValue.fields.__previous_value__;return v_(t)?m_(t):t}function y_(e){var t=h_(e.mapValue.fields.__local_write_time__.timestampValue);return new Ng(t.seconds,t.nanos)}var g_=p((function e(t,n,r,i,a,o,s,u){c(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),__=function(){function e(t,n){c(this,e),this.projectId=t,this.database=n||"(default)"}return p(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),k_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function b_(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?v_(e)?4:L_(e)?9007199254740991:10:fg()}function w_(e,t){if(e===t)return!0;var n=b_(e);if(n!==b_(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return y_(e).isEqual(y_(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=h_(e.timestampValue),r=h_(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return p_(e.bytesValue).isEqual(p_(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return d_(e.geoPointValue.latitude)===d_(t.geoPointValue.latitude)&&d_(e.geoPointValue.longitude)===d_(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return d_(e.integerValue)===d_(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=d_(e.doubleValue),r=d_(t.doubleValue);return n===r?$g(n)===$g(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ig(e.arrayValue.values||[],t.arrayValue.values||[],w_);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(e_(n)!==e_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!w_(n[i],r[i])))return!1;return!0}(e,t);default:return fg()}}function E_(e,t){return void 0!==(e.values||[]).find((function(e){return w_(e,t)}))}function S_(e,t){if(e===t)return 0;var n=b_(e),r=b_(t);if(n!==r)return Tg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tg(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=d_(e.integerValue||e.doubleValue),r=d_(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return x_(e.timestampValue,t.timestampValue);case 4:return x_(y_(e),y_(t));case 5:return Tg(e.stringValue,t.stringValue);case 6:return function(e,t){var n=p_(e),r=p_(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Tg(n[i],r[i]);if(0!==a)return a}return Tg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Tg(d_(e.latitude),d_(t.latitude));return 0!==n?n:Tg(d_(e.longitude),d_(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=S_(n[i],r[i]);if(a)return a}return Tg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===k_.mapValue&&t===k_.mapValue)return 0;if(e===k_.mapValue)return 1;if(t===k_.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Tg(r[o],a[o]);if(0!==s)return s;var u=S_(n[r[o]],i[a[o]]);if(0!==u)return u}return Tg(r.length,a.length)}(e.mapValue,t.mapValue);default:throw fg()}}function x_(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Tg(e,t);var n=h_(e),r=h_(t),i=Tg(n.seconds,r.seconds);return 0!==i?i:Tg(n.nanos,r.nanos)}function C_(e){return T_(e)}function T_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=h_(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?p_(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Lg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=T_(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(T_(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):fg();var t,n}function I_(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function N_(e){return!!e&&"integerValue"in e}function P_(e){return!!e&&"arrayValue"in e}function A_(e){return!!e&&"nullValue"in e}function R_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function O_(e){return!!e&&"mapValue"in e}function D_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return t_(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=D_(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=D_(e.arrayValue.values[r]);return n}return Object.assign({},e)}function L_(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var M_=function(){function e(t){c(this,e),this.value=t}return p(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!O_(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=D_(t)}},{key:"setAll",value:function(e){var t=this,n=Dg.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=D_(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());O_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return w_(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];O_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){t_(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(D_(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function F_(e){var t=[];return t_(e.fields,(function(e,n){var r=new Dg([e]);if(O_(n)){var i=F_(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new u_(t)}var j_=function(){function e(t,n,r,i,a,o,s){c(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return p(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Pg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=M_.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=M_.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Pg.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Pg.min(),Pg.min(),Pg.min(),M_.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Pg.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Pg.min(),Pg.min(),M_.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Pg.min(),Pg.min(),M_.empty(),2)}}]),e}(),U_=p((function e(t,n){c(this,e),this.position=t,this.inclusive=n}));function V_(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Lg.comparator(Lg.fromName(o.referenceValue),n.key):S_(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function B_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!w_(e.position[n],t.position[n]))return!1;return!0}var z_=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";c(this,e),this.field=t,this.dir=n}));function q_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var H_=p((function e(){c(this,e)})),W_=function(e){m(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(S_(t,this.value)):null!==t&&b_(this.value)===b_(t)&&this.matchesComparison(S_(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fg()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Z_(e,t,r):"array-contains"===t?new rk(e,r):"in"===t?new ik(e,r):"not-in"===t?new ak(e,r):"array-contains-any"===t?new ok(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new ek(e,n):new tk(e,n)}}]),n}(H_),K_=function(e){m(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return p(n,[{key:"matches",value:function(e){return G_(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=C(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(H_);function G_(e){return"and"===e.op}function Q_(e){return $_(e)&&G_(e)}function $_(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof K_)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Y_(e){if(e instanceof W_)return e.field.canonicalString()+e.op.toString()+C_(e.value);if(Q_(e))return e.filters.map((function(e){return Y_(e)})).join(",");var t=e.filters.map((function(e){return Y_(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function X_(e,t){return e instanceof W_?function(e,t){return t instanceof W_&&e.op===t.op&&e.field.isEqual(t.field)&&w_(e.value,t.value)}(e,t):e instanceof K_?function(e,t){return t instanceof K_&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&X_(n,t.filters[r])}),!0)}(e,t):void fg()}function J_(e){return e instanceof W_?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(C_(e.value))}(e):e instanceof K_?function(e){return e.op.toString()+" {"+e.getFilters().map(J_).join(" ,")+"}"}(e):"Filter"}var Z_=function(e){m(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,r,i)).key=Lg.fromName(i.referenceValue),a}return p(n,[{key:"matches",value:function(e){var t=Lg.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(W_),ek=function(e){m(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,"in",r)).keys=nk("in",r),i}return p(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(W_),tk=function(e){m(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,"not-in",r)).keys=nk("not-in",r),i}return p(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(W_);function nk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Lg.fromName(e.referenceValue)}))}var rk=function(e){m(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"array-contains",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return P_(t)&&E_(t.arrayValue,this.value)}}]),n}(W_),ik=function(e){m(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"in",r)}return p(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&E_(this.value.arrayValue,t)}}]),n}(W_),ak=function(e){m(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"not-in",r)}return p(n,[{key:"matches",value:function(e){if(E_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!E_(this.value.arrayValue,t)}}]),n}(W_),ok=function(e){m(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"array-contains-any",r)}return p(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!P_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return E_(t.value.arrayValue,e)}))}}]),n}(W_),sk=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;c(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function uk(e){return new sk(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function lk(e){var t=dg(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Y_(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Qg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return C_(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return C_(e)})).join(",")),t.ft=n}return t.ft}function ck(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!q_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!X_(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!B_(e.startAt,t.startAt)&&B_(e.endAt,t.endAt)}function fk(e){return Lg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var hk=p((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;c(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function dk(e,t,n,r,i,a,o,s){return new hk(e,t,n,r,i,a,o,s)}function pk(e){return new hk(e)}function vk(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function mk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function yk(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function gk(e){return null!==e.collectionGroup}function _k(e){var t=dg(e);if(null===t.dt){t.dt=[];var n=yk(t),r=mk(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new z_(n)),t.dt.push(new z_(Dg.keyField(),"asc"));else{var i,a=!1,o=C(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new z_(Dg.keyField(),u))}}}return t.dt}function kk(e){var t=dg(e);if(!t._t)if("F"===t.limitType)t._t=uk(t.path,t.collectionGroup,_k(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=C(_k(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new z_(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var s=t.endAt?new U_(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new U_(t.startAt.position,t.startAt.inclusive):null;t._t=uk(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function bk(e,t){t.getFirstInequalityField(),yk(e);var n=e.filters.concat([t]);return new hk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function wk(e,t,n){return new hk(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ek(e,t){return ck(kk(e),kk(t))&&e.limitType===t.limitType}function Sk(e){return"".concat(lk(kk(e)),"|lt:").concat(e.limitType)}function xk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return J_(e)})).join(", "),"]")),Qg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return C_(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return C_(e)})).join(",")),"Target(".concat(t,")")}(kk(e)),"; limitType=").concat(e.limitType,")")}function Ck(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Lg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(_k(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=V_(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,_k(e),t))&&!(e.endAt&&!function(e,t,n){var r=V_(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,_k(e),t))}(e,t)}function Tk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ik(e){return function(t,n){var r,i=!1,a=C(_k(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Nk(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Nk(e,t,n){var r=e.field.isKeyField()?Lg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?S_(r,i):fg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fg()}}var Pk=function(){function e(t,n){c(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return p(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=E(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){t_(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=E(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return n_(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ak=new r_(Lg.comparator);function Rk(){return Ak}var Ok=new r_(Lg.comparator);function Dk(){for(var e=Ok,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Lk(e){var t=Ok;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Mk(){return jk()}function Fk(){return jk()}function jk(){return new Pk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Uk=new r_(Lg.comparator),Vk=new o_(Lg.comparator);function Bk(){for(var e=Vk,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var zk=new o_(Tg);function qk(){return zk}function Hk(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$g(t)?"-0":t}}function Wk(e){return{integerValue:""+e}}function Kk(e,t){return Yg(t)?Wk(t):Hk(e,t)}var Gk=p((function e(){c(this,e),this._=void 0}));function Qk(e,t,n){return e instanceof Xk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&v_(t)&&(t=m_(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Jk?Zk(e,t):e instanceof eb?tb(e,t):function(e,t){var n=Yk(e,t),r=rb(n)+rb(e.wt);return N_(n)&&N_(e.wt)?Wk(r):Hk(e.serializer,r)}(e,t)}function $k(e,t,n){return e instanceof Jk?Zk(e,t):e instanceof eb?tb(e,t):n}function Yk(e,t){return e instanceof nb?N_(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Xk=function(e){m(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n)}(Gk),Jk=function(e){m(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).elements=e,r}return p(n)}(Gk);function Zk(e,t){var n,r=ib(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return w_(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var eb=function(e){m(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).elements=e,r}return p(n)}(Gk);function tb(e,t){var n,r=ib(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!w_(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var nb=function(e){m(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).serializer=e,i.wt=r,i}return p(n)}(Gk);function rb(e){return d_(e.integerValue||e.doubleValue)}function ib(e){return P_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ab=p((function e(t,n){c(this,e),this.version=t,this.transformResults=n})),ob=function(){function e(t,n){c(this,e),this.updateTime=t,this.exists=n}return p(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function sb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ub=p((function e(){c(this,e)}));function lb(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new bb(e.key,ob.none()):new pb(e.key,e.data,ob.none());var n,r=e.data,i=M_.empty(),a=new o_(Dg.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new vb(e.key,i,new u_(a.toArray()),ob.none())}function cb(e,t,n){e instanceof pb?function(e,t,n){var r=e.value.clone(),i=yb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof vb?function(e,t,n){if(sb(e.precondition,t)){var r=yb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function fb(e,t,n,r){return e instanceof pb?function(e,t,n,r){if(!sb(e.precondition,t))return n;var i=e.value.clone(),a=gb(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof vb?function(e,t,n,r){if(!sb(e.precondition,t))return n;var i=gb(e.fieldTransforms,r,t),a=t.data;return a.setAll(mb(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return sb(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function hb(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Yk(a.transform,o||null);null!=s&&(null===r&&(r=M_.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function db(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ig(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Jk&&t instanceof Jk||e instanceof eb&&t instanceof eb?Ig(e.elements,t.elements,w_):e instanceof nb&&t instanceof nb?w_(e.wt,t.wt):e instanceof Xk&&t instanceof Xk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var pb=function(e){m(n,e);var t=k(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return c(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ub),vb=function(e){m(n,e);var t=k(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return c(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return p(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ub);function mb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function yb(e,t,n){var r=new Map;hg(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,$k(o,s,n[i]))}return r}function gb(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Qk(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var _b,kb,bb=function(e){m(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ub),wb=function(e){m(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return p(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ub),Eb=function(){function e(t,n,r,i){c(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return p(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&cb(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=fb(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=fb(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Fk();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=lb(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Pg.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Bk())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Ig(this.mutations,e.mutations,(function(e,t){return db(e,t)}))&&Ig(this.baseMutations,e.baseMutations,(function(e,t){return db(e,t)}))}}]),e}(),Sb=function(){function e(t,n,r,i){c(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return p(e,null,[{key:"from",value:function(t,n,r){hg(t.mutations.length===r.length);for(var i=Uk,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),xb=function(){function e(t,n){c(this,e),this.largestBatchId=t,this.mutation=n}return p(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Cb=p((function e(t,n){c(this,e),this.count=t,this.unchangedNames=n}));function Tb(e){switch(e){default:return fg();case pg.CANCELLED:case pg.UNKNOWN:case pg.DEADLINE_EXCEEDED:case pg.RESOURCE_EXHAUSTED:case pg.INTERNAL:case pg.UNAVAILABLE:case pg.UNAUTHENTICATED:return!1;case pg.INVALID_ARGUMENT:case pg.NOT_FOUND:case pg.ALREADY_EXISTS:case pg.PERMISSION_DENIED:case pg.FAILED_PRECONDITION:case pg.ABORTED:case pg.OUT_OF_RANGE:case pg.UNIMPLEMENTED:case pg.DATA_LOSS:return!0}}function Ib(e){if(void 0===e)return ug("GRPC error has no .code"),pg.UNKNOWN;switch(e){case _b.OK:return pg.OK;case _b.CANCELLED:return pg.CANCELLED;case _b.UNKNOWN:return pg.UNKNOWN;case _b.DEADLINE_EXCEEDED:return pg.DEADLINE_EXCEEDED;case _b.RESOURCE_EXHAUSTED:return pg.RESOURCE_EXHAUSTED;case _b.INTERNAL:return pg.INTERNAL;case _b.UNAVAILABLE:return pg.UNAVAILABLE;case _b.UNAUTHENTICATED:return pg.UNAUTHENTICATED;case _b.INVALID_ARGUMENT:return pg.INVALID_ARGUMENT;case _b.NOT_FOUND:return pg.NOT_FOUND;case _b.ALREADY_EXISTS:return pg.ALREADY_EXISTS;case _b.PERMISSION_DENIED:return pg.PERMISSION_DENIED;case _b.FAILED_PRECONDITION:return pg.FAILED_PRECONDITION;case _b.ABORTED:return pg.ABORTED;case _b.OUT_OF_RANGE:return pg.OUT_OF_RANGE;case _b.UNIMPLEMENTED:return pg.UNIMPLEMENTED;case _b.DATA_LOSS:return pg.DATA_LOSS;default:return fg()}}(kb=_b||(_b={}))[kb.OK=0]="OK",kb[kb.CANCELLED=1]="CANCELLED",kb[kb.UNKNOWN=2]="UNKNOWN",kb[kb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kb[kb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kb[kb.NOT_FOUND=5]="NOT_FOUND",kb[kb.ALREADY_EXISTS=6]="ALREADY_EXISTS",kb[kb.PERMISSION_DENIED=7]="PERMISSION_DENIED",kb[kb.UNAUTHENTICATED=16]="UNAUTHENTICATED",kb[kb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kb[kb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kb[kb.ABORTED=10]="ABORTED",kb[kb.OUT_OF_RANGE=11]="OUT_OF_RANGE",kb[kb.UNIMPLEMENTED=12]="UNIMPLEMENTED",kb[kb.INTERNAL=13]="INTERNAL",kb[kb.UNAVAILABLE=14]="UNAVAILABLE",kb[kb.DATA_LOSS=15]="DATA_LOSS";var Nb=function(){function e(){c(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return p(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Pb}},{key:"getOrCreateInstance",value:function(){return null===Pb&&(Pb=new e),Pb}}]),e}(),Pb=null;function Ab(){return new TextEncoder}var Rb=new tg([4294967295,4294967295],0);function Ob(e){var t=Ab().encode(e),n=new eg;return n.update(t),new Uint8Array(n.digest())}function Db(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new tg([n,r],0),new tg([i,a],0)]}var Lb=function(){function e(t,n,r){if(c(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mb("Invalid padding: ".concat(n));if(r<0)throw new Mb("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Mb("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Mb("Invalid padding when bitmap length is 0: ".concat(n));this.yt=8*t.length-n,this.It=tg.fromNumber(this.yt)}return p(e,[{key:"Tt",value:function(e,t,n){var r=e.add(t.multiply(tg.fromNumber(n)));return 1===r.compare(Rb)&&(r=new tg([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}},{key:"Et",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"At",value:function(e){if(0===this.yt)return!1;for(var t=E(Db(Ob(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);if(!this.Et(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.yt)for(var t=E(Db(Ob(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Mb=function(e){m(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return p(n)}(x(Error)),Fb=function(){function e(t,n,r,i,a){c(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return p(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,jb.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Pg.min(),i,new r_(Tg),Rk(),Bk())}}]),e}(),jb=function(){function e(t,n,r,i,a){c(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return p(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Bk(),Bk(),Bk())}}]),e}(),Ub=p((function e(t,n,r,i){c(this,e),this.vt=t,this.removedTargetIds=n,this.key=r,this.Pt=i})),Vb=p((function e(t,n){c(this,e),this.targetId=t,this.bt=n})),Bb=p((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c_.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;c(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),zb=function(){function e(){c(this,e),this.Vt=0,this.St=Wb(),this.Dt=c_.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}return p(e,[{key:"current",get:function(){return this.Ct}},{key:"resumeToken",get:function(){return this.Dt}},{key:"Nt",get:function(){return 0!==this.Vt}},{key:"kt",get:function(){return this.xt}},{key:"Mt",value:function(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}},{key:"Ot",value:function(){var e=Bk(),t=Bk(),n=Bk();return this.St.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fg()}})),new jb(this.Dt,this.Ct,e,t,n)}},{key:"$t",value:function(){this.xt=!1,this.St=Wb()}},{key:"Ft",value:function(e,t){this.xt=!0,this.St=this.St.insert(e,t)}},{key:"Bt",value:function(e){this.xt=!0,this.St=this.St.remove(e)}},{key:"Lt",value:function(){this.Vt+=1}},{key:"qt",value:function(){this.Vt-=1}},{key:"Ut",value:function(){this.xt=!0,this.Ct=!0}}]),e}(),qb=function(){function e(t){c(this,e),this.Kt=t,this.Gt=new Map,this.Qt=Rk(),this.jt=Hb(),this.zt=new r_(Tg)}return p(e,[{key:"Wt",value:function(e){var t,n=C(e.vt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Pt&&e.Pt.isFoundDocument()?this.Ht(r,e.Pt):this.Jt(r,e.key,e.Pt)}}catch(s){n.e(s)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Jt(o,e.key,e.Pt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Yt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Xt(n);switch(e.state){case 0:t.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||t.removeTarget(n);break;case 3:t.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:t.Zt(n)&&(t.te(n),r.Mt(e.resumeToken));break;default:fg()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((function(e,r){n.Zt(r)&&t(r)}))}},{key:"ee",value:function(e){var t,n=e.targetId,r=e.bt.count,i=this.ne(n);if(i){var a=i.target;if(fk(a))if(0===r){var o=new Lg(a.path);this.Jt(n,o,j_.newNoDocument(o,Pg.min()))}else hg(1===r);else{var s=this.se(n);if(s!==r){var u=this.ie(e,s);if(0!==u){this.te(n);var l=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(n,l)}null===(t=Nb.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,l={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(l.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==c?void 0:c.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),l}(u,s,e.bt))}}}}},{key:"ie",value:function(e,t){var n=e.bt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,l=void 0===u?"":u,c=s.padding,f=void 0===c?0:c,h=r.hashCount,d=void 0===h?0:h;try{a=p_(l).toUint8Array()}catch(e){if(e instanceof l_)return lg("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new Lb(a,f,d)}catch(e){return lg(e instanceof Mb?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.yt?1:i!==t-this.re(e.targetId,o)?2:0}},{key:"re",value:function(e,t){var n=this,r=this.Kt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Kt.oe(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.At(o)||(n.Jt(e,r,null),i++)})),i}},{key:"ue",value:function(e){var t=this,n=new Map;this.Gt.forEach((function(r,i){var a=t.ne(i);if(a){if(r.current&&fk(a.target)){var o=new Lg(a.target.path);null!==t.Qt.get(o)||t.ce(i,o)||t.Jt(i,o,j_.newNoDocument(o,e))}r.kt&&(n.set(i,r.Ot()),r.$t())}}));var r=Bk();this.jt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ne(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Qt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Fb(e,n,this.zt,this.Qt,r);return this.Qt=Rk(),this.jt=Hb(),this.zt=new r_(Tg),i}},{key:"Ht",value:function(e,t){if(this.Zt(e)){var n=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,n),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}}},{key:"Jt",value:function(e,t,n){if(this.Zt(e)){var r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),n&&(this.Qt=this.Qt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Gt.delete(e)}},{key:"se",value:function(e){var t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Lt",value:function(e){this.Xt(e).Lt()}},{key:"Xt",value:function(e){var t=this.Gt.get(e);return t||(t=new zb,this.Gt.set(e,t)),t}},{key:"ae",value:function(e){var t=this.jt.get(e);return t||(t=new o_(Tg),this.jt=this.jt.insert(e,t)),t}},{key:"Zt",value:function(e){var t=null!==this.ne(e);return t||sg("WatchChangeAggregator","Detected inactive target",e),t}},{key:"ne",value:function(e){var t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}},{key:"te",value:function(e){var t=this;this.Gt.set(e,new zb),this.Kt.getRemoteKeysForTarget(e).forEach((function(n){t.Jt(e,n,null)}))}},{key:"ce",value:function(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Hb(){return new r_(Lg.comparator)}function Wb(){return new r_(Lg.comparator)}var Kb={asc:"ASCENDING",desc:"DESCENDING"},Gb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qb={and:"AND",or:"OR"},$b=p((function e(t,n){c(this,e),this.databaseId=t,this.useProto3Json=n}));function Yb(e,t){return e.useProto3Json||Qg(t)?t:{value:t}}function Xb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Zb(e,t){return Xb(e,t.toTimestamp())}function ew(e){return hg(!!e),Pg.fromTimestamp(function(e){var t=h_(e);return new Ng(t.seconds,t.nanos)}(e))}function tw(e,t){return function(e){return new Rg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function nw(e){var t=Rg.fromString(e);return hg(ww(t)),t}function rw(e,t){return tw(e.databaseId,t.path)}function iw(e,t){var n=nw(t);if(n.get(1)!==e.databaseId.projectId)throw new vg(pg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vg(pg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Lg(uw(n))}function aw(e,t){return tw(e.databaseId,t)}function ow(e){var t=nw(e);return 4===t.length?Rg.emptyPath():uw(t)}function sw(e){return new Rg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function uw(e){return hg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function lw(e,t,n){return{name:rw(e,t),fields:n.value.mapValue.fields}}function cw(e,t){var n;if(t instanceof pb)n={update:lw(e,t.key,t.value)};else if(t instanceof bb)n={delete:rw(e,t.key)};else if(t instanceof vb)n={update:lw(e,t.key,t.data),updateMask:bw(t.fieldMask)};else{if(!(t instanceof wb))return fg();n={verify:rw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Xk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Jk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof eb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nb)return{fieldPath:t.field.canonicalString(),increment:n.wt};throw fg()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Zb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fg()}(e,t.precondition)),n}function fw(e,t){return{documents:[aw(e,t.path)]}}function hw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=aw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=aw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return kw(K_.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:gw(e.field),direction:vw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=Yb(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function dw(e){var t=ow(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){hg(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=pw(e);return t instanceof K_&&Q_(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new z_(_w(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Qg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new U_(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new U_(n,t)}(n.endAt)),dk(t,i,s,o,u,"F",l,c)}function pw(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=_w(e.unaryFilter.field);return W_.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=_w(e.unaryFilter.field);return W_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_w(e.unaryFilter.field);return W_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_w(e.unaryFilter.field);return W_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return fg()}}(e):void 0!==e.fieldFilter?function(e){return W_.create(_w(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fg()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return K_.create(e.compositeFilter.filters.map((function(e){return pw(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fg()}}(e.compositeFilter.op))}(e):fg()}function vw(e){return Kb[e]}function mw(e){return Gb[e]}function yw(e){return Qb[e]}function gw(e){return{fieldPath:e.canonicalString()}}function _w(e){return Dg.fromServerFormat(e.fieldPath)}function kw(e){return e instanceof W_?function(e){if("=="===e.op){if(R_(e.value))return{unaryFilter:{field:gw(e.field),op:"IS_NAN"}};if(A_(e.value))return{unaryFilter:{field:gw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(R_(e.value))return{unaryFilter:{field:gw(e.field),op:"IS_NOT_NAN"}};if(A_(e.value))return{unaryFilter:{field:gw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gw(e.field),op:mw(e.op),value:e.value}}}(e):e instanceof K_?function(e){var t=e.getFilters().map((function(e){return kw(e)}));return 1===t.length?t[0]:{compositeFilter:{op:yw(e.op),filters:t}}}(e):fg()}function bw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ww(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Ew=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Pg.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:c_.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;c(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return p(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Sw=p((function e(t){c(this,e),this.le=t}));function xw(e){var t=dw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?wk(t,t.limit,"L"):t}var Cw=function(){function e(){c(this,e)}return p(e,[{key:"_e",value:function(e,t){this.we(e,t),t.me()}},{key:"we",value:function(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(d_(e.integerValue));else if("doubleValue"in e){var n=d_(e.doubleValue);isNaN(n)?this.ge(t,13):(this.ge(t,15),$g(n)?t.ye(0):t.ye(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe("".concat(r.seconds||"")),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(p_(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?L_(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):fg()}},{key:"Ie",value:function(e,t){this.ge(t,25),this.Pe(e,t)}},{key:"Pe",value:function(e,t){t.pe(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ge(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Ie(a,t),this.we(n[a],t)}}},{key:"ve",value:function(e,t){var n=e.values||[];this.ge(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.we(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"Ae",value:function(e,t){var n=this;this.ge(t,37),Lg.fromName(e).path.forEach((function(e){n.ge(t,60),n.Pe(e,t)}))}},{key:"ge",value:function(e,t){e.ye(t)}},{key:"Te",value:function(e){e.ye(2)}}]),e}();Cw.be=new Cw;var Tw=function(){function e(){c(this,e),this.sn=new Iw}return p(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),Wg.resolve()}},{key:"getCollectionParents",value:function(e,t){return Wg.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Wg.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Wg.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Wg.resolve(null)}},{key:"getIndexType",value:function(e,t){return Wg.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Wg.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Wg.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Wg.resolve(Ug.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Wg.resolve(Ug.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Wg.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Wg.resolve()}}]),e}(),Iw=function(){function e(){c(this,e),this.index={}}return p(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new o_(Rg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new o_(Rg.comparator)).toArray()}}]),e}();new Uint8Array(0);var Nw=function(){function e(t,n,r){c(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return p(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Nw.DEFAULT_COLLECTION_PERCENTILE=10,Nw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nw.DEFAULT=new Nw(41943040,Nw.DEFAULT_COLLECTION_PERCENTILE,Nw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nw.DISABLED=new Nw(-1,0,0);var Pw=function(){function e(t){c(this,e),this.xn=t}return p(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"Nn",value:function(){return new e(0)}},{key:"kn",value:function(){return new e(-1)}}]),e}();var Aw=function(){function e(){c(this,e),this.changes=new Pk((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return p(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,j_.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Wg.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Rw=p((function e(t,n){c(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Ow=function(){function e(t,n,r,i){c(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return p(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&fb(r.mutation,e,u_.empty(),Ng.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Bk()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bk(),i=Mk();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Dk();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Mk();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Bk())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Rk(),a=jk(),o=jk();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof vb)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),fb(o.mutation,t,o.mutation.getFieldMask(),Ng.now())):a.set(t.key,u_.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Rw(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=jk(),i=new r_((function(e,t){return e-t})),a=Bk();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||u_.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Bk()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=Fk();l.forEach((function(e){if(!a.has(e)){var n=lb(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return Wg.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Lg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Wg.resolve(Mk()),s=-1,u=a;return o.next((function(t){return Wg.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Wg.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Bk())})).next((function(e){return{batchId:s,changes:Lk(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Lg(t)).next((function(e){var t=Dk();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Dk();return this.indexManager.getCollectionParents(e,i).next((function(o){return Wg.forEach(o,(function(o){var s=function(e,t){return new hk(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,j_.newInvalidDocument(r)))}));var n=Dk();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&fb(a.mutation,i,u_.empty(),Ng.now()),Ck(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Dw=function(){function e(t){c(this,e),this.serializer=t,this.us=new Map,this.cs=new Map}return p(e,[{key:"getBundleMetadata",value:function(e,t){return Wg.resolve(this.us.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.us.set(t.id,{id:(n=t).id,version:n.version,createTime:ew(n.createTime)}),Wg.resolve()}},{key:"getNamedQuery",value:function(e,t){return Wg.resolve(this.cs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cs.set(t.name,function(e){return{name:e.name,query:xw(e.bundledQuery),readTime:ew(e.readTime)}}(t)),Wg.resolve()}}]),e}(),Lw=function(){function e(){c(this,e),this.overlays=new r_(Lg.comparator),this.hs=new Map}return p(e,[{key:"getOverlay",value:function(e,t){return Wg.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Mk();return Wg.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.de(e,t,i)})),Wg.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hs.delete(n)),Wg.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Mk(),i=t.length+1,a=new Lg(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Wg.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new r_((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Mk(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Mk(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Wg.resolve(u)}},{key:"de",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hs.get(r.largestBatchId).delete(n.key);this.hs.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new xb(t,n));var a=this.hs.get(t);void 0===a&&(a=Bk(),this.hs.set(t,a)),this.hs.set(t,a.add(n.key))}}]),e}(),Mw=function(){function e(){c(this,e),this.ls=new o_(Fw.fs),this.ds=new o_(Fw._s)}return p(e,[{key:"isEmpty",value:function(){return this.ls.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Fw(e,t);this.ls=this.ls.add(n),this.ds=this.ds.add(n)}},{key:"ws",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.gs(new Fw(e,t))}},{key:"ys",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ps",value:function(e){var t=this,n=new Lg(new Rg([])),r=new Fw(n,e),i=new Fw(n,e+1),a=[];return this.ds.forEachInRange([r,i],(function(e){t.gs(e),a.push(e.key)})),a}},{key:"Is",value:function(){var e=this;this.ls.forEach((function(t){return e.gs(t)}))}},{key:"gs",value:function(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}},{key:"Ts",value:function(e){var t=new Lg(new Rg([])),n=new Fw(t,e),r=new Fw(t,e+1),i=Bk();return this.ds.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Fw(e,0),n=this.ls.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Fw=function(){function e(t,n){c(this,e),this.key=t,this.Es=n}return p(e,null,[{key:"fs",value:function(e,t){return Lg.comparator(e.key,t.key)||Tg(e.Es,t.Es)}},{key:"_s",value:function(e,t){return Tg(e.Es,t.Es)||Lg.comparator(e.key,t.key)}}]),e}(),jw=function(){function e(t,n){c(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new o_(Fw.fs)}return p(e,[{key:"checkEmpty",value:function(e){return Wg.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Eb(i,t,n,r);this.mutationQueue.push(a);var o,s=C(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new Fw(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return Wg.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Wg.resolve(this.vs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ps(n),i=r<0?0:r;return Wg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Wg.resolve(0===this.mutationQueue.length?-1:this.As-1)}},{key:"getAllMutationBatches",value:function(e){return Wg.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Fw(t,0),i=new Fw(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.vs(e.Es);a.push(t)})),Wg.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new o_(Tg);return t.forEach((function(e){var t=new Fw(e,0),i=new Fw(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.Es)}))})),Wg.resolve(this.bs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Lg.isDocumentKey(i)||(i=i.child(""));var a=new Fw(new Lg(i),0),o=new o_(Tg);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Es)),!0)}),a),Wg.resolve(this.bs(o))}},{key:"bs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.vs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;hg(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return Wg.forEach(t.mutations,(function(i){var a=new Fw(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Fw(t,0),r=this.Rs.firstAfterOrEqual(n);return Wg.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Wg.resolve()}},{key:"Vs",value:function(e,t){return this.Ps(e)}},{key:"Ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"vs",value:function(e){var t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Uw=function(){function e(t){c(this,e),this.Ss=t,this.docs=new r_(Lg.comparator),this.size=0}return p(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ss(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Wg.resolve(n?n.document.mutableCopy():j_.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Rk();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():j_.newInvalidDocument(e))})),Wg.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Rk(),a=t.path,o=new Lg(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),l=u.key,c=u.value.document;if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||Vg(jg(c),n)<=0||(r.has(c.key)||Ck(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return Wg.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){fg()}},{key:"Ds",value:function(e,t){return Wg.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Vw(this)}},{key:"getSize",value:function(e){return Wg.resolve(this.size)}}]),e}(),Vw=function(e){m(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).rs=e,r}return p(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.rs.addEntry(e,i)):t.rs.removeEntry(r)})),Wg.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.rs.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.rs.getEntries(e,t)}}]),n}(Aw),Bw=function(){function e(t){c(this,e),this.persistence=t,this.Cs=new Pk((function(e){return lk(e)}),ck),this.lastRemoteSnapshotVersion=Pg.min(),this.highestTargetId=0,this.xs=0,this.Ns=new Mw,this.targetCount=0,this.ks=Pw.Nn()}return p(e,[{key:"forEachTarget",value:function(e,t){return this.Cs.forEach((function(e,n){return t(n)})),Wg.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Wg.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Wg.resolve(this.xs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.ks.next(),Wg.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.xs&&(this.xs=t),Wg.resolve()}},{key:"$n",value:function(e){this.Cs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ks=new Pw(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.$n(t),this.targetCount+=1,Wg.resolve()}},{key:"updateTargetData",value:function(e,t){return this.$n(t),Wg.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,Wg.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Cs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Wg.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Wg.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cs.get(t)||null;return Wg.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ns.ws(t,n),Wg.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ns.ys(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Wg.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ns.ps(t),Wg.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ns.Ts(t);return Wg.resolve(n)}},{key:"containsKey",value:function(e,t){return Wg.resolve(this.Ns.containsKey(t))}}]),e}(),zw=function(){function e(t,n){var r=this;c(this,e),this.Ms={},this.overlays={},this.Os=new Gg(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new Bw(this),this.indexManager=new Tw,this.remoteDocumentCache=new Uw((function(e){return r.referenceDelegate.Bs(e)})),this.serializer=new Sw(n),this.Ls=new Dw(this.serializer)}return p(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.$s=!1,Promise.resolve()}},{key:"started",get:function(){return this.$s}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Lw,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ms[e.toKey()];return n||(n=new jw(t,this.referenceDelegate),this.Ms[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;sg("MemoryPersistence","Starting transaction:",e);var i=new qw(this.Os.next());return this.referenceDelegate.qs(),n(i).next((function(e){return r.referenceDelegate.Us(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ks",value:function(e,t){return Wg.or(Object.values(this.Ms).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),qw=function(e){m(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return p(n)}(zg),Hw=function(){function e(t){c(this,e),this.persistence=t,this.Gs=new Mw,this.Qs=null}return p(e,[{key:"zs",get:function(){if(this.Qs)return this.Qs;throw fg()}},{key:"addReference",value:function(e,t,n){return this.Gs.addReference(n,t),this.zs.delete(n.toString()),Wg.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gs.removeReference(n,t),this.zs.add(n.toString()),Wg.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zs.add(t.toString()),Wg.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gs.ps(t.targetId).forEach((function(e){return n.zs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qs",value:function(){this.Qs=new Set}},{key:"Us",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wg.forEach(this.zs,(function(r){var i=Lg.fromPath(r);return t.Ws(e,i).next((function(e){e||n.removeEntry(i,Pg.min())}))})).next((function(){return t.Qs=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ws(e,t).next((function(e){e?n.zs.delete(t.toString()):n.zs.add(t.toString())}))}},{key:"Bs",value:function(e){return 0}},{key:"Ws",value:function(e,t){var n=this;return Wg.or([function(){return Wg.resolve(n.Gs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ks(e,t)}])}}],[{key:"js",value:function(t){return new e(t)}}]),e}();var Ww=function(){function e(t,n,r,i){c(this,e),this.targetId=t,this.fromCache=n,this.$i=r,this.Fi=i}return p(e,null,[{key:"Bi",value:function(t,n){var r,i=Bk(),a=Bk(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Kw=function(){function e(){c(this,e),this.Li=!1}return p(e,[{key:"initialize",value:function(e,t){this.qi=e,this.indexManager=t,this.Li=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ui(e,t).next((function(a){return a||i.Ki(e,t,r,n)})).next((function(n){return n||i.Gi(e,t)}))}},{key:"Ui",value:function(e,t){var n=this;if(vk(t))return Wg.resolve(null);var r=kk(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=wk(t,null,"F"),r=kk(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Bk.apply(void 0,l(i));return n.qi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Qi(t,i);return n.ji(t,o,a,r.readTime)?n.Ui(e,wk(t,null,"F")):n.zi(e,o,t,r)}))}))})))}))}},{key:"Ki",value:function(e,t,n,r){var i=this;return vk(t)||r.isEqual(Pg.min())?this.Gi(e,t):this.qi.getDocuments(e,n).next((function(a){var o=i.Qi(t,a);return i.ji(t,o,n,r)?i.Gi(e,t):(og()<=ma.DEBUG&&sg("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xk(t)),i.zi(e,o,t,Fg(r,-1)))}))}},{key:"Qi",value:function(e,t){var n=new o_(Ik(e));return t.forEach((function(t,r){Ck(e,r)&&(n=n.add(r))})),n}},{key:"ji",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Gi",value:function(e,t){return og()<=ma.DEBUG&&sg("QueryEngine","Using full collection scan to execute query:",xk(t)),this.qi.getDocumentsMatchingQuery(e,t,Ug.min())}},{key:"zi",value:function(e,t,n,r){return this.qi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Gw=function(){function e(t,n,r,i){c(this,e),this.persistence=t,this.Wi=n,this.serializer=i,this.Hi=new r_(Tg),this.Ji=new Pk((function(e){return lk(e)}),ck),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(r)}return p(e,[{key:"Zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ow(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Hi)}))}}]),e}();function Qw(e,t,n,r){return new Gw(e,t,n,r)}function $w(e,t){return Yw.apply(this,arguments)}function Yw(){return Yw=ti(Zr().mark((function e(t,n){var r;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dg(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Bk(),u=C(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,f=C(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;s=s.add(h.key)}}catch(_){f.e(_)}finally{f.f()}}}catch(_){u.e(_)}finally{u.f()}var d,p=C(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=C(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(_){y.e(_)}finally{y.f()}}}catch(_){p.e(_)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{tr:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Yw.apply(this,arguments)}function Xw(e,t){var n=dg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Wg.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);hg(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Bk(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Jw(e){var t=dg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Fs.getLastRemoteSnapshotVersion(e)}))}function Zw(e,t){var n=dg(e),r=t.snapshotVersion,i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Fs.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?l=l.withResumeToken(c_.EMPTY_BYTE_STRING,Pg.min()).withLastLimboFreeSnapshotVersion(Pg.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Fs.updateTargetData(e,l))}}));var s=Rk(),u=Bk();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(eE(e,a,t.documentUpdates).next((function(e){s=e.er,u=e.nr}))),!r.isEqual(Pg.min())){var l=n.Fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return Wg.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Hi=i,e}))}function eE(e,t,n){var r=Bk(),i=Bk();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Rk();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Pg.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):sg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{er:r,nr:i}}))}function tE(e,t){var n=dg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function nE(e,t){var n=dg(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Fs.getTargetData(e,t).next((function(i){return i?(r=i,Wg.resolve(r)):n.Fs.allocateTargetId(e).next((function(i){return r=new Ew(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Hi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(e.targetId,e),n.Ji.set(t,e.targetId)),e}))}function rE(e,t,n){return iE.apply(this,arguments)}function iE(){return iE=ti(Zr().mark((function e(t,n,r){var i,a,o;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dg(t),a=i.Hi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Kg(e.t1)){e.next=12;break}throw e.t1;case 12:sg("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Hi=i.Hi.remove(n),i.Ji.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),iE.apply(this,arguments)}function aE(e,t,n){var r=dg(e),i=Pg.min(),a=Bk();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=dg(e),i=r.Ji.get(n);return void 0!==i?Wg.resolve(r.Hi.get(i)):r.Fs.getTargetData(t,n)}(r,e,kk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Wi.getDocumentsMatchingQuery(e,t,n?i:Pg.min(),n?a:Bk())})).next((function(e){return oE(r,Tk(t),e),{documents:e,sr:a}}))}))}function oE(e,t,n){var r=e.Yi.get(t)||Pg.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Yi.set(t,r)}var sE=function(){function e(){c(this,e),this.activeTargetIds=qk()}return p(e,[{key:"hr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ar",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),uE=function(){function e(){c(this,e),this.Wr=new sE,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return p(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Hr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Wr.lr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Hr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Wr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Wr=new sE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),lE=function(){function e(){c(this,e)}return p(e,[{key:"Jr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),cE=function(){function e(){var t=this;c(this,e),this.Yr=function(){return t.Xr()},this.Zr=function(){return t.eo()},this.no=[],this.so()}return p(e,[{key:"Jr",value:function(e){this.no.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}},{key:"so",value:function(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}},{key:"Xr",value:function(){sg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"eo",value:function(){sg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),fE=null;function hE(){return null===fE?fE=268435456+Math.round(2147483648*Math.random()):fE++,"0x"+fE.toString(16)}var dE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},pE=function(){function e(t){c(this,e),this.io=t.io,this.ro=t.ro}return p(e,[{key:"oo",value:function(e){this.uo=e}},{key:"co",value:function(e){this.ao=e}},{key:"onMessage",value:function(e){this.ho=e}},{key:"close",value:function(){this.ro()}},{key:"send",value:function(e){this.io(e)}},{key:"lo",value:function(){this.uo()}},{key:"fo",value:function(e){this.ao(e)}},{key:"_o",value:function(e){this.ho(e)}}]),e}(),vE="WebChannelConnection",mE=function(e){m(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return p(n,[{key:"Eo",value:function(e,t,n,r){var i=hE();return new Promise((function(a,o){var s=new Zy;s.setWithCredentials(!0),s.listenOnce(Qy.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Gy.NO_ERROR:var t=s.getResponseJson();sg(vE,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Gy.TIMEOUT:sg(vE,"RPC '".concat(e,"' ").concat(i," timed out")),o(new vg(pg.DEADLINE_EXCEEDED,"Request time out"));break;case Gy.HTTP_ERROR:var n=s.getStatus();if(sg(vE,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(pg).indexOf(t)>=0?t:pg.UNKNOWN}(u.status);o(new vg(l,u.message))}else o(new vg(pg.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new vg(pg.UNAVAILABLE,"Connection failed."));break;default:fg()}}finally{sg(vE,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);sg(vE,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=hE(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Wy(),o=Ky(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Xy({})),this.To(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var u=i.join("");sg(vE,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),s);var l=a.createWebChannel(u,s),c=!1,f=!1,h=new pE({io:function(t){f?sg(vE,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(c||(sg(vE,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),c=!0),sg(vE,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},ro:function(){return l.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(l,Jy.EventType.OPEN,(function(){f||sg(vE,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(l,Jy.EventType.CLOSE,(function(){f||(f=!0,sg(vE,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.fo())})),d(l,Jy.EventType.ERROR,(function(t){f||(f=!0,lg(vE,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.fo(new vg(pg.UNAVAILABLE,"The operation could not be completed")))})),d(l,Jy.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];hg(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){sg(vE,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=_b[e];if(void 0!==t)return Ib(t)}(s),c=o.message;void 0===u&&(u=pg.INTERNAL,c="Unknown error status: "+s+" with message "+o.message),f=!0,h.fo(new vg(u,c)),l.close()}else sg(vE,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h._o(i)}})),d(o,$y.STAT_EVENT,(function(t){t.stat===Yy.PROXY?sg(vE,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Yy.NOPROXY&&sg(vE,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.lo()}),0),h}}]),n}(function(){function e(t){c(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.wo=n+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return p(e,[{key:"yo",get:function(){return!1}},{key:"po",value:function(e,t,n,r,i){var a=hE(),o=this.Io(e,t);sg("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.To(s,r,i),this.Eo(e,o,s,n).then((function(t){return sg("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw lg("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Ao",value:function(e,t,n,r,i,a){return this.po(e,t,n,r,i)}},{key:"To",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ig,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Io",value:function(e,t){var n=dE[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}}]),e}());function yE(){return"undefined"!=typeof document?document:null}function gE(e){return new $b(e,!0)}var _E=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;c(this,e),this.si=t,this.timerId=n,this.vo=r,this.Po=i,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}return p(e,[{key:"reset",value:function(){this.Vo=0}},{key:"Co",value:function(){this.Vo=this.bo}},{key:"xo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&sg("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Vo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.So=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Do=Date.now(),e()})),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}},{key:"ko",value:function(){null!==this.So&&(this.So.skipDelay(),this.So=null)}},{key:"cancel",value:function(){null!==this.So&&(this.So.cancel(),this.So=null)}},{key:"No",value:function(){return(Math.random()-.5)*this.Vo}}]),e}(),kE=function(){function e(t,n,r,i,a,o,s,u){c(this,e),this.si=t,this.Mo=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new _E(t,n)}return p(e,[{key:"qo",value:function(){return 1===this.state||5===this.state||this.Uo()}},{key:"Uo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Ko()}},{key:"stop",value:function(){var e=ti(Zr().mark((function e(){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.qo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Go",value:function(){this.state=0,this.Lo.reset()}},{key:"Qo",value:function(){var e=this;this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,(function(){return e.jo()})))}},{key:"zo",value:function(e){this.Wo(),this.stream.send(e)}},{key:"jo",value:function(){var e=ti(Zr().mark((function e(){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wo",value:function(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"close",value:function(){var e=ti(Zr().mark((function e(t,n){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,4!==t?this.Lo.reset():n&&n.code===pg.RESOURCE_EXHAUSTED?(ug(n.toString()),ug("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===pg.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Jo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.co(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Jo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=E(t,2),i=r[0],a=r[1];e.$o===n&&e.Xo(i,a)}),(function(n){t((function(){var t=new vg(pg.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Zo(t)}))}))}},{key:"Xo",value:function(e,t){var n=this,r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo((function(){r((function(){return n.state=2,n.Bo=n.si.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Uo()&&(n.state=3),Promise.resolve()})),n.listener.oo()}))})),this.stream.co((function(e){r((function(){return n.Zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Ko",value:function(){var e=this;this.state=5,this.Lo.xo(ti(Zr().mark((function t(){return Zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Zo",value:function(e){return sg("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Yo",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.$o===e?n():(sg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),bE=function(e){m(n,e);var t=k(n);function n(e,r,i,a,o,s){var u;return c(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return p(n,[{key:"tu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.Lo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(hg(void 0===t||"string"==typeof t),c_.fromBase64String(t||"")):(hg(void 0===t||t instanceof Uint8Array),c_.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?pg.UNKNOWN:Ib(e.code);return new vg(t,e.message||"")}(o);n=new Bb(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=iw(e,u.document.name),c=ew(u.document.updateTime),f=u.document.createTime?ew(u.document.createTime):Pg.min(),h=new M_({mapValue:{fields:u.document.fields}}),d=j_.newFoundDocument(l,c,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Ub(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=iw(e,m.document),g=m.readTime?ew(m.readTime):Pg.min(),_=j_.newNoDocument(y,g),k=m.removedTargetIds||[];n=new Ub([],k,_.key,_)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=iw(e,b.document),E=b.removedTargetIds||[];n=new Ub([],E,w,null)}else{if(!("filter"in t))return fg();t.filter;var S=t.filter;S.targetId;var x=S.count,C=void 0===x?0:x,T=S.unchangedNames,I=new Cb(C,T),N=S.targetId;n=new Vb(N,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Pg.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Pg.min():t.readTime?ew(t.readTime):Pg.min()}(e);return this.listener.eu(t,n)}},{key:"nu",value:function(e){var t={};t.database=sw(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=fk(r)?{documents:fw(e,r)}:{query:hw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Jb(e,t.resumeToken);var i=Yb(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Pg.min())>0){n.readTime=Xb(e,t.snapshotVersion.toTimestamp());var a=Yb(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fg()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.zo(t)}},{key:"su",value:function(e){var t={};t.database=sw(this.serializer),t.removeTarget=e,this.zo(t)}}]),n}(kE),wE=function(e){m(n,e);var t=k(n);function n(e,r,i,a,o,s){var u;return c(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.iu=!1,u}return p(n,[{key:"ru",get:function(){return this.iu}},{key:"start",value:function(){this.iu=!1,this.lastStreamToken=void 0,Ad(y(n.prototype),"start",this).call(this)}},{key:"Jo",value:function(){this.iu&&this.ou([])}},{key:"tu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(hg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();var t=function(e,t){return e&&e.length>0?(hg(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ew(e.updateTime):ew(t);return n.isEqual(Pg.min())&&(n=ew(t)),new ab(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ew(e.commitTime);return this.listener.uu(n,t)}return hg(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}},{key:"au",value:function(){var e={};e.database=sw(this.serializer),this.zo(e)}},{key:"ou",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return cw(t.serializer,e)}))};this.zo(n)}}]),n}(kE),EE=function(e){m(n,e);var t=k(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.hu=!1,o}return p(n,[{key:"lu",value:function(){if(this.hu)throw new vg(pg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"po",value:function(e,t,n){var r=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=E(i,2),o=a[0],s=a[1];return r.connection.po(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===pg.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new vg(pg.UNKNOWN,e.toString())}))}},{key:"Ao",value:function(e,t,n,r){var i=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=E(a,2),s=o[0],u=o[1];return i.connection.Ao(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===pg.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new vg(pg.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.hu=!0}}]),n}(function(){return p((function e(){c(this,e)}))}());var SE=function(){function e(t,n){c(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}return p(e,[{key:"mu",value:function(){var e=this;0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.yu("Backend didn't respond within 10 seconds."),e.gu("Offline"),Promise.resolve()})))}},{key:"pu",value:function(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.gu("Offline")))}},{key:"set",value:function(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}},{key:"gu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"yu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.wu?(ug(t),this.wu=!1):sg("OnlineStateTracker",t)}},{key:"Iu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),xE=p((function e(t,n,r,i,a){var o=this;c(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr((function(e){r.enqueueAndForget(ti(Zr().mark((function e(){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ME(o),!e.t0){e.next=5;break}return sg("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ti(Zr().mark((function e(t){var n;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=dg(t)).Au.add(4),e.next=4,IE(n);case 4:return n.Pu.set("Unknown"),n.Au.delete(4),e.next=8,CE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Pu=new SE(r,i)}));function CE(e){return TE.apply(this,arguments)}function TE(){return TE=ti(Zr().mark((function e(t){var n,r,i;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ME(t)){e.next=18;break}n=C(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),TE.apply(this,arguments)}function IE(e){return NE.apply(this,arguments)}function NE(){return NE=ti(Zr().mark((function e(t){var n,r,i;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),NE.apply(this,arguments)}function PE(e,t){var n=dg(e);n.Eu.has(t.targetId)||(n.Eu.set(t.targetId,t),LE(n)?DE(n):fS(n).Uo()&&RE(n,t))}function AE(e,t){var n=dg(e),r=fS(n);n.Eu.delete(t),r.Uo()&&OE(n,t),0===n.Eu.size&&(r.Uo()?r.Qo():ME(n)&&n.Pu.set("Unknown"))}function RE(e,t){if(e.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Pg.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fS(e).nu(t)}function OE(e,t){e.bu.Lt(t),fS(e).su(t)}function DE(e){e.bu=new qb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},he:function(t){return e.Eu.get(t)||null},oe:function(){return e.datastore.serializer.databaseId}}),fS(e).start(),e.Pu.mu()}function LE(e){return ME(e)&&!fS(e).qo()&&e.Eu.size>0}function ME(e){return 0===dg(e).Au.size}function FE(e){e.bu=void 0}function jE(e){return UE.apply(this,arguments)}function UE(){return UE=ti(Zr().mark((function e(t){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Eu.forEach((function(e,n){RE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function VE(e,t){return BE.apply(this,arguments)}function BE(){return BE=ti(Zr().mark((function e(t,n){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:FE(t),LE(t)?(t.Pu.pu(n),DE(t)):t.Pu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function zE(e,t,n){return qE.apply(this,arguments)}function qE(){return qE=ti(Zr().mark((function e(t,n,r){var i;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Pu.set("Online"),!(n instanceof Bb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ti(Zr().mark((function e(t,n){var r,i,a,o;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Eu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Eu.delete(o),t.bu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),sg("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,HE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ub?t.bu.Wt(n):n instanceof Vb?t.bu.ee(n):t.bu.Yt(n),r.isEqual(Pg.min())){e.next=29;break}return e.prev=14,e.next=17,Jw(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.bu.ue(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Eu.get(r);i&&e.Eu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Eu.get(t);if(r){e.Eu.set(t,r.withResumeToken(c_.EMPTY_BYTE_STRING,r.snapshotVersion)),OE(e,t);var i=new Ew(r.target,t,n,r.sequenceNumber);RE(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),sg("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,HE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),qE.apply(this,arguments)}function HE(e,t,n){return WE.apply(this,arguments)}function WE(){return WE=ti(Zr().mark((function e(t,n,r){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Kg(n)){e.next=2;break}throw n;case 2:return t.Au.add(1),e.next=5,IE(t);case 5:t.Pu.set("Offline"),r||(r=function(){return Jw(t.localStore)}),t.asyncQueue.enqueueRetryable(ti(Zr().mark((function e(){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sg("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Au.delete(1),e.next=6,CE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),WE.apply(this,arguments)}function KE(e,t){return t().catch((function(n){return HE(e,n,t)}))}function GE(e){return QE.apply(this,arguments)}function QE(){return QE=ti(Zr().mark((function e(t){var n,r,i,a;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=dg(t),r=hS(n),i=n.Tu.length>0?n.Tu[n.Tu.length-1].batchId:-1;case 2:if(!$E(n)){e.next=19;break}return e.prev=3,e.next=6,tE(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Tu.length&&r.Qo(),e.abrupt("break",19);case 10:i=a.batchId,YE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,HE(n,e.t0);case 17:e.next=2;break;case 19:XE(n)&&JE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),QE.apply(this,arguments)}function $E(e){return ME(e)&&e.Tu.length<10}function YE(e,t){e.Tu.push(t);var n=hS(e);n.Uo()&&n.ru&&n.ou(t.mutations)}function XE(e){return ME(e)&&!hS(e).qo()&&e.Tu.length>0}function JE(e){hS(e).start()}function ZE(e){return eS.apply(this,arguments)}function eS(){return eS=ti(Zr().mark((function e(t){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hS(t).au();case 1:case"end":return e.stop()}}),e)}))),eS.apply(this,arguments)}function tS(e){return nS.apply(this,arguments)}function nS(){return nS=ti(Zr().mark((function e(t){var n,r,i,a;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=hS(t),r=C(t.Tu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.ou(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),nS.apply(this,arguments)}function rS(e,t,n){return iS.apply(this,arguments)}function iS(){return iS=ti(Zr().mark((function e(t,n,r){var i,a;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Tu.shift(),a=Sb.from(i,n,r),e.next=3,KE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,GE(t);case 5:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function aS(e,t){return oS.apply(this,arguments)}function oS(){return oS=ti(Zr().mark((function e(t,n){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&hS(t).ru,!e.t0){e.next=4;break}return e.next=4,function(){var e=ti(Zr().mark((function e(t,n){var r,i;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Tb(i=n.code)||i===pg.ABORTED){e.next=7;break}return r=t.Tu.shift(),hS(t).Go(),e.next=5,KE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,GE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:XE(t)&&JE(t);case 5:case"end":return e.stop()}}),e)}))),oS.apply(this,arguments)}function sS(e,t){return uS.apply(this,arguments)}function uS(){return uS=ti(Zr().mark((function e(t,n){var r,i;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=dg(t)).asyncQueue.verifyOperationInProgress(),sg("RemoteStore","RemoteStore received new credentials"),i=ME(r),r.Au.add(3),e.next=6,IE(r);case 6:return i&&r.Pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Au.delete(3),e.next=12,CE(r);case 12:case"end":return e.stop()}}),e)}))),uS.apply(this,arguments)}function lS(e,t){return cS.apply(this,arguments)}function cS(){return cS=ti(Zr().mark((function e(t,n){var r;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dg(t),!n){e.next=7;break}return r.Au.delete(2),e.next=5,CE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Au.add(2),e.next=12,IE(r);case 12:r.Pu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),cS.apply(this,arguments)}function fS(e){return e.Vu||(e.Vu=function(e,t,n){var r=dg(e);return r.lu(),new bE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:jE.bind(null,e),co:VE.bind(null,e),eu:zE.bind(null,e)}),e.Ru.push(function(){var t=ti(Zr().mark((function t(n){return Zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Vu.Go(),LE(e)?DE(e):e.Pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Vu.stop();case 6:FE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Vu}function hS(e){return e.Su||(e.Su=function(e,t,n){var r=dg(e);return r.lu(),new wE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:ZE.bind(null,e),co:aS.bind(null,e),cu:tS.bind(null,e),uu:rS.bind(null,e)}),e.Ru.push(function(){var t=ti(Zr().mark((function t(n){return Zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Su.Go(),t.next=4,GE(e);case 4:t.next=9;break;case 6:return t.next=8,e.Su.stop();case 8:e.Tu.length>0&&(sg("RemoteStore","Stopping write stream with ".concat(e.Tu.length," pending writes")),e.Tu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}var dS=function(){function e(t,n,r,i,a){c(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new mg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return p(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vg(pg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function pS(e,t){if(ug("AsyncQueue","".concat(t,": ").concat(e)),Kg(e))return new vg(pg.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var vS=function(){function e(t){c(this,e),this.comparator=t?function(e,n){return t(e,n)||Lg.comparator(e.key,n.key)}:function(e,t){return Lg.comparator(e.key,t.key)},this.keyedMap=Dk(),this.sortedSet=new r_(this.comparator)}return p(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),mS=function(){function e(){c(this,e),this.Du=new r_(Lg.comparator)}return p(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Du.get(t);n?0!==e.type&&3===n.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==n.type?this.Du=this.Du.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Du=this.Du.remove(t):1===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):fg():this.Du=this.Du.insert(t,e)}},{key:"Cu",value:function(){var e=[];return this.Du.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),yS=function(){function e(t,n,r,i,a,o,s,u,l){c(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}return p(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ek(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,vS.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),gS=p((function e(){c(this,e),this.xu=void 0,this.listeners=[]})),_S=p((function e(){c(this,e),this.queries=new Pk((function(e){return Sk(e)}),Ek),this.onlineState="Unknown",this.Nu=new Set}));function kS(e,t){return bS.apply(this,arguments)}function bS(){return bS=ti(Zr().mark((function e(t,n){var r,i,a,o,s;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dg(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new gS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.xu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=pS(e.t0,"Initialization of query '".concat(xk(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ku(r.onlineState),o.xu&&n.Mu(o.xu)&&CS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),bS.apply(this,arguments)}function wS(e,t){return ES.apply(this,arguments)}function ES(){return ES=ti(Zr().mark((function e(t,n){var r,i,a,o,s;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dg(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),ES.apply(this,arguments)}function SS(e,t){var n,r=dg(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=C(u.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Mu(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}u.xu=o}}}catch(f){a.e(f)}finally{a.f()}i&&CS(r)}function xS(e,t,n){var r=dg(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function CS(e){e.Nu.forEach((function(e){e.next()}))}var TS=function(){function e(t,n,r){c(this,e),this.query=t,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}return p(e,[{key:"Mu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new yS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),a=!0):this.Lu(e,this.onlineState)&&(this.qu(e),a=!0),this.Fu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"ku",value:function(e){this.onlineState=e;var t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}},{key:"Lu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Uu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Bu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"qu",value:function(e){e=yS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}]),e}();var IS=p((function e(t){c(this,e),this.key=t})),NS=p((function e(t){c(this,e),this.key=t})),PS=function(){function e(t,n){c(this,e),this.query=t,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Bk(),this.mutatedKeys=Bk(),this.Zu=Ik(t),this.tc=new vS(this.Zu)}return p(e,[{key:"ec",get:function(){return this.Ju}},{key:"nc",value:function(e,t){var n=this,r=t?t.sc:new mS,i=t?t.tc:this.tc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Ck(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ic(c,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Zu(f,u)>0||l&&n.Zu(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(u||l)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{tc:o,sc:r,ji:s,mutatedKeys:a}}},{key:"ic",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;var a=e.sc.Cu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fg()}};return n(e)-n(t)}(e.type,t.type)||r.Zu(e.doc,t.doc)})),this.rc(n);var o=t?this.oc():[],s=0===this.Xu.size&&this.current?1:0,u=s!==this.Yu;return this.Yu=s,0!==a.length||u?{snapshot:new yS(this.query,e.tc,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}},{key:"ku",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new mS,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}},{key:"cc",value:function(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}},{key:"rc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ju=t.Ju.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ju=t.Ju.delete(e)})),this.current=e.current)}},{key:"oc",value:function(){var e=this;if(!this.current)return[];var t=this.Xu;this.Xu=Bk(),this.tc.forEach((function(t){e.cc(t.key)&&(e.Xu=e.Xu.add(t.key))}));var n=[];return t.forEach((function(t){e.Xu.has(t)||n.push(new NS(t))})),this.Xu.forEach((function(e){t.has(e)||n.push(new IS(e))})),n}},{key:"ac",value:function(e){this.Ju=e.sr,this.Xu=Bk();var t=this.nc(e.documents);return this.applyChanges(t,!0)}},{key:"hc",value:function(){return yS.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}]),e}(),AS=p((function e(t,n,r){c(this,e),this.query=t,this.targetId=n,this.view=r})),RS=p((function e(t){c(this,e),this.key=t,this.lc=!1})),OS=function(){function e(t,n,r,i,a,o){c(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new Pk((function(e){return Sk(e)}),Ek),this._c=new Map,this.wc=new Set,this.mc=new r_(Lg.comparator),this.gc=new Map,this.yc=new Mw,this.Ic={},this.Tc=new Map,this.Ec=Pw.kn(),this.onlineState="Unknown",this.Ac=void 0}return p(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ac}}]),e}();function DS(e,t){return LS.apply(this,arguments)}function LS(){return LS=ti(Zr().mark((function e(t,n){var r,i,a,o,s,u;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=lx(t),!(o=r.dc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.hc(),e.next=15;break;case 6:return e.next=8,nE(r.localStore,kk(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,MS(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&PE(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}function MS(e,t,n,r,i){return FS.apply(this,arguments)}function FS(){return FS=ti(Zr().mark((function e(t,n,r,i,a){var o,s,u,l,c,f;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=ti(Zr().mark((function e(t,n,r,i){var a,o,s;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.nc(r),e.t0=a.ji,!e.t0){e.next=6;break}return e.next=5,aE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.nc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(tx(t,n.targetId,s.uc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,aE(t.localStore,n,!0);case 3:return o=e.sent,s=new PS(n,o.sr),u=s.nc(o.documents),l=jb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),c=s.applyChanges(u,t.isPrimaryClient,l),tx(t,r,c.uc),f=new AS(n,r,s),e.abrupt("return",(t.dc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function jS(e,t){return US.apply(this,arguments)}function US(){return US=ti(Zr().mark((function e(t,n){var r,i,a;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=dg(t),i=r.dc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!Ek(e,n)}))),void r.dc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,rE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),AE(r.remoteStore,i.targetId),ZS(r,i.targetId)})).catch(qg);case 9:e.next=14;break;case 11:return ZS(r,i.targetId),e.next=14,rE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function VS(e,t,n){return BS.apply(this,arguments)}function BS(){return BS=ti(Zr().mark((function e(t,n,r){var i,a,o;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cx(t),e.prev=1,e.next=4,function(e,t){var n,r,i=dg(e),a=Ng.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Bk());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Rk(),u=Bk();return i.Xi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=C(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=hb(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new vb(l.key,c,F_(c.value.mapValue),ob.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Lk(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ic[e.currentUser.toKey()];r||(r=new r_(Tg)),r=r.insert(t,n),e.Ic[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ix(i,a.changes);case 9:return e.next=11,GE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=pS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),BS.apply(this,arguments)}function zS(e,t){return qS.apply(this,arguments)}function qS(){return qS=ti(Zr().mark((function e(t,n){var r,i;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dg(t),e.prev=1,e.next=4,Zw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.gc.get(t);n&&(hg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.lc=!0:e.modifiedDocuments.size>0?hg(n.lc):e.removedDocuments.size>0&&(hg(n.lc),n.lc=!1))})),e.next=8,ix(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,qg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),qS.apply(this,arguments)}function HS(e,t,n){var r=dg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.dc.forEach((function(e,n){var r=n.view.ku(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=dg(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ku(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&CS(n)}(r.eventManager,t),i.length&&r.fc.eu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function WS(e,t,n){return KS.apply(this,arguments)}function KS(){return KS=ti(Zr().mark((function e(t,n,r){var i,a,o,s,u,l;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=dg(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.gc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new r_(Lg.comparator)).insert(o,j_.newNoDocument(o,Pg.min())),u=Bk().add(o),l=new Fb(Pg.min(),new Map,new r_(Tg),s,u),e.next=9,zS(i,l);case 9:i.mc=i.mc.remove(o),i.gc.delete(n),rx(i),e.next=16;break;case 14:return e.next=16,rE(i.localStore,n,!1).then((function(){return ZS(i,n,r)})).catch(qg);case 16:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function GS(e,t){return QS.apply(this,arguments)}function QS(){return QS=ti(Zr().mark((function e(t,n){var r,i,a;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dg(t),i=n.batch.batchId,e.prev=1,e.next=4,Xw(r.localStore,n);case 4:return a=e.sent,JS(r,i,null),XS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ix(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,qg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),QS.apply(this,arguments)}function $S(e,t,n){return YS.apply(this,arguments)}function YS(){return YS=ti(Zr().mark((function e(t,n,r){var i,a;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=dg(t),e.prev=1,e.next=4,function(e,t){var n=dg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return hg(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,JS(i,n,r),XS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ix(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,qg(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),YS.apply(this,arguments)}function XS(e,t){(e.Tc.get(t)||[]).forEach((function(e){e.resolve()})),e.Tc.delete(t)}function JS(e,t,n){var r=dg(e),i=r.Ic[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ic[r.currentUser.toKey()]=i}}function ZS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.dc.delete(a),n&&e.fc.vc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.yc.ps(t).forEach((function(t){e.yc.containsKey(t)||ex(e,t)}))}function ex(e,t){e.wc.delete(t.path.canonicalString());var n=e.mc.get(t);null!==n&&(AE(e.remoteStore,n),e.mc=e.mc.remove(t),e.gc.delete(n),rx(e))}function tx(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof IS?(e.yc.addReference(a.key,t),nx(e,a)):a instanceof NS?(sg("SyncEngine","Document no longer in limbo: "+a.key),e.yc.removeReference(a.key,t),e.yc.containsKey(a.key)||ex(e,a.key)):fg()}}catch(o){i.e(o)}finally{i.f()}}function nx(e,t){var n=t.key,r=n.path.canonicalString();e.mc.get(n)||e.wc.has(r)||(sg("SyncEngine","New document in limbo: "+n),e.wc.add(r),rx(e))}function rx(e){for(;e.wc.size>0&&e.mc.size<e.maxConcurrentLimboResolutions;){var t=e.wc.values().next().value;e.wc.delete(t);var n=new Lg(Rg.fromString(t)),r=e.Ec.next();e.gc.set(r,new RS(n)),e.mc=e.mc.insert(n,r),PE(e.remoteStore,new Ew(kk(pk(n.path)),r,"TargetPurposeLimboResolution",Gg.ct))}}function ix(e,t,n){return ax.apply(this,arguments)}function ax(){return ax=ti(Zr().mark((function e(t,n,r){var i,a,o,s;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=dg(t),a=[],o=[],s=[],e.t0=i.dc.isEmpty(),e.t0){e.next=9;break}return i.dc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Ww.Bi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.fc.eu(a),e.next=9,function(){var e=ti(Zr().mark((function e(t,n){var r,i,a,o,s,u,l,c;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=dg(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Wg.forEach(n,(function(t){return Wg.forEach(t.$i,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Wg.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Kg(e.t0)){e.next=10;break}throw e.t0;case 10:sg("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Hi.get(s),l=u.snapshotVersion,c=u.withLastLimboFreeSnapshotVersion(l),r.Hi=r.Hi.insert(s,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),ax.apply(this,arguments)}function ox(e,t){return sx.apply(this,arguments)}function sx(){return sx=ti(Zr().mark((function e(t,n){var r,i;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=dg(t)).currentUser.isEqual(n)){e.next=11;break}return sg("SyncEngine","User change. New user:",n.toKey()),e.next=5,$w(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Tc.forEach((function(e){e.forEach((function(e){e.reject(new vg(pg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Tc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ix(r,i.tr);case 11:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}function ux(e,t){var n=dg(e),r=n.gc.get(t);if(r&&r.lc)return Bk().add(r.key);var i=Bk(),a=n._c.get(t);if(!a)return i;var o,s=C(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.dc.get(u);i=i.unionWith(l.view.ec)}}catch(c){s.e(c)}finally{s.f()}return i}function lx(e){var t=dg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ux.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=WS.bind(null,t),t.fc.eu=SS.bind(null,t.eventManager),t.fc.vc=xS.bind(null,t.eventManager),t}function cx(e){var t=dg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=GS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$S.bind(null,t),t}var fx=function(){function e(){c(this,e),this.synchronizeTabs=!1}return p(e,[{key:"initialize",value:function(){var e=ti(Zr().mark((function e(t){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=gE(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Qw(this.persistence,new Kw,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new zw(Hw.js,this.serializer)}},{key:"createSharedClientState",value:function(e){return new uE}},{key:"terminate",value:function(){var e=ti(Zr().mark((function e(){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),hx=function(){function e(){c(this,e)}return p(e,[{key:"initialize",value:function(){var e=ti(Zr().mark((function e(t,n){var r=this;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return HS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ox.bind(null,this.syncEngine),e.next=12,lS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new _S}},{key:"createDatastore",value:function(e){var t,n=gE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new mE(t));return function(e,t,n,r){return new EE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return HS(o.syncEngine,e,0)},a=cE.D()?new cE:new lE,new xE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new OS(e,t,n,r,i,a);return o&&(s.Ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ti(Zr().mark((function e(t){var n;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dg(t),sg("RemoteStore","RemoteStore shutting down."),n.Au.add(5),e.next=5,IE(n);case 5:n.vu.shutdown(),n.Pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var dx=function(){function e(t){c(this,e),this.observer=t,this.muted=!1}return p(e,[{key:"next",value:function(e){this.observer.next&&this.Vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Vc(this.observer.error,e):ug("Uncaught Error in snapshot listener:",e.toString())}},{key:"Sc",value:function(){this.muted=!0}},{key:"Vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),px=function(){function e(t,n,r,i){var a=this;c(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rg.UNAUTHENTICATED,this.clientId=Cg.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ti(Zr().mark((function e(t){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sg("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return sg("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return p(e,[{key:"getConfiguration",value:function(){var e=ti(Zr().mark((function e(){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new vg(pg.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new mg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ti(Zr().mark((function n(){var r;return Zr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=pS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function vx(e,t){return mx.apply(this,arguments)}function mx(){return mx=ti(Zr().mark((function e(t,n){var r,i;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),sg("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ti(Zr().mark((function e(t){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,$w(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function yx(e,t){return gx.apply(this,arguments)}function gx(){return gx=ti(Zr().mark((function e(t,n){var r,i;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,kx(t);case 3:return r=e.sent,sg("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return sS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return sS(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),gx.apply(this,arguments)}function _x(e){return"FirebaseError"===e.name?e.code===pg.FAILED_PRECONDITION||e.code===pg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function kx(e){return bx.apply(this,arguments)}function bx(){return bx=ti(Zr().mark((function e(t){var n;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return sg("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,vx(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),_x(n=e.t0)){e.next=13;break}throw n;case 13:return lg("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,vx(t,new fx);case 16:e.next=21;break;case 18:return sg("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,vx(t,new fx);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),bx.apply(this,arguments)}function wx(e){return Ex.apply(this,arguments)}function Ex(){return Ex=ti(Zr().mark((function e(t){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return sg("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,yx(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return sg("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,yx(t,new hx);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),Ex.apply(this,arguments)}function Sx(e){return wx(e).then((function(e){return e.syncEngine}))}function xx(e){return Cx.apply(this,arguments)}function Cx(){return Cx=ti(Zr().mark((function e(t){var n,r;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wx(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=DS.bind(null,n.syncEngine),r.onUnlisten=jS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Cx.apply(this,arguments)}function Tx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new mg;return e.asyncQueue.enqueueAndForget(ti(Zr().mark((function i(){return Zr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new dx({next:function(a){t.enqueueAndForget((function(){return wS(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new vg(pg.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new vg(pg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new TS(pk(n.path),a,{includeMetadataChanges:!0,Uu:!0});return kS(e,o)},i.next=3,xx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Ix(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new mg;return e.asyncQueue.enqueueAndForget(ti(Zr().mark((function i(){return Zr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new dx({next:function(n){t.enqueueAndForget((function(){return wS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new vg(pg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new TS(n,a,{includeMetadataChanges:!0,Uu:!0});return kS(e,o)},i.next=3,xx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Nx=new Map;function Px(e,t,n){if(!n)throw new vg(pg.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ax(e){if(!Lg.isDocumentKey(e))throw new vg(pg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Rx(e){if(Lg.isDocumentKey(e))throw new vg(pg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ox(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":fg()}function Dx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vg(pg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ox(e);throw new vg(pg.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Lx=function(){function e(t){var n;if(c(this,e),void 0===t.host){if(void 0!==t.ssl)throw new vg(pg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new vg(pg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new vg(pg.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling||void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}return p(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Mx=function(){function e(t,n,r,i){c(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lx({}),this._settingsFrozen=!1}return p(e,[{key:"app",get:function(){if(!this._app)throw new vg(pg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new vg(pg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lx(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new gg;switch(e.type){case"firstParty":return new wg(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new vg(pg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Nx.get(e);t&&(sg("ComponentProvider","Removing Datastore"),Nx.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Fx(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Dx(e,Mx))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&lg("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=rg.MOCK_USER;else{o=Hi(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new vg(pg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new rg(u)}e._authCredentials=new _g(new yg(o,s))}}var jx=function(){function e(t,n,r){c(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return p(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Vx(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Ux=function(){function e(t,n,r){c(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return p(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Vx=function(e){m(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,r,pk(i)))._path=i,a.type="collection",a}return p(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new jx(this.firestore,null,new Lg(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Ux);function Bx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=fa(e),Px("collection","path",t),e instanceof Mx){var a=Rg.fromString.apply(Rg,[t].concat(r));return Rx(a),new Vx(e,null,a)}if(!(e instanceof jx||e instanceof Vx))throw new vg(pg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Rg.fromString.apply(Rg,[t].concat(r)));return Rx(o),new Vx(e.firestore,null,o)}function zx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=fa(e),1===arguments.length&&(t=Cg.A()),Px("doc","path",t),e instanceof Mx){var a=Rg.fromString.apply(Rg,[t].concat(r));return Ax(a),new jx(e,null,new Lg(a))}if(!(e instanceof jx||e instanceof Vx))throw new vg(pg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Rg.fromString.apply(Rg,[t].concat(r)));return Ax(o),new jx(e.firestore,e instanceof Vx?e.converter:null,new Lg(o))}var qx=function(){function e(){var t=this;c(this,e),this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new _E(this,"async_queue_retry"),this.Yc=function(){var e=yE();e&&sg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Lo.ko()};var n=yE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Yc)}return p(e,[{key:"isShuttingDown",get:function(){return this.Qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Xc(),this.Zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;var t=yE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Xc(),this.Qc)return new Promise((function(){}));var n=new mg;return this.Zc((function(){return t.Qc&&t.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Gc.push(e),t.ta()}))}},{key:"ta",value:function(){var e=ti(Zr().mark((function e(){var t=this;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Gc.length){e.next=14;break}return e.prev=1,e.next=4,this.Gc[0]();case 4:this.Gc.shift(),this.Lo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Kg(e.t0)){e.next=12;break}throw e.t0;case 12:sg("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Gc.length>0&&this.Lo.xo((function(){return t.ta()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t=this,n=this.Kc.then((function(){return t.Wc=!0,e().catch((function(e){t.zc=e,t.Wc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ug("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Wc=!1,e}))}));return this.Kc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);var i=dS.createAndSchedule(this,e,t,n,(function(e){return r.ea(e)}));return this.jc.push(i),i}},{key:"Xc",value:function(){this.zc&&fg()}},{key:"verifyOperationInProgress",value:function(){}},{key:"na",value:function(){var e=ti(Zr().mark((function e(){var t;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Kc,e.next=3,t;case 3:if(t!==this.Kc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sa",value:function(e){var t,n=C(this.jc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ia",value:function(e){var t=this;return this.na().then((function(){t.jc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.jc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.na()}))}},{key:"ra",value:function(e){this.Jc.push(e)}},{key:"ea",value:function(e){var t=this.jc.indexOf(e);this.jc.splice(t,1)}}]),e}();var Hx=function(e){m(n,e);var t=k(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new qx,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return p(n,[{key:"_terminate",value:function(){return this._firestoreClient||Kx(this),this._firestoreClient.terminate()}}]),n}(Mx);function Wx(e){return e._firestoreClient||Kx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Kx(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new g_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new px(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}var Gx=function(){function e(t){c(this,e),this._byteString=t}return p(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(c_.fromBase64String(t))}catch(t){throw new vg(pg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(c_.fromUint8Array(t))}}]),e}(),Qx=function(){function e(){c(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new vg(pg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dg(n)}return p(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var $x=p((function e(t){c(this,e),this._methodName=t})),Yx=function(){function e(t,n){if(c(this,e),!isFinite(t)||t<-90||t>90)throw new vg(pg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new vg(pg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return p(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Tg(this._lat,e._lat)||Tg(this._long,e._long)}}]),e}(),Xx=/^__.*__$/,Jx=function(){function e(t,n,r){c(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new vb(e,this.data,this.fieldMask,t,this.fieldTransforms):new pb(e,this.data,t,this.fieldTransforms)}}]),e}(),Zx=function(){function e(t,n,r){c(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return p(e,[{key:"toMutation",value:function(e,t){return new vb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function eC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fg()}}var tC=function(){function e(t,n,r,i,a,o){c(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return p(e,[{key:"path",get:function(){return this.settings.path}},{key:"ua",get:function(){return this.settings.ua}},{key:"ca",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"aa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.la(e),r}},{key:"fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.oa(),r}},{key:"da",value:function(e){return this.ca({path:void 0,ha:!0})}},{key:"_a",value:function(e){return mC(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"oa",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.la(this.path.get(e))}},{key:"la",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(eC(this.ua)&&Xx.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),nC=function(){function e(t,n,r){c(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||gE(t)}return p(e,[{key:"ga",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new tC({ua:e,methodName:t,ma:n,path:Dg.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function rC(e){var t=e._freezeSettings(),n=gE(e._databaseId);return new nC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function iC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ga(a.merge||a.mergeFields?2:0,t,n,i);hC("Data must be an object, but it was:",o,r);var s,u,l=cC(r,o);if(a.merge)s=new u_(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=C(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=dC(t,c.value,n);if(!o.contains(d))throw new vg(pg.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));yC(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new u_(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new Jx(new M_(l),s,u)}var aC=function(e){m(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ua)throw 1===e.ua?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}($x);function oC(e,t,n,r){var i=e.ga(1,t,n);hC("Data must be an object, but it was:",i,r);var a=[],o=M_.empty();t_(r,(function(e,r){var s=vC(t,e,n);r=fa(r);var u=i.fa(s);if(r instanceof aC)a.push(s);else{var l=lC(r,u);null!=l&&(a.push(s),o.set(s,l))}}));var s=new u_(a);return new Zx(o,s,i.fieldTransforms)}function sC(e,t,n,r,i,a){var o=e.ga(1,t,n),s=[dC(t,r,n)],u=[i];if(a.length%2!=0)throw new vg(pg.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)s.push(dC(t,a[l])),u.push(a[l+1]);for(var c=[],f=M_.empty(),h=s.length-1;h>=0;--h)if(!yC(c,s[h])){var d=s[h],p=u[h];p=fa(p);var v=o.fa(d);if(p instanceof aC)c.push(d);else{var m=lC(p,v);null!=m&&(c.push(d),f.set(d,m))}}var y=new u_(c);return new Zx(f,y,o.fieldTransforms)}function uC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return lC(n,e.ga(r?4:3,t))}function lC(e,t){if(fC(e=fa(e)))return hC("Unsupported field value:",t,e),cC(e,t);if(e instanceof $x)return function(e,t){if(!eC(t.ua))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ha&&4!==t.ua)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=lC(n.value,t.da(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=fa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Kk(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ng.fromDate(e);return{timestampValue:Xb(t.serializer,n)}}if(e instanceof Ng){var r=new Ng(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Xb(t.serializer,r)}}if(e instanceof Yx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gx)return{bytesValue:Jb(t.serializer,e._byteString)};if(e instanceof jx){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:tw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Ox(e)))}(e,t)}function cC(e,t){var n={};return n_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):t_(e,(function(e,r){var i=lC(r,t.aa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function fC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ng||e instanceof Yx||e instanceof Gx||e instanceof jx||e instanceof $x)}function hC(e,t,n){if(!fC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ox(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function dC(e,t,n){if((t=fa(t))instanceof Qx)return t._internalPath;if("string"==typeof t)return vC(e,t);throw mC("Field path arguments must be of type string or ",e,!1,void 0,n)}var pC=new RegExp("[~\\*/\\[\\]]");function vC(e,t,n){if(t.search(pC)>=0)throw mC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(Qx,l(t.split(".")))._internalPath}catch(jt){throw mC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function mC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new vg(pg.INVALID_ARGUMENT,s+e+u)}function yC(e,t){return e.some((function(e){return e.isEqual(t)}))}var gC=function(){function e(t,n,r,i,a){c(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return p(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new jx(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new _C(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(kC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),_C=function(e){m(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){return Ad(y(n.prototype),"data",this).call(this)}}]),n}(gC);function kC(e,t){return"string"==typeof t?vC(e,t):t instanceof Qx?t._internalPath:t._delegate._internalPath}function bC(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new vg(pg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var wC=p((function e(){c(this,e)})),EC=function(e){m(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n)}(wC);function SC(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof wC&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof TC})).length,n=e.filter((function(e){return e instanceof xC})).length;if(t>1||t>0&&n>0)throw new vg(pg.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=C(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var xC=function(e){m(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return p(n,[{key:"_apply",value:function(e){var t=this._parse(e);return PC(e._query,t),new Ux(e.firestore,e.converter,bk(e._query,t))}},{key:"_parse",value:function(e){var t=rC(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new vg(pg.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){NC(o,a);var u,l=[],c=C(o);try{for(c.s();!(u=c.n()).done;){var f=u.value;l.push(IC(r,e,f))}}catch(h){c.e(h)}finally{c.f()}s={arrayValue:{values:l}}}else s=IC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||NC(o,a),s=uC(n,"where",o,"in"===a||"not-in"===a);return W_.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(EC);function CC(e,t,n){var r=t,i=kC("where",e);return xC._create(i,r,n)}var TC=function(e){m(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return p(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:K_.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;PC(r,a),r=bk(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Ux(e.firestore,e.converter,bk(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(wC);function IC(e,t,n){if("string"==typeof(n=fa(n))){if(""===n)throw new vg(pg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gk(t)&&-1!==n.indexOf("/"))throw new vg(pg.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Rg.fromString(n));if(!Lg.isDocumentKey(r))throw new vg(pg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return I_(e,new Lg(r))}if(n instanceof jx)return I_(e,n._key);throw new vg(pg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ox(n),"."))}function NC(e,t){if(!Array.isArray(e)||0===e.length)throw new vg(pg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function PC(e,t){if(t.isInequality()){var n=yk(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new vg(pg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=mk(e);null!==i&&AC(e,r,i)}var a=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new vg(pg.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new vg(pg.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function AC(e,t,n){if(!n.isEqual(t))throw new vg(pg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var RC=function(){function e(){c(this,e)}return p(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(b_(e)){case 0:return null;case 1:return e.booleanValue;case 2:return d_(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(p_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw fg()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return t_(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new Yx(d_(e.latitude),d_(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=m_(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(y_(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=h_(e);return new Ng(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Rg.fromString(e);hg(ww(n));var r=new __(n.get(1),n.get(3)),i=new Lg(n.popFirst(5));return r.isEqual(t)||ug("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function OC(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var DC=function(){function e(t,n){c(this,e),this.hasPendingWrites=t,this.fromCache=n}return p(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),LC=function(e){m(n,e);var t=k(n);function n(e,r,i,a,o,s){var u;return c(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return p(n,[{key:"exists",value:function(){return Ad(y(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new MC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(kC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(gC),MC=function(e){m(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return p(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ad(y(n.prototype),"data",this).call(this,e)}}]),n}(LC),FC=function(){function e(t,n,r,i){c(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new DC(i.hasPendingWrites,i.fromCache),this.query=r}return p(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new MC(n._firestore,n._userDataWriter,r.key,r,new DC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vg(pg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new MC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new MC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:jC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function jC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fg()}}function UC(e){e=Dx(e,jx);var t=Dx(e.firestore,Hx);return Tx(Wx(t),e._key).then((function(n){return KC(t,e,n)}))}var VC=function(e){m(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).firestore=e,r}return p(n,[{key:"convertBytes",value:function(e){return new Gx(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jx(this.firestore,null,t)}}]),n}(RC);function BC(e){e=Dx(e,Ux);var t=Dx(e.firestore,Hx),n=Wx(t),r=new VC(t);return bC(e._query),Ix(n,e._query).then((function(n){return new FC(t,r,e,n)}))}function zC(e,t,n){e=Dx(e,jx);var r=Dx(e.firestore,Hx),i=OC(e.converter,t,n);return WC(r,[iC(rC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ob.none())])}function qC(e,t,n){e=Dx(e,jx);for(var r=Dx(e.firestore,Hx),i=rC(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return WC(r,[("string"==typeof(t=fa(t))||t instanceof Qx?sC(i,"updateDoc",e._key,t,n,o):oC(i,"updateDoc",e._key,t)).toMutation(e._key,ob.exists(!0))])}function HC(e){return WC(Dx(e.firestore,Hx),[new bb(e._key,ob.none())])}function WC(e,t){return function(e,t){var n=new mg;return e.asyncQueue.enqueueAndForget(ti(Zr().mark((function r(){return Zr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=VS,r.next=3,Sx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Wx(e),t)}function KC(e,t,n){var r=n.docs.get(t._key),i=new VC(e);return new LC(e,i,t._key,r,new DC(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ig=e}(ro),Ja(new ha("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Hx(new kg(e.getProvider("auth-internal")),new Sg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new vg(pg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new __(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),oo(ng,"3.11.0",e),oo(ng,"3.11.0","esm2017")}();for(var GC,QC=io({apiKey:"AIzaSyBLNObPLIjfLMMt1Q2gdU-hgnPGK6sAe8s",authDomain:"programmers-chat.firebaseapp.com",projectId:"programmers-chat",storageBucket:"programmers-chat.appspot.com",messagingSenderId:"392961211942",appId:"1:392961211942:web:769664db498287984cb0e7"}),$C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ao(),t=arguments.length>1?arguments[1]:void 0,n=Za(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){var r=Bi("database");r&&Pd.apply(void 0,[n].concat(l(r)))}return n}(QC),YC=function(e,t){var n="string"==typeof e?e:t||"(default)",r=Za("object"==typeof e?e:ao(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=Bi("firestore");i&&Fx.apply(void 0,[r].concat(l(i)))}return r}(QC),XC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ao(),t=arguments.length>1?arguments[1]:void 0,n=Za(e=fa(e),Ks).getImmediate({identifier:t}),r=Bi("storage");return r&&Xs.apply(void 0,[n].concat(l(r))),n}(QC),JC=256,ZC=[];JC--;)ZC[JC]=(JC+256).toString(16).substring(1);function eT(e){var t=0,n=e||11;if(!GC||JC+n>512)for(GC="",JC=0;t<256;t++)GC+=ZC[256*Math.random()|0];return GC.substring(JC,JC+++n)}var tT=function(){var e=ti(Zr().mark((function e(){var t;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,BC(Bx(YC,"tasks"));case 4:return e.sent.forEach((function(e){return t.push(e.data())})),e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u043b\u0430\u0434\u043e\u043a \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439."),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0437\u0430\u043a\u043b\u0430\u0434\u043e\u043a \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.");case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),nT=function(){var e=ti(Zr().mark((function e(t){var n,r;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],r=SC(Bx(YC,"tasks"),CC("userUID","==",t)),e.next=5,BC(r);case 5:return e.sent.forEach((function(e){return n.push(e.data())})),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0442\u0430\u0441\u043a\u043e\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f."),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0442\u0430\u0441\u043a\u043e\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.");case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),rT=function(){var e=ti(Zr().mark((function e(t){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,HC(zx(YC,"tasks",t));case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0442\u0430\u0441\u043a\u0430."),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0442\u0430\u0441\u043a\u0430.");case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),iT=function(){var e=ti(Zr().mark((function e(t){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nT(t);case 3:e.sent.forEach((function(e){rT(e.uid)})),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0432\u0441\u0435\u0445 \u0442\u0430\u0441\u043a\u043e\u0432."),console.log(e.t0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0432\u0441\u0435\u0445 \u0442\u0430\u0441\u043a\u043e\u0432.");case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),aT=function(){var e=ti(Zr().mark((function e(t,n){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qC(zx(YC,"tasks",t),{state:n});case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0442\u0430\u0441\u043a\u0430."),console.log(e.t0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0442\u0430\u0441\u043a\u0430.");case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),oT=function(){var e=ti(Zr().mark((function e(t,n){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qC(zx(YC,"tasks",t),n);case 3:e.next=10;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0442\u0430\u0441\u043a\u0430."),console.log(e.t0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0442\u0430\u0441\u043a\u0430.");case 10:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}(),sT=function(){var e=ti(Zr().mark((function e(t,n,r,i){var a,o;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=eT(),o={title:n,text:r||"",date:di()||"",username:t||"",state:!1,userUID:i,uid:a||""},!n.length){e.next=6;break}return e.next=6,zC(zx(YC,"tasks",a),o);case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0430\u0441\u043a\u0430."),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0442\u0430\u0441\u043a\u0430.");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),uT=function(){var e=ti(Zr().mark((function e(t,n){var r;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=zx(YC,"users",t),e.next=4,qC(r,{imageURL:n});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u0432 FS."),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),lT=function(){var e=ti(Zr().mark((function e(t,n){var r;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=zx(YC,"users",t),e.next=4,qC(r,n);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 FS."),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),cT=function(){var e=ti(Zr().mark((function e(){var t;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=[],e.next=4,BC(Bx(YC,"users"));case 4:return e.sent.forEach((function(e){t.push(e.data())})),e.abrupt("return",t);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),fT=function(){var e=ti(Zr().mark((function e(t,n){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,HC(zx(YC,"users",t));case 3:return n&&$s(Ys(XC,"programmersImg/".concat(t))).then().catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f."),console.log(e)})),e.next=6,iT(t);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),hT=function(){var e=ti(Zr().mark((function e(t){var n;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=eT(),e.next=4,zC(zx(YC,"users",n),On(On({},t),{},{uid:n}));case 4:return e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f."),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),dT=function(){var e=ti(Zr().mark((function e(t){var n,r;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=[],e.next=4,BC(Bx(YC,"users"));case 4:return e.sent.forEach((function(e){n.push(e.data())})),r=n.filter((function(e){return e.login===t})),e.abrupt("return",!!r.length);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u043d\u0430 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),pT=function(){var e=ti(Zr().mark((function e(t){var n;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,UC(zx(YC,"users",t));case 3:return n=e.sent,e.abrupt("return",n.data());case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e id.");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),vT=function(e){var t=e.editMode,n=e.setEditMode,r=e.userImageFile,i=e.userImageLastImageUrl,a=e.setUserImageLastImageUrl,o=e.setUserImageUrl,s=e.editNameInput,u=e.editSurnameInput,l=e.setEditNameInput,c=e.setEditSurnameInput,f=e.editAboutTextarea,h=e.editDateInput,d=e.setEditDateInput,p=zr(),v=_t((function(e){return e.userSlice})).user,m=function(){var e=ti(Zr().mark((function e(t){var n,r;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=8;break}return n={contentType:"image/jpeg"},r=Ys(XC,"programmersImg/"+v.uid),e.next=6,Gs(r,t,n);case 6:return e.next=8,Qs(r).then((function(e){uT(v.uid,e),p(Rr(On(On({},v),{},{imageURL:e}))),console.log("Img is uploaded!")})).catch((function(e){console.log(e),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.")}));case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,qr.jsx)("div",{className:Ei,children:t?(0,qr.jsxs)(qr.Fragment,{children:[(0,qr.jsx)("button",{onClick:function(){n(!t),m(r).then((function(){return o("")})),i&&!v.imageURL&&i&&$s(Ys(XC,"programmersImg/".concat(v.uid))).then((function(){uT(v.uid,"").then(),p(Rr(On(On({},v),{},{imageURL:""}))),console.log("img is deleted"),a("")})).catch((function(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438."),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438."),console.log(e)})),function(){if(v.name!==s||v.surname!==u||v.about!==f||mi(v.birthday)!==h){var e={name:s,surname:u,about:f,birthday:vi(h)};p(Rr(On(On({},v),e))),lT(v.uid,On({},e)).then((function(){console.log("\u0414\u0430\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u044b.")})).catch((function(){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445.")}))}}()},className:Si,children:"Save"}),(0,qr.jsx)("button",{onClick:function(){n(!1),o(""),p(Rr(On(On({},v),{},{imageURL:i}))),l(v.name),c(v.surname),d(mi(v.birthday))},className:xi,children:"Cancel"})]}):(0,qr.jsx)("button",{onClick:function(){n(!0)},className:Si,children:"Edit"})})},mT=function(){var e=zr(),n=_t((function(e){return e.userSlice})).user,r=E((0,t.useState)(!1),2),i=r[0],a=r[1],o=E((0,t.useState)(""),2),s=o[0],u=o[1],l=E((0,t.useState)(null),2),c=l[0],f=l[1],h=E((0,t.useState)(n.imageURL||""),2),d=h[0],p=h[1],v=E((0,t.useState)(n.name||""),2),m=v[0],y=v[1],g=E((0,t.useState)(n.surname||""),2),_=g[0],k=g[1],b=E((0,t.useState)(n.about||""),2),w=b[0],S=b[1],x=E((0,t.useState)(mi(n.birthday)||""),2),C=x[0],T=x[1];(0,t.useEffect)((function(){ti(Zr().mark((function t(){var r;return Zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pT(n.uid);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=void 0;case 5:(r=t.t0)&&e(Rr(r));case 7:case"end":return t.stop()}}),t)})))()}),[]);var I={uid:n.uid,name:hi(n.name),surname:hi(n.surname),level:hi(n.level),birthday:n.birthday,login:"",imageURL:n.imageURL,about:n.about};return(0,qr.jsxs)("div",{className:ni,children:[(0,qr.jsxs)("div",{className:ri,children:[(0,qr.jsx)("div",{className:ii,children:(0,qr.jsx)("img",{className:ai,src:s||n.imageURL||yi,alt:"Human"})}),i&&(0,qr.jsx)(wi,{setUserImage:f,setUserImageUrl:u,setUserImageLastImageUrl:p}),(0,qr.jsx)(fi,{userInfo:I,editMode:i,editNameInput:m,setEditNameInput:y,editSurnameInput:_,setEditSurnameInput:k,editDateInput:C,setEditDateInput:T})]}),(0,qr.jsxs)("div",{className:oi,children:[(0,qr.jsx)("div",{className:si+" "+(i&&li),children:i?(0,qr.jsx)("textarea",{className:ui,onChange:function(e){return S(e.target.value)},value:w}):n.about}),(0,qr.jsx)(vT,{editMode:i,setEditMode:a,userImageFile:c,userImageLastImageUrl:d,setUserImageLastImageUrl:p,setUserImageUrl:u,editNameInput:m,editSurnameInput:_,setEditNameInput:y,setEditSurnameInput:k,editAboutTextarea:w,editDateInput:C,setEditDateInput:T})]})]})},yT="Programmers_container__VLl2U",gT={container:"CardHuman_container__4bFbV",photoContainer:"CardHuman_photoContainer__kUP5s",photo:"CardHuman_photo__B+1Ce",noPhoto:"CardHuman_noPhoto__bULXq",about:"CardHuman_about__JJyWz",level:"CardHuman_level__NIvNB"},_T="BorderCardHuman_border__wHCxp",kT="BorderCardHuman_skeletonPhoto__FAQvq",bT="BorderCardHuman_skeletonName__h5+Y0",wT={container:"OpenedCardHuman_container__dJHcm",overlay:"OpenedCardHuman_overlay__ja8xf",window:"OpenedCardHuman_window__IDTkU",topWindow:"OpenedCardHuman_topWindow__08xKg",photoContainer:"OpenedCardHuman_photoContainer__XvrZ8",photo:"OpenedCardHuman_photo__LfBM+",noPhoto:"OpenedCardHuman_noPhoto__V8ToY",about:"OpenedCardHuman_about__F8OsT",level:"OpenedCardHuman_level__eFIwz"},ET="DeleteHumanButton_container__V1Vg7",ST=function(e){var t=e.userInfo,n=e.setUsersCardArr,r=function(){var e=ti(Zr().mark((function e(){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f?")){e.next=12;break}return e.prev=2,n((function(e){return e.filter((function(e){return e.uid!==t.uid}))})),e.next=6,fT(t.uid,t.imageURL);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430",e.t0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return(0,qr.jsx)("div",{title:"Delete",className:ET,children:(0,qr.jsxs)("svg",{onClick:r,width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,qr.jsx)("path",{d:"M4 7H20",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,qr.jsx)("path",{d:"M6 10L7.70141 19.3578C7.87432 20.3088 8.70258 21 9.66915 21H14.3308C15.2974 21 16.1257 20.3087 16.2986 19.3578L18 10",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,qr.jsx)("path",{d:"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})},xT="ModeButtons_container__juxJ5",CT="ModeButtons_toggleModeButton__C6jPA",TT="ModeButtons_taskButton__C7pLc",IT="ModeButtons_editButton__8qHgD",NT="ModeButtons_goBackButton__UYL2y",PT=function(e){var t=e.setAddTaskMode,n=e.addTaskMode;return(0,qr.jsx)("div",{className:xT,children:(0,qr.jsx)("button",{onClick:function(){t(!n)},className:"".concat(CT," ").concat(TT," ").concat(n?NT:""),children:n?"Go back":"Task mode"})})},AT=function(){var e=_t((function(e){return e.userSlice})),t=e.user,n=e.adminUser;return t.login===n.login},RT="OpenedCardHumanBot_container__qdAAq",OT="OpenedCardHumanBot_note__XDThJ",DT="CreateTaskForm_container__zNOG6",LT="CreateTaskForm_inputsBlock__rTO9i",MT="CreateTaskForm_taskInput__PqZVi",FT="CreateTaskForm_taskTitleInput__u6Tki",jT="CreateTaskForm_taskTextArea__lb2Lx",UT="CreateTaskForm_sendTaskButton__Nuz-3";function VT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var BT=["name"],zT=["_f"],qT=["_f"],HT=function(e){return"checkbox"===e.type},WT=function(e){return e instanceof Date},KT=function(e){return null==e},GT=function(e){return"object"===typeof e},QT=function(e){return!KT(e)&&!Array.isArray(e)&&GT(e)&&!WT(e)},$T=function(e){return QT(e)&&e.target?HT(e.target)?e.target.checked:e.target.value:e},YT=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},XT=function(e){var t=e.constructor&&e.constructor.prototype;return QT(t)&&t.hasOwnProperty("isPrototypeOf")},JT="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function ZT(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(JT&&(e instanceof Blob||e instanceof FileList)||!n&&!QT(e))return e;if(t=n?[]:{},Array.isArray(e)||XT(e))for(var r in e)t[r]=ZT(e[r]);else t=e}return t}var eI=function(e){return Array.isArray(e)?e.filter(Boolean):[]},tI=function(e){return void 0===e},nI=function(e,t,n){if(!t||!QT(e))return n;var r=eI(t.split(/[,[\].]+?/)).reduce((function(e,t){return KT(e)?e:e[t]}),e);return tI(r)||r===e?tI(e[t])?n:e[t]:r},rI={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},iI={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},aI="max",oI="min",sI="maxLength",uI="minLength",lI="pattern",cI="required",fI="validate",hI=(t.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t._proxyFormState[i]!==iI.all&&(t._proxyFormState[i]=!r||iI.all),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),dI=function(e){return QT(e)&&!Object.keys(e).length},pI=function(e,t,n,r){n(e);e.name;var i=VT(e,BT);return dI(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((function(e){return t[e]===(!r||iI.all)}))},vI=function(e){return Array.isArray(e)?e:[e]};function mI(e){var n=t.useRef(e);n.current=e,t.useEffect((function(){var t=!e.disabled&&n.current.subject&&n.current.subject.subscribe({next:n.current.next});return function(){t&&t.unsubscribe()}}),[e.disabled])}var yI=function(e){return"string"===typeof e},gI=function(e,t,n,r,i){return yI(e)?(r&&t.watch.add(e),nI(n,e,i)):Array.isArray(e)?e.map((function(e){return r&&t.watch.add(e),nI(n,e)})):(r&&(t.watchAll=!0),n)};var _I=function(e){return/^\w*$/.test(e)},kI=function(e){return eI(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function bI(e,t,n){for(var r=-1,i=_I(t)?[t]:kI(t),a=i.length,o=a-1;++r<a;){var s=i[r],u=n;if(r!==o){var l=e[s];u=QT(l)||Array.isArray(l)?l:isNaN(+i[r+1])?{}:[]}e[s]=u,e=e[s]}return e}var wI=function(e,t,n,r,i){return t?On(On({},n[e]),{},{types:On(On({},n[e]&&n[e].types?n[e].types:{}),{},An({},r,i||!0))}):{}},EI=function e(t,n,r){var i,a=C(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,s=nI(t,o);if(s){var u=s._f,l=VT(s,zT);if(u&&n(u.name)){if(u.ref.focus){u.ref.focus();break}if(u.refs&&u.refs[0].focus){u.refs[0].focus();break}}else QT(l)&&e(l,n)}}}catch(c){a.e(c)}finally{a.f()}},SI=function(e){return{isOnSubmit:!e||e===iI.onSubmit,isOnBlur:e===iI.onBlur,isOnChange:e===iI.onChange,isOnAll:e===iI.all,isOnTouch:e===iI.onTouched}},xI=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||l(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},CI=function(e,t,n){var r=eI(nI(e,n));return bI(r,"root",t[n]),bI(e,n,r),e},TI=function(e){return"boolean"===typeof e},II=function(e){return"file"===e.type},NI=function(e){return"function"===typeof e},PI=function(e){if(!JT)return!1;var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},AI=function(e){return yI(e)},RI=function(e){return"radio"===e.type},OI=function(e){return e instanceof RegExp},DI={value:!1,isValid:!1},LI={value:!0,isValid:!0},MI=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!tI(e[0].attributes.value)?tI(e[0].value)||""===e[0].value?LI:{value:e[0].value,isValid:!0}:LI:DI}return DI},FI={isValid:!1,value:null},jI=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),FI):FI};function UI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(AI(e)||Array.isArray(e)&&e.every(AI)||TI(e)&&!e)return{type:n,message:AI(e)?e:"",ref:t}}var VI=function(e){return QT(e)&&!OI(e)?e:{value:e,message:""}},BI=function(){var e=ti(Zr().mark((function e(t,n,r,i,a){var o,s,u,l,c,f,h,d,p,v,m,y,g,_,k,b,w,E,S,x,C,T,I,N,P,A,R,O,D,L,M,F,j,U,V,B,z,q,H,W,K,G,Q,$,Y,X,J,Z;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,s=o.ref,u=o.refs,l=o.required,c=o.maxLength,f=o.minLength,h=o.min,d=o.max,p=o.pattern,v=o.validate,m=o.name,y=o.valueAsNumber,g=o.mount,_=o.disabled,k=nI(n,m),g&&!_){e.next=4;break}return e.abrupt("return",{});case 4:if(b=u?u[0]:s,w=function(e){i&&b.reportValidity&&(b.setCustomValidity(TI(e)?"":e||""),b.reportValidity())},E={},S=RI(s),x=HT(s),C=S||x,T=(y||II(s))&&tI(s.value)&&tI(k)||PI(s)&&""===s.value||""===k||Array.isArray(k)&&!k.length,I=wI.bind(null,m,r,E),N=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:sI,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:uI,a=e?t:n;E[m]=On({type:e?r:i,message:a,ref:s},I(e?r:i,a))},!(a?!Array.isArray(k)||!k.length:l&&(!C&&(T||KT(k))||TI(k)&&!k||x&&!MI(u).isValid||S&&!jI(u).isValid))){e.next=20;break}if(P=AI(l)?{value:!!l,message:l}:VI(l),A=P.value,R=P.message,!A){e.next=20;break}if(E[m]=On({type:cI,message:R,ref:b},I(cI,R)),r){e.next=20;break}return w(R),e.abrupt("return",E);case 20:if(T||KT(h)&&KT(d)){e.next=29;break}if(L=VI(d),M=VI(h),KT(k)||isNaN(k)?(j=s.valueAsDate||new Date(k),U=function(e){return new Date((new Date).toDateString()+" "+e)},V="time"==s.type,B="week"==s.type,yI(L.value)&&k&&(O=V?U(k)>U(L.value):B?k>L.value:j>new Date(L.value)),yI(M.value)&&k&&(D=V?U(k)<U(M.value):B?k<M.value:j<new Date(M.value))):(F=s.valueAsNumber||(k?+k:k),KT(L.value)||(O=F>L.value),KT(M.value)||(D=F<M.value)),!O&&!D){e.next=29;break}if(N(!!O,L.message,M.message,aI,oI),r){e.next=29;break}return w(E[m].message),e.abrupt("return",E);case 29:if(!c&&!f||T||!(yI(k)||a&&Array.isArray(k))){e.next=39;break}if(z=VI(c),q=VI(f),H=!KT(z.value)&&k.length>+z.value,W=!KT(q.value)&&k.length<+q.value,!H&&!W){e.next=39;break}if(N(H,z.message,q.message),r){e.next=39;break}return w(E[m].message),e.abrupt("return",E);case 39:if(!p||T||!yI(k)){e.next=46;break}if(K=VI(p),G=K.value,Q=K.message,!OI(G)||k.match(G)){e.next=46;break}if(E[m]=On({type:lI,message:Q,ref:s},I(lI,Q)),r){e.next=46;break}return w(Q),e.abrupt("return",E);case 46:if(!v){e.next=80;break}if(!NI(v)){e.next=59;break}return e.next=50,v(k,n);case 50:if($=e.sent,!(Y=UI($,b))){e.next=57;break}if(E[m]=On(On({},Y),I(fI,Y.message)),r){e.next=57;break}return w(Y.message),e.abrupt("return",E);case 57:e.next=80;break;case 59:if(!QT(v)){e.next=80;break}X={},e.t0=Zr().keys(v);case 62:if((e.t1=e.t0()).done){e.next=76;break}if(J=e.t1.value,dI(X)||r){e.next=66;break}return e.abrupt("break",76);case 66:return e.t2=UI,e.next=69,v[J](k,n);case 69:e.t3=e.sent,e.t4=b,e.t5=J,(Z=(0,e.t2)(e.t3,e.t4,e.t5))&&(X=On(On({},Z),I(J,Z.message)),w(Z.message),r&&(E[m]=X)),e.next=62;break;case 76:if(dI(X)){e.next=80;break}if(E[m]=On({ref:b},X),r){e.next=80;break}return e.abrupt("return",E);case 80:return w(!0),e.abrupt("return",E);case 82:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();function zI(e,t){var n=Array.isArray(t)?t:_I(t)?[t]:kI(t),r=1===n.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=tI(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(QT(r)&&dI(r)||Array.isArray(r)&&function(e){for(var t in e)if(!tI(e[t]))return!1;return!0}(r))&&zI(e,n.slice(0,-1)),e}function qI(){var e=[];return{get observers(){return e},next:function(t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.next&&i.next(t)}}catch(a){r.e(a)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var HI=function(e){return KT(e)||!GT(e)};function WI(e,t){if(HI(e)||HI(t))return e===t;if(WT(e)&&WT(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],s=e[o];if(!r.includes(o))return!1;if("ref"!==o){var u=t[o];if(WT(s)&&WT(u)||QT(s)&&QT(u)||Array.isArray(s)&&Array.isArray(u)?!WI(s,u):s!==u)return!1}}return!0}var KI=function(e){return"select-multiple"===e.type},GI=function(e){return RI(e)||HT(e)},QI=function(e){return PI(e)&&e.isConnected},$I=function(e){for(var t in e)if(NI(e[t]))return!0;return!1};function YI(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(QT(e)||n)for(var r in e)Array.isArray(e[r])||QT(e[r])&&!$I(e[r])?(t[r]=Array.isArray(e[r])?[]:{},YI(e[r],t[r])):KT(e[r])||(t[r]=!0);return t}function XI(e,t,n){var r=Array.isArray(e);if(QT(e)||r)for(var i in e)Array.isArray(e[i])||QT(e[i])&&!$I(e[i])?tI(t)||HI(n[i])?n[i]=Array.isArray(e[i])?YI(e[i],[]):On({},YI(e[i])):XI(e[i],KT(t)?{}:t[i],n[i]):n[i]=!WI(e[i],t[i]);return n}var JI=function(e,t){return XI(e,t,YI(t))},ZI=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return tI(e)?e:n?""===e?NaN:e?+e:e:r&&yI(e)?new Date(e):i?i(e):e};function eN(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return II(t)?t.files:RI(t)?jI(e.refs).value:KI(t)?l(t.selectedOptions).map((function(e){return e.value})):HT(t)?MI(e.refs).value:ZI(tI(t.value)?e.ref.value:t.value,e)}var tN=function(e,t,n,r){var i,a={},o=C(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=nI(t,s);u&&bI(a,s,u._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:l(e),fields:a,shouldUseNativeValidation:r}},nN=function(e){return tI(e)?e:OI(e)?e.source:QT(e)?OI(e.value)?e.value.source:e.value:e},rN=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function iN(e,t,n){var r=nI(e,n);if(r||_I(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=nI(t,a),s=nI(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var aN=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},oN=function(e,t){return!eI(nI(e,t)).length&&zI(e,t)},sN={mode:iI.onSubmit,reValidateMode:iI.onChange,shouldFocusError:!0};function uN(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=On(On({},sN),t),i={submitCount:0,isDirty:!1,isLoading:NI(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},o=(QT(r.defaultValues)||QT(r.values))&&ZT(r.defaultValues||r.values)||{},s=r.shouldUnregister?{}:ZT(o),u={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},f=0,h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:qI(),array:qI(),state:qI()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,v=SI(r.mode),m=SI(r.reValidateMode),y=r.criteriaMode===iI.all,g=function(){var e=ti(Zr().mark((function e(t){var n;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.isValid&&!t){e.next=14;break}if(!r.resolver){e.next=9;break}return e.t1=dI,e.next=5,E();case 5:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=12;break;case 9:return e.next=11,x(a,!0);case 11:e.t0=e.sent;case 12:(n=e.t0)!==i.isValid&&d.state.next({isValid:n});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){return h.isValidating&&d.state.next({isValidating:e})},k=function(e,t,n,r){var i=nI(a,e);if(i){var l=nI(s,e,tI(n)?nI(o,e):n);tI(l)||r&&r.defaultChecked||t?bI(s,e,t?l:eN(i._f)):N(e,l),u.mount&&g()}},b=function(e,t,n,r,a){var s=!1,u=!1,l={name:e};if(!n||r){h.isDirty&&(u=i.isDirty,i.isDirty=l.isDirty=T(),s=u!==l.isDirty);var c=WI(nI(o,e),t);u=nI(i.dirtyFields,e),c?zI(i.dirtyFields,e):bI(i.dirtyFields,e,!0),l.dirtyFields=i.dirtyFields,s=s||h.dirtyFields&&u!==!c}if(n){var f=nI(i.touchedFields,e);f||(bI(i.touchedFields,e,n),l.touchedFields=i.touchedFields,s=s||h.touchedFields&&f!==n)}return s&&a&&d.state.next(l),s?l:{}},w=function(n,r,a,o){var s=nI(i.errors,n),u=h.isValid&&TI(r)&&i.isValid!==r;if(t.delayError&&a?(e=function(e){return function(t){clearTimeout(f),f=setTimeout(e,t)}}((function(){return function(e,t){bI(i.errors,e,t),d.state.next({errors:i.errors})}(n,a)})),e(t.delayError)):(clearTimeout(f),e=null,a?bI(i.errors,n,a):zI(i.errors,n)),(a?!WI(s,a):s)||!dI(o)||u){var l=On(On(On({},o),u&&TI(r)?{isValid:r}:{}),{},{errors:i.errors,name:n});i=On(On({},i),l),d.state.next(l)}_(!1)},E=function(){var e=ti(Zr().mark((function e(t){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.resolver(s,r.context,tN(t||c.mount,a,r.criteriaMode,r.shouldUseNativeValidation)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=ti(Zr().mark((function e(t){var n,r,a,o,s,u;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:if(n=e.sent,r=n.errors,t){a=C(t);try{for(a.s();!(o=a.n()).done;)s=o.value,(u=nI(r,s))?bI(i.errors,s,u):zI(i.errors,s)}catch(l){a.e(l)}finally{a.f()}}else i.errors=r;return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=ti(Zr().mark((function e(t,n){var a,o,u,l,f,h,d,p=arguments;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=Zr().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(o=e.t1.value,!(u=t[o])){e.next=21;break}if(l=u._f,f=VT(u,qT),!l){e.next=17;break}return h=c.array.has(l.name),e.next=11,BI(u,s,y,r.shouldUseNativeValidation&&!n,h);case 11:if(!(d=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!n){e.next=16;break}return e.abrupt("break",23);case 16:!n&&(nI(d,l.name)?h?CI(i.errors,d,l.name):bI(i.errors,l.name,d[l.name]):zI(i.errors,l.name));case 17:if(e.t2=f,!e.t2){e.next=21;break}return e.next=21,x(f,n,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(e,t){return e&&t&&bI(s,e,t),!WI(D(),o)},I=function(e,t,n){return gI(e,c,On({},u.mount?s:tI(t)?o:yI(e)?An({},e,t):t),n,t)},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=nI(a,e),i=t;if(r){var o=r._f;o&&(!o.disabled&&bI(s,e,ZI(t,o)),i=PI(o.ref)&&KT(t)?"":t,KI(o.ref)?l(o.ref.options).forEach((function(e){return e.selected=i.includes(e.value)})):o.refs?HT(o.ref)?o.refs.length>1?o.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((function(t){return t===e.value})):i===e.value)})):o.refs[0]&&(o.refs[0].checked=!!i):o.refs.forEach((function(e){return e.checked=e.value===i})):II(o.ref)?o.ref.value="":(o.ref.value=i,o.ref.type||d.values.next({name:e,values:On({},s)})))}(n.shouldDirty||n.shouldTouch)&&b(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&O(e)},P=function e(t,n,r){for(var i in n){var o=n[i],s="".concat(t,".").concat(i),u=nI(a,s);!c.array.has(t)&&HI(o)&&(!u||u._f)||WT(o)?N(s,o,r):e(s,o,r)}},A=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=nI(a,e),f=c.array.has(e),p=ZT(t);bI(s,e,p),f?(d.array.next({name:e,values:On({},s)}),(h.isDirty||h.dirtyFields)&&r.shouldDirty&&d.state.next({name:e,dirtyFields:JI(o,s),isDirty:T(e,p)})):!l||l._f||KT(p)?N(e,p,r):P(e,p,r),xI(e,c)&&d.state.next(On({},i)),d.values.next({name:e,values:On({},s)}),!u.mount&&n()},R=function(){var t=ti(Zr().mark((function t(n){var o,u,l,f,p,k,S,C,T,I,N,P,A,R,D,L,M;return Zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.target,u=o.name,l=!0,f=nI(a,u),p=function(){return o.type?eN(f._f):$T(n)},!f){t.next=47;break}if(C=p(),T=n.type===rI.BLUR||n.type===rI.FOCUS_OUT,I=!rN(f._f)&&!r.resolver&&!nI(i.errors,u)&&!f._f.deps||aN(T,nI(i.touchedFields,u),i.isSubmitted,m,v),N=xI(u,c,T),bI(s,u,C),T?(f._f.onBlur&&f._f.onBlur(n),e&&e(0)):f._f.onChange&&f._f.onChange(n),P=b(u,C,T,!1),A=!dI(P)||N,!T&&d.values.next({name:u,type:n.type,values:On({},s)}),!I){t.next=18;break}return h.isValid&&g(),t.abrupt("return",A&&d.state.next(On({name:u},N?{}:P)));case 18:if(!T&&N&&d.state.next(On({},i)),_(!0),!r.resolver){t.next=32;break}return t.next=23,E([u]);case 23:R=t.sent,D=R.errors,L=iN(i.errors,a,u),M=iN(D,a,L.name||u),k=M.error,u=M.name,S=dI(D),t.next=46;break;case 32:return t.next=34,BI(f,s,y,r.shouldUseNativeValidation);case 34:if(t.t0=u,k=t.sent[t.t0],!(l=isNaN(C)||C===nI(s,u,C))){t.next=46;break}if(!k){t.next=42;break}S=!1,t.next=46;break;case 42:if(!h.isValid){t.next=46;break}return t.next=45,x(a,!0);case 45:S=t.sent;case 46:l&&(f._f.deps&&O(f._f.deps),w(u,S,k,P));case 47:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var e=ti(Zr().mark((function e(t){var n,o,s,u,l,f=arguments;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>1&&void 0!==f[1]?f[1]:{},u=vI(t),_(!0),!r.resolver){e.next=11;break}return e.next=6,S(tI(t)?t:u);case 6:l=e.sent,o=dI(l),s=t?!u.some((function(e){return nI(l,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(u.map(function(){var e=ti(Zr().mark((function e(t){var n;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nI(a,t),e.next=3,x(n&&n._f?An({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((s=e.sent.every(Boolean))||i.isValid)&&g(),e.next=21;break;case 18:return e.next=20,x(a);case 20:s=o=e.sent;case 21:return d.state.next(On(On(On({},!yI(t)||h.isValid&&o!==i.isValid?{}:{name:t}),r.resolver||!t?{isValid:o}:{}),{},{errors:i.errors,isValidating:!1})),n.shouldFocus&&!s&&EI(a,(function(e){return e&&nI(i.errors,e)}),t?u:c.mount),e.abrupt("return",s);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(e){var t=On(On({},o),u.mount?s:{});return tI(e)?t:yI(e)?nI(t,e):e.map((function(e){return nI(t,e)}))},L=function(e,t){return{invalid:!!nI((t||i).errors,e),isDirty:!!nI((t||i).dirtyFields,e),isTouched:!!nI((t||i).touchedFields,e),error:nI((t||i).errors,e)}},M=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=C(e?vI(e):c.mount);try{for(u.s();!(t=u.n()).done;){var l=t.value;c.mount.delete(l),c.array.delete(l),n.keepValue||(zI(a,l),zI(s,l)),!n.keepError&&zI(i.errors,l),!n.keepDirty&&zI(i.dirtyFields,l),!n.keepTouched&&zI(i.touchedFields,l),!r.shouldUnregister&&!n.keepDefaultValue&&zI(o,l)}}catch(f){u.e(f)}finally{u.f()}d.values.next({values:On({},s)}),d.state.next(On(On({},i),n.keepDirty?{isDirty:T()}:{})),!n.keepIsValid&&g()},F=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=nI(a,t),f=TI(n.disabled);return bI(a,t,On(On({},i||{}),{},{_f:On(On({},i&&i._f?i._f:{ref:{name:t}}),{},{name:t,mount:!0},n)})),c.mount.add(t),i?f&&bI(s,t,n.disabled?void 0:nI(s,t,eN(i._f))):k(t,!0,n.value),On(On(On({},f?{disabled:n.disabled}:{}),r.shouldUseNativeValidation?{required:!!n.required,min:nN(n.min),max:nN(n.max),minLength:nN(n.minLength),maxLength:nN(n.maxLength),pattern:nN(n.pattern)}:{}),{},{name:t,onChange:R,onBlur:R,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(s){if(s){e(t,n),i=nI(a,t);var f=tI(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,h=GI(f),d=i._f.refs||[];if(h?d.find((function(e){return e===f})):f===i._f.ref)return;bI(a,t,{_f:On(On({},i._f),h?{refs:[].concat(l(d.filter(QI)),[f],l(Array.isArray(nI(o,t))?[{}]:[])),ref:{type:f.type,name:t}}:{ref:f})}),k(t,!1,void 0,f)}else(i=nI(a,t,{}))._f&&(i._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&(!YT(c.array,t)||!u.action)&&c.unMount.add(t)}))})},j=function(){return r.shouldFocusError&&EI(a,(function(e){return e&&nI(i.errors,e)}),c.mount)},U=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=e||o,f=ZT(l),v=e&&!dI(e)?f:o;if(r.keepDefaultValues||(o=l),!r.keepValues){if(r.keepDirtyValues||p){var m,y=C(c.mount);try{for(y.s();!(m=y.n()).done;){var g=m.value;nI(i.dirtyFields,g)?bI(v,g,nI(s,g)):A(g,nI(v,g))}}catch(x){y.e(x)}finally{y.f()}}else{if(JT&&tI(e)){var _,k=C(c.mount);try{for(k.s();!(_=k.n()).done;){var b=_.value,w=nI(a,b);if(w&&w._f){var E=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;if(PI(E)){var S=E.closest("form");if(S){S.reset();break}}}}}catch(x){k.e(x)}finally{k.f()}}a={}}s=t.shouldUnregister?r.keepDefaultValues?ZT(o):{}:f,d.array.next({values:On({},v)}),d.values.next({values:On({},v)})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!u.mount&&n(),u.mount=!h.isValid||!!r.keepIsValid,u.watch=!!t.shouldUnregister,d.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:r.keepDirty?i.isDirty:!(!r.keepDefaultValues||WI(e,o)),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:r.keepDirtyValues?i.dirtyFields:r.keepDefaultValues&&e?JI(o,e):{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},V=function(e,t){return U(NI(e)?e(s):e,t)};return{control:{register:F,unregister:M,getFieldState:L,_executeSchema:E,_getWatch:I,_getDirty:T,_updateValid:g,_removeUnmounted:function(){var e,t=C(c.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=nI(a,n);r&&(r._f.refs?r._f.refs.every((function(e){return!QI(e)})):!QI(r._f.ref))&&M(n)}}catch(i){t.e(i)}finally{t.f()}c.unMount=new Set},_updateFieldArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(r&&n){if(u.action=!0,c&&Array.isArray(nI(a,e))){var f=n(nI(a,e),r.argA,r.argB);l&&bI(a,e,f)}if(c&&Array.isArray(nI(i.errors,e))){var p=n(nI(i.errors,e),r.argA,r.argB);l&&bI(i.errors,e,p),oN(i.errors,e)}if(h.touchedFields&&c&&Array.isArray(nI(i.touchedFields,e))){var v=n(nI(i.touchedFields,e),r.argA,r.argB);l&&bI(i.touchedFields,e,v)}h.dirtyFields&&(i.dirtyFields=JI(o,s)),d.state.next({name:e,isDirty:T(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else bI(s,e,t)},_getFieldArray:function(e){return eI(nI(u.mount?s:o,e,t.shouldUnregister?nI(o,e,[]):[]))},_reset:U,_resetDefaultValues:function(){return NI(r.defaultValues)&&r.defaultValues().then((function(e){V(e,r.resetOptions),d.state.next({isLoading:!1})}))},_updateFormState:function(e){i=On(On({},i),e)},_subjects:d,_proxyFormState:h,get _fields(){return a},get _formValues(){return s},get _state(){return u},set _state(e){u=e},get _defaultValues(){return o},get _names(){return c},set _names(e){c=e},get _formState(){return i},set _formState(e){i=e},get _options(){return r},set _options(e){r=On(On({},r),e)}},trigger:O,register:F,handleSubmit:function(e,t){return function(){var n=ti(Zr().mark((function n(o){var u,l,c,f;return Zr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist()),u=ZT(s),d.state.next({isSubmitting:!0}),!r.resolver){n.next=13;break}return n.next=6,E();case 6:l=n.sent,c=l.errors,f=l.values,i.errors=c,u=f,n.next=15;break;case 13:return n.next=15,x(a);case 15:if(zI(i.errors,"root"),!dI(i.errors)){n.next=22;break}return d.state.next({errors:{}}),n.next=20,e(u,o);case 20:n.next=27;break;case 22:if(!t){n.next=25;break}return n.next=25,t(On({},i.errors),o);case 25:j(),setTimeout(j);case 27:d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:dI(i.errors),submitCount:i.submitCount+1,errors:i.errors});case 28:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},watch:function(e,t){return NI(e)?d.values.subscribe({next:function(n){return e(I(void 0,t),n)}}):I(e,t,!0)},setValue:A,getValues:D,reset:V,resetField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};nI(a,e)&&(tI(t.defaultValue)?A(e,nI(o,e)):(A(e,t.defaultValue),bI(o,e,t.defaultValue)),t.keepTouched||zI(i.touchedFields,e),t.keepDirty||(zI(i.dirtyFields,e),i.isDirty=t.defaultValue?T(e,nI(o,e)):T()),t.keepError||(zI(i.errors,e),h.isValid&&g()),d.state.next(On({},i)))},clearErrors:function(e){e&&vI(e).forEach((function(e){return zI(i.errors,e)})),d.state.next({errors:e?i.errors:{}})},unregister:M,setError:function(e,t,n){var r=(nI(a,e,{_f:{}})._f||{}).ref;bI(i.errors,e,On(On({},t),{},{ref:r})),d.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},setFocus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=nI(a,e),r=n&&n._f;if(r){var i=r.refs?r.refs[0]:r.ref;i.focus&&(i.focus(),t.shouldSelect&&i.select())}},getFieldState:L}}function lN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.useRef(),r=E(t.useState({isDirty:!1,isValidating:!1,isLoading:NI(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:NI(e.defaultValues)?void 0:e.defaultValues}),2),i=r[0],a=r[1];n.current||(n.current=On(On({},uN(e,(function(){return a((function(e){return On({},e)}))}))),{},{formState:i}));var o=n.current.control;return o._options=e,mI({subject:o._subjects.state,next:function(e){pI(e,o._proxyFormState,o._updateFormState,!0)&&a(On({},o._formState))}}),t.useEffect((function(){e.values&&!WI(e.values,o._defaultValues)?o._reset(e.values,o._options.resetOptions):o._resetDefaultValues()}),[e.values,o]),t.useEffect((function(){o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(On({},o._formState))),o._removeUnmounted()})),n.current.formState=hI(i,o),n.current}var cN=function(e){var t=e.userInfo,n=lN(),r=n.register,i=(n.formState.errors,n.handleSubmit),a=n.reset;return(0,qr.jsx)("div",{className:DT,children:(0,qr.jsxs)("form",{onSubmit:i((function(e){sT(t.name,e.title,e.text,t.uid).then().catch(),a()})),children:[(0,qr.jsxs)("div",{className:LT,children:[(0,qr.jsx)("input",On(On({className:"".concat(MT," ").concat(FT),placeholder:"Enter title task..."},r("title")),{},{required:!0,autoFocus:!0,autoComplete:"off",maxLength:40})),(0,qr.jsx)("textarea",On({className:"".concat(MT," ").concat(jT),placeholder:"Enter text task..."},r("text")))]}),(0,qr.jsx)("button",{className:UT,children:"Send task"})]})})},fN=function(e){var t=e.addTaskMode,n=void 0!==t&&t,r=e.userInfo,i=e.editMode;return(0,qr.jsx)("div",{className:RT,children:n?(0,qr.jsx)(cN,{userInfo:r}):(0,qr.jsx)("div",{className:OT,children:!i&&(r.about||"")})})},hN=function(e){var t=e.setEditMode,n=e.editMode,r=e.setUserImageUrl,i=e.userInfo;return(0,qr.jsx)("div",{className:xT,children:(0,qr.jsx)("button",{onClick:function(){t(!n),n&&r(i.imageURL||"")},className:"".concat(CT," ").concat(IT," ").concat(n?NT:""),children:n?"Go back":"Edit mode"})})},dN={container:"EditUserInfo_container__40eNM",editButtons:"EditUserInfo_editButtons__7Axsq",saveButton:"EditUserInfo_saveButton__uob2i",deleteImgButton:"EditUserInfo_deleteImgButton__YhnWi",aboutInputs:"EditUserInfo_aboutInputs__sGB5a",aboutArea:"EditUserInfo_aboutArea__y50dQ"},pN=function(e){var t=e.userInfo,n=e.setEditMode,r=e.setUserImageUrl,i=e.userImageUrl,a=lN(),o=a.register,s=(a.formState.errors,a.handleSubmit),u=a.reset;return(0,qr.jsxs)("div",{className:dN.container,children:[(0,qr.jsxs)("form",{onSubmit:s((function(e){t.name===e.name&&t.surname===e.surname&&t.level===e.level&&t.about===e.about&&t.imageURL===i||(t.imageURL=i,t.name=e.name,t.surname=e.surname,t.level=e.level,t.about=e.about,lT(t.uid,e).then(),console.log("User info is upd"),u()),n(!1)})),children:[(0,qr.jsx)("input",On({defaultValue:hi(t.level),type:"text",className:dN.aboutInputs+" "+dN.levelInput,required:!0,autoComplete:"off",placeholder:"Level",maxLength:15},o("level"))),(0,qr.jsx)("input",On({defaultValue:hi(t.name),type:"text",className:dN.aboutInputs+" "+dN.nameInput,required:!0,autoComplete:"off",placeholder:"Name",maxLength:15},o("name"))),(0,qr.jsx)("input",On({defaultValue:hi(t.surname),type:"text",className:dN.aboutInputs+" "+dN.birthdayInput,required:!0,autoComplete:"off",placeholder:"Surname"},o("surname"))),(0,qr.jsx)("textarea",On({className:dN.aboutArea,defaultValue:t.about,autoComplete:"off",placeholder:"About yourself"},o("about"))),(0,qr.jsx)("button",{className:dN.editButtons+" "+dN.saveButton,children:"Save"})]}),!!t.imageURL&&(0,qr.jsx)("button",{onClick:function(){confirm("\u0412\u044b \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435?")&&(uT(t.uid,"").then(),r(""))},className:dN.deleteImgButton,children:(0,qr.jsx)("svg",{width:"30px",height:"30px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,qr.jsx)("path",{d:"M16 8L8 16M8.00001 8L16 16",stroke:"#ffffff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})},vN=function(e){var n=e.setCardIsOpen,r=e.userInfo,i=e.setUsersCardArr,a=E((0,t.useState)(!1),2),o=a[0],s=a[1],u=E((0,t.useState)(!1),2),l=u[0],c=u[1],f=E((0,t.useState)(r.imageURL||""),2),h=f[0],d=f[1],p=AT();return(0,qr.jsxs)("div",{className:wT.container,children:[(0,qr.jsx)("div",{onClick:function(){return n(!1)},className:wT.overlay}),(0,qr.jsxs)("div",{className:wT.window,children:[(0,qr.jsxs)("div",{className:wT.topWindow,children:[p&&(0,qr.jsxs)(qr.Fragment,{children:[(0,qr.jsx)(ST,{userInfo:r,setUsersCardArr:i}),!l&&(0,qr.jsx)(PT,{setAddTaskMode:s,addTaskMode:o}),!o&&(0,qr.jsx)(hN,{setEditMode:c,editMode:l,setUserImageUrl:d,userInfo:r})]}),(0,qr.jsx)("div",{className:wT.photoContainer,children:(0,qr.jsx)("img",{className:wT.photo+" "+(!h&&wT.noPhoto),src:h||yi,alt:"Human"})}),(0,qr.jsx)("div",{className:wT.about,children:l?(0,qr.jsx)(pN,{userInfo:r,setEditMode:c,setUserImageUrl:d,userImageUrl:h}):(0,qr.jsxs)(qr.Fragment,{children:[(0,qr.jsx)("div",{className:wT.level,children:hi(r.level)}),(0,qr.jsxs)("div",{className:wT.name,children:[hi(r.name)," ",hi(r.surname)]}),(0,qr.jsx)("div",{className:wT.birthday,children:r.birthday})]})})]}),(0,qr.jsx)(fN,{userInfo:r,addTaskMode:o,editMode:l})]})]})},mN=function(e){var n=e.userInfo,r=e.setUsersCardArr,i=void 0===r?function(){}:r,a=e.openOnClick,o=void 0===a||a,s=e.userImageUrl,u=void 0===s?void 0:s,l=E((0,t.useState)(!1),2),c=l[0],f=l[1],h=_t((function(e){return e.userSlice})).adminUser,d=function(){var e=ti(Zr().mark((function e(){return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,qr.jsxs)("div",{children:[c&&o&&(0,qr.jsx)(vN,{setCardIsOpen:f,setUsersCardArr:i,userInfo:n}),(0,qr.jsxs)("div",{onClick:d,className:"".concat(gT.container," ").concat(_T),children:[(0,qr.jsx)("div",{className:gT.photoContainer,children:(0,qr.jsx)("img",{className:gT.photo+" "+(!n.imageURL&&(void 0===u||!u)&&gT.noPhoto),src:u||n.imageURL||yi,alt:"Human"})}),(0,qr.jsxs)("div",{className:gT.about,children:[(0,qr.jsx)("div",{className:gT.level,children:n.login===h.login?"Admin":hi(n.level)}),(0,qr.jsxs)("div",{className:gT.name,children:[hi(n.name)," ",hi(n.surname)]})]})]})]})},yN=function(){return yN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},yN.apply(this,arguments)};var gN=function(e){var n=e.animate,r=void 0===n||n,i=e.animateBegin,a=e.backgroundColor,o=void 0===a?"#f5f6f7":a,s=e.backgroundOpacity,u=void 0===s?1:s,l=e.baseUrl,c=void 0===l?"":l,f=e.children,h=e.foregroundColor,d=void 0===h?"#eee":h,p=e.foregroundOpacity,v=void 0===p?1:p,m=e.gradientRatio,y=void 0===m?2:m,g=e.gradientDirection,_=void 0===g?"left-right":g,k=e.uniqueKey,b=e.interval,w=void 0===b?.25:b,E=e.rtl,S=void 0!==E&&E,x=e.speed,C=void 0===x?1.2:x,T=e.style,I=void 0===T?{}:T,N=e.title,P=void 0===N?"Loading...":N,A=e.beforeMask,R=void 0===A?null:A,O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),D=k||Math.random().toString(36).substring(6),L=D+"-diff",M=D+"-animated-diff",F=D+"-aria",j=S?{transform:"scaleX(-1)"}:null,U="0; "+w+"; 1",V=C+"s",B="top-bottom"===_?"rotate(90)":void 0;return(0,t.createElement)("svg",yN({"aria-labelledby":F,role:"img",style:yN(yN({},I),j)},O),P?(0,t.createElement)("title",{id:F},P):null,R&&(0,t.isValidElement)(R)?R:null,(0,t.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+c+"#"+L+")",style:{fill:"url("+c+"#"+M+")"}}),(0,t.createElement)("defs",null,(0,t.createElement)("clipPath",{id:L},f),(0,t.createElement)("linearGradient",{id:M,gradientTransform:B},(0,t.createElement)("stop",{offset:"0%",stopColor:o,stopOpacity:u},r&&(0,t.createElement)("animate",{attributeName:"offset",values:-y+"; "+-y+"; 1",keyTimes:U,dur:V,repeatCount:"indefinite",begin:i})),(0,t.createElement)("stop",{offset:"50%",stopColor:d,stopOpacity:v},r&&(0,t.createElement)("animate",{attributeName:"offset",values:-y/2+"; "+-y/2+"; "+(1+y/2),keyTimes:U,dur:V,repeatCount:"indefinite",begin:i})),(0,t.createElement)("stop",{offset:"100%",stopColor:o,stopOpacity:u},r&&(0,t.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+y),keyTimes:U,dur:V,repeatCount:"indefinite",begin:i})))))},_N=function(e){return e.children?(0,t.createElement)(gN,yN({},e)):(0,t.createElement)(kN,yN({},e))},kN=function(e){return(0,t.createElement)(_N,yN({viewBox:"0 0 476 124"},e),(0,t.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,t.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,t.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,t.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,t.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,t.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},bN=_N,wN=function(){return(0,qr.jsx)("div",{className:_T,children:(0,qr.jsxs)(bN,{speed:2,height:170,viewBox:"0 0 250 170",backgroundColor:"#f0f0f0",foregroundColor:"#dedede",children:[(0,qr.jsx)("rect",{className:kT,x:"23",y:"23",rx:"14",ry:"14"}),(0,qr.jsx)("rect",{className:bT,x:"168",y:"51",rx:"3",ry:"3",width:"80",height:"14"}),(0,qr.jsx)("rect",{className:bT,x:"168",y:"30",rx:"3",ry:"3",width:"80",height:"14"})]})})},EN=function(){var e=E((0,t.useState)(!0),2),n=e[0],r=e[1],i=E((0,t.useState)([]),2),a=i[0],o=i[1],s=_t((function(e){return e.userSlice})).user,u=_t((function(e){return e.searchSlice})).search;(0,t.useEffect)((function(){ti(Zr().mark((function e(){var t,n;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,cT();case 3:t=e.sent,n=t?t.filter((function(e){return e.login!==s.login})):[],o(n),r(!1);case 7:case"end":return e.stop()}}),e)})))()}),[]);return(0,qr.jsx)("div",{className:yT,children:function(){var e=u.programmers.length>0?a.filter((function(e){return e.name.toLowerCase().includes(u.programmers.toLowerCase())||e.surname.toLowerCase().includes(u.programmers.toLowerCase())||e.level.toLowerCase().includes(u.programmers.toLowerCase())})):a;return n?l(new Array(9)).map((function(e,t){return(0,qr.jsx)(wN,{},t)})):e.map((function(e){return(0,qr.jsx)(mN,{userInfo:e,setUsersCardArr:o},e.uid)}))}()})},SN="commonForm_container__JYnRm",xN="commonForm_window__p6-iV",CN="InputBlocks_container__Fv8h9",TN="InputBlocks_block__jmJJw",IN="InputBlock_container__r6O42",NN="InputBlock_regInput__vm5s1",PN="InputBlock_regInputPaddingBottom__jPmxY",AN="InputBlock_passwordMode__Y2sf8",RN="InputBlock_titleFromBlocks__P0cVg",ON=function(e){var t=e.buttonIsLoading,n=void 0!==t&&t,r=e.showPassword,i=void 0===r||r,a=e.title,o=e.inputValue,s=e.inputOnChange,u=e.inputType,l=void 0===u?"":u,c=e.maxLength,f=void 0===c?30:c,h=a.toLowerCase().includes("password")&&!i;return(0,qr.jsx)("div",{className:IN,children:(0,qr.jsxs)("label",{className:RN,children:[a,(0,qr.jsx)("input",{maxLength:f,disabled:n,type:l||(h?"password":"text"),className:"".concat(NN," ").concat(!l&&PN," ").concat(h&&AN),onChange:function(e){return s(e.target.value)},value:o})]})})},DN=function(e){var t=e.inputBlockArr,n=e.showPassword,r=void 0===n||n,i=e.buttonIsLoading,a=void 0!==i&&i;return(0,qr.jsx)("div",{className:CN,children:t.map((function(e){return(0,qr.jsx)("div",{className:TN,children:(0,qr.jsx)(ON,On({showPassword:r,buttonIsLoading:a},e))},e.title)}))})},LN="ButtonOutsideForm_buttonUnderWindow__rnH++",MN=function(e){var t=e.title,n=e.linkTo,r=e.onClickProps;return(0,qr.jsx)(et,{to:n,children:(0,qr.jsx)("button",{onClick:r,className:LN,children:t})})},FN="ShowPasswordSVG_showPasswordSvg__Dqmv7",jN=function(e){var t=e.showIf,n=e.showPassword,r=e.setShowPassword;return(0,qr.jsx)(qr.Fragment,{children:t&&(0,qr.jsx)("button",{type:"button",title:"Show password",className:FN,onClick:function(){return r(!n)},children:n?(0,qr.jsx)("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,qr.jsx)("path",{d:"M20 14.8335C21.3082 13.3317 22 12 22 12C22 12 18.3636 5 12 5C11.6588 5 11.3254 5.02013 11 5.05822C10.6578 5.09828 10.3244 5.15822 10 5.23552M12 9C12.3506 9 12.6872 9.06015 13 9.17071C13.8524 9.47199 14.528 10.1476 14.8293 11C14.9398 11.3128 15 11.6494 15 12M3 3L21 21M12 15C11.6494 15 11.3128 14.9398 11 14.8293C10.1476 14.528 9.47198 13.8524 9.1707 13C9.11386 12.8392 9.07034 12.6721 9.04147 12.5M4.14701 9C3.83877 9.34451 3.56234 9.68241 3.31864 10C2.45286 11.1282 2 12 2 12C2 12 5.63636 19 12 19C12.3412 19 12.6746 18.9799 13 18.9418",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}):(0,qr.jsxs)("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,qr.jsx)("path",{d:"M12 5C5.63636 5 2 12 2 12C2 12 5.63636 19 12 19C18.3636 19 22 12 22 12C22 12 18.3636 5 12 5Z",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,qr.jsx)("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})})},UN="ErrorMessage_container__fjJ4U",VN=function(e){var t=e.errorMessage,n=void 0===t?"":t;return(0,qr.jsx)("div",{className:UN,children:n})},BN="ButtonInForm_continueButton__fuRh1",zN="ButtonInForm_loadingGif__azHZA",qN="ButtonInForm_continueButtonActive__Wl2Au",HN=n.p+"static/media/loading.2b5f132381dfa9eff97f.gif",WN=function(e){var t=e.title,n=e.activeIf,r=e.onClickProps,i=void 0===r?function(){}:r,a=e.buttonIsLoading,o=void 0!==a&&a;return(0,qr.jsx)(qr.Fragment,{children:(0,qr.jsx)("button",{disabled:!n,className:BN+" "+(n?qN:""),onClick:function(e){return function(e){e.preventDefault(),i()}(e)},children:o?(0,qr.jsx)("img",{className:zN,src:HN,alt:"loading"}):t})})},KN=function(e){var t=e.setButtonIsLoading,n=e.loginInputValue,r=e.passwordInputValue,i=e.setErrorMessage,a=e.loginIsActive,o=e.buttonIsLoading,s=zr(),u=xe(),l=function(){var e=ti(Zr().mark((function e(){var a,o;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(!0);case 2:return e.prev=2,e.next=5,cT();case 5:if(a=e.sent,!(o=a?a.filter((function(e){return e.login===n&&e.password===r}))[0]:null)){e.next=14;break}return e.next=10,s(Rr(o));case 10:return e.next=12,u("/menu/profile");case 12:e.next=16;break;case 14:return e.next=16,i("Invalid username or password.");case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 ",e.t0);case 21:return e.next=23,t(!1);case 23:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(){return e.apply(this,arguments)}}();return(0,qr.jsx)(WN,{title:"Log in",activeIf:a,onClickProps:l,buttonIsLoading:o})},GN=function(){var e=E((0,t.useState)(!1),2),n=e[0],r=e[1],i=E((0,t.useState)(""),2),a=i[0],o=i[1],s=E((0,t.useState)(""),2),u=s[0],l=s[1],c=E((0,t.useState)(!1),2),f=c[0],h=c[1],d=E((0,t.useState)(""),2),p=d[0],v=d[1],m=a.length>0&&u.length>0&&!f&&!p,y=[{title:"Login",inputValue:a,inputOnChange:o},{title:"Password",inputValue:u,inputOnChange:l}];return(0,t.useEffect)((function(){v("")}),[a,u]),(0,qr.jsxs)("div",{className:SN,children:[(0,qr.jsx)("div",{className:xN,children:(0,qr.jsxs)("form",{children:[(0,qr.jsx)(DN,{showPassword:n,inputBlockArr:y,buttonIsLoading:f}),(0,qr.jsx)(jN,{showIf:u.length>0,showPassword:n,setShowPassword:r}),(0,qr.jsx)(VN,{errorMessage:p}),(0,qr.jsx)(KN,{setButtonIsLoading:h,loginInputValue:a,passwordInputValue:u,setErrorMessage:v,loginIsActive:m,buttonIsLoading:f})]})}),(0,qr.jsx)(MN,{title:"Sigh up",linkTo:"/registration/about"})]})},QN="ToggleButton_container__VDU3x",$N="ToggleButton_toggleButton__BAZJg",YN="ToggleButton_activeToggleButton__pkhsC",XN=function(e){var t=e.checkedToggleButton,n=e.setCheckedToggleButton;return(0,qr.jsx)("div",{className:QN,children:["Junior","Middle","Senior"].map((function(e){return(0,qr.jsx)("button",{type:"button",onClick:function(){return n(e.toLowerCase())},className:$N+" "+(t===e.toLowerCase()?YN:""),children:e},e)}))})},JN=(0,t.memo)((function(){var e=zr(),n=xe(),r=_t((function(e){return e.registrationSlice})).registrationUser,i=E((0,t.useState)(""),2),a=i[0],o=i[1],s=E((0,t.useState)(r.name||""),2),u=s[0],l=s[1],c=E((0,t.useState)(r.surname||""),2),f=c[0],h=c[1],d=E((0,t.useState)(mi(r.birthday)||""),2),p=d[0],v=d[1],m=E((0,t.useState)(r.level||""),2),y=m[0],g=m[1],_=u.length>0&&f.length>0&&p.length>0&&y.length>0,k=[{title:"Name",inputValue:u,inputOnChange:l,maxLength:15},{title:"Surname",inputValue:f,inputOnChange:h,maxLength:15},{title:"Birth Day",inputValue:p,inputOnChange:v,inputType:"date"}],b=function(){return!!function(e,t){if(e.length<2)return o("Name must contain more than 2 letters."),!1;if(e.length>15)return o("Name must be less than 15 characters."),!1;if(t.length<2)return o("Surname must contain more than 2 letters."),!1;if(t.length>15)return o("Surname must be less than 15 characters."),!1;var n=/^[\u0410-\u042f\u0430-\u044f]+$/,r=/^[A-Za-z]+$/;return e.match(n)&&t.match(n)||e.match(r)&&t.match(r)?(console.log(e.match(n)),!0):(o("Name must have alpha bet characters only."),!1)}(u,f)&&(!!function(e){var t=e.split("-"),n=Number(di().slice(0,4)),r=Number(di().slice(4,6)),i=Number(di().slice(6,8));if(n<Number(t[0]))return!1;if(n===Number(t[0])){if(r===Number(t[1])&&i<Number(t[2]))return!1;if(r<Number(t[1]))return!1}return!0}(p)||(o("Incorrect date."),!1))};return(0,t.useEffect)((function(){o("")}),[u,f,p]),(0,qr.jsxs)("div",{className:SN,children:[(0,qr.jsx)("div",{className:xN,children:(0,qr.jsxs)("form",{children:[(0,qr.jsx)(DN,{inputBlockArr:k}),(0,qr.jsx)(XN,{checkedToggleButton:y,setCheckedToggleButton:g}),(0,qr.jsx)(VN,{errorMessage:a}),(0,qr.jsx)(WN,{title:"Continue",activeIf:_,onClickProps:function(){b()&&(e(jr({name:u,surname:f,birthday:vi(p),level:y})),n("/registration/login"))}})]})}),(0,qr.jsx)(MN,{title:"Log in",linkTo:"/authentication",onClickProps:function(){return e(Vr())}})]})})),ZN="Tasks_container__nDFaQ",eP="Task_container__cdysr",tP="Task_textBlock__pAjmm",nP="Task_title__5yswI",rP="Task_info__VR7uZ",iP="Task_loginInTask__JO18p",aP="Task_date__r7hvA",oP="Task_greenDate__FYdr4",sP="Task_taskIsDisable__JwGg5",uP="Task_taskIsEnable__WiYNZ",lP="commonStyles_border__+B7wD",cP="commonStyles_skeleton__xW-3B",fP="OpenedTask_container__6DnVF",hP="OpenedTask_overlay__qtDMA",dP="OpenedTask_window__2EpME",pP="OpenedTask_titleBlockWrapper__B4d5f",vP="OpenedTask_titleBlock__2vZLY",mP="OpenedTask_titleInput__eMkyk",yP="OpenedTask_textBlockWrapper__4-58m",gP="OpenedTask_textBlock__S8YyR",_P="OpenedTask_textInput__8HdDC",kP="OpenedTask_time__pZUk5",bP="OpenedTask_yearMonthDay__n7ac9",wP="OpenedTask_date__3nf-u",EP="OpenedTask_greenDate__LO5fY",SP="OpenedTask_editButton__8AVfa",xP="OpenedTask_borderEdit__lrIDj",CP="DeleteTaskButton_container__TpJGb",TP="DeleteTaskButton_deleteButton__9SOXY",IP=function(e){var t=e.task,n=e.taskItems,r=e.setTaskItems;return(0,qr.jsx)("div",{className:CP,children:(0,qr.jsx)("button",{onClick:function(){r(l(n.filter((function(e){return e.uid!==t.uid})))),rT(t.uid).then().catch()},className:TP,children:"Delete task"})})},NP=function(e){var n=e.setTaskIsOpen,r=e.task,i=e.taskItems,a=e.setTaskItems,o=E((0,t.useState)(!1),2),s=o[0],u=o[1],l=E((0,t.useState)(r.title),2),c=l[0],f=l[1],h=E((0,t.useState)(r.text),2),d=h[0],p=h[1],v=AT();return(0,qr.jsxs)("div",{className:fP,children:[(0,qr.jsx)("div",{onClick:function(){return n(!1)},className:hP}),(0,qr.jsxs)("div",{className:dP+" "+(s?xP:""),children:[(0,qr.jsxs)("form",{children:[(0,qr.jsx)("div",{className:pP,children:(0,qr.jsx)("div",{className:vP,children:s?(0,qr.jsx)("input",{className:mP,onChange:function(e){return f(e.target.value)},value:c,maxLength:40}):r.title})}),(0,qr.jsx)("div",{className:yP,children:(0,qr.jsx)("div",{className:gP,children:s?(0,qr.jsx)("textarea",{className:_P,onChange:function(e){return p(e.target.value)},value:d}):r.text})}),!!r.date.length&&(0,qr.jsxs)(qr.Fragment,{children:[(0,qr.jsx)("div",{className:"".concat(kP," ").concat(wP," ").concat(!r.state&&EP),children:r.date.slice(8,10)+":"+r.date.slice(10,12)}),(0,qr.jsx)("div",{className:"".concat(bP," ").concat(wP," ").concat(!r.state&&EP),children:r.date.slice(6,8)+"."+r.date.slice(4,6)+"."+r.date.slice(0,4)})]}),v&&(0,qr.jsx)("button",{onClick:function(){!s||c===r.title&&d===r.text||(oT(r.uid,{title:c,text:d}).then().catch(),r.title=c,r.text=d),u(!s)},className:SP,children:s?"Save":"Edit mode"})]}),v&&(0,qr.jsx)(IP,{task:r,taskItems:i,setTaskItems:a})]})]})},PP="CheckTaskButton_container__ojk1s",AP="CheckTaskButton_check__f5rkT",RP="CheckTaskButton_activeCheck__txRvA";var OP=function(e){var n=e.task,r=e.taskItems,i=(e.setTaskItems,e.isChecked),a=e.setIsChecked,o=e.setSortTaskFunc,s=(0,t.useCallback)(function(e,t){var n;return function(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){e.apply(r,a)}),t)}}((function(e,t){n.state!==e&&(n.state=e,aT(n.uid,e).then().catch(),o(t))}),500),[]);return(0,qr.jsx)("div",{className:PP,children:(0,qr.jsx)("div",{onClick:function(){s(!i,r),a(!i)},className:AP+" "+(i?RP:"")})})},DP=function(e){var n,r=e.task,i=e.taskItems,a=e.setTaskItems,o=e.setSortTaskFunc,s=E((0,t.useState)(r.state),2),u=s[0],l=s[1],c=E((0,t.useState)(!1),2),f=c[0],h=c[1],d=AT();return(0,qr.jsxs)(qr.Fragment,{children:[f&&(0,qr.jsx)(NP,{setTaskIsOpen:h,task:r,taskItems:i,setTaskItems:a}),(0,qr.jsxs)("div",{className:"".concat(eP,"  ").concat(lP," ").concat(u?sP:uP),children:[(0,qr.jsx)(OP,{task:r,taskItems:i,setTaskItems:a,isChecked:u,setIsChecked:l,setSortTaskFunc:o}),(0,qr.jsxs)("div",{className:"".concat(tP),onClick:function(){return h(!0)},children:[(0,qr.jsx)("span",{className:nP,children:r.title}),(0,qr.jsxs)("span",{className:rP,children:[d&&(0,qr.jsx)("span",{className:iP,children:hi(r.username.slice(0,7))}),r.date&&(0,qr.jsx)("span",{className:aP+" "+(u?"":oP),children:(n=r.date,n.slice(6,8)+"."+n.slice(4,6))})]})]})]})]})},LP=function(){return(0,qr.jsx)("div",{className:lP,children:(0,qr.jsxs)(bN,{className:cP,speed:2,height:50,viewBox:"0 0 100% 50",backgroundColor:"#f0f0f0",foregroundColor:"#dedede",children:[(0,qr.jsx)("circle",{cx:"26",cy:"24",r:"12"}),(0,qr.jsx)("rect",{x:"51",y:"13",rx:"5",ry:"5",width:"85%",height:"22"})]})})},MP=function(){var e=E((0,t.useState)([]),2),n=e[0],r=e[1],i=E((0,t.useState)(!0),2),a=i[0],o=i[1],s=_t((function(e){return e.userSlice})),u=s.user,c=s.adminUser,f=_t((function(e){return e.searchSlice})).search,h=function(e){if(e&&e.length>0){var t=e.filter((function(e){return e.state})),n=e.filter((function(e){return!e.state})),i=t.sort((function(e,t){return Number(t.date)-Number(e.date)})),a=n.sort((function(e,t){return Number(t.date)-Number(e.date)}));r([].concat(l(a),l(i)))}else r([])};(0,t.useEffect)((function(){ti(Zr().mark((function e(){var t;return Zr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(!0);case 2:if(u.login!==c.login){e.next=8;break}return e.next=5,tT();case 5:e.t1=e.sent,e.next=11;break;case 8:return e.next=10,nT(u.uid);case 10:e.t1=e.sent;case 11:if(e.t0=e.t1,e.t0){e.next=14;break}e.t0=[];case 14:return t=e.t0,e.next=17,h(t);case 17:return e.next=19,o(!1);case 19:case"end":return e.stop()}}),e)})))()}),[]);return(0,qr.jsx)("div",{className:ZN,children:function(){var e=f.tasks.length>0?n.filter((function(e){return e.username.toLowerCase().includes(f.tasks.toLowerCase())||function(e){var t="".concat(e.slice(6,8),".").concat(e.slice(4,6)),n="".concat(e.slice(8,10),":").concat(e.slice(10,12));return"".concat(t," ").concat(n)}(e.date).includes(f.tasks)||e.text.toLowerCase().includes(f.tasks.toLowerCase())||e.title.toLowerCase().includes(f.tasks.toLowerCase())})):n;return a?l(new Array(18)).map((function(e,t){return(0,qr.jsx)(LP,{},t)})):e.map((function(e){return(0,qr.jsx)(DP,{task:e,taskItems:n,setTaskItems:r,setSortTaskFunc:h},e.uid)}))}()})},FP="Chat_container__z77uY",jP="Chat_programmers__1Jb38",UP="Chat_chat__rnvMo",VP={container:"Messages_container__JYZD+"},BP="Message_skeletonWrapper__TGdk-",zP=function(){var e=AT();return(0,qr.jsx)("div",{className:BP,children:(0,qr.jsxs)(bN,{speed:2,width:1140,height:28,viewBox:"0 0 1140 28",backgroundColor:"#ffffff",foregroundColor:"#cbf2f2",children:[(0,qr.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"64",height:"28"}),(0,qr.jsx)("rect",{x:"1063.5",y:"0",rx:"5",ry:"5",width:"42",height:"28"}),e&&(0,qr.jsx)("circle",{cx:"1128",cy:"14",r:"10"}),(0,qr.jsx)("rect",{x:"67",y:"0",rx:"5",ry:"5",width:"994",height:"28"})]})})},qP={container:"MessageNew_container__7z+fU",content:"MessageNew_content__DbLO4",name:"MessageNew_name__gMpD7",userMessage:"MessageNew_userMessage__N1nC-"},HP=function(e){var t=e.messageObj,n=_t((function(e){return e.userSlice})),r=n.user,i=n.adminUser,a=r.login===t.login;return(0,qr.jsx)("div",{className:qP.container+" "+(a?qP.userMessage:""),children:(0,qr.jsxs)("div",{className:qP.content,children:[(0,qr.jsx)("div",{className:qP.name,children:t.login===i.login?"admin":t.login}),(0,qr.jsx)("div",{className:qP.message,children:t.inputMessage})]})})},WP=function(){var e=E((0,t.useState)([]),2),n=e[0],r=e[1],i=(0,t.useRef)(null),a=_t((function(e){return e.searchSlice})).search,o=function(){if(i.current){var e=i.current,t=e.scrollHeight,n=e.clientHeight;i.current.scrollTop=t-n}};(0,t.useEffect)((function(){Sd(gd($C),(function(e){r([]);var t=e.val();if(null!==t){var n=Object.values(t).sort((function(e,t){return e.date-t.date}));r(n)}setTimeout((function(){return o()}),0)}))}),[]),(0,t.useEffect)((function(){o()}),[a.chat]);return(0,qr.jsx)("div",{className:VP.container,ref:i,children:(0,qr.jsx)("div",{className:VP.messages,children:function(){var e=a.chat.length>0?n.filter((function(e){return e.inputMessage.toLowerCase().includes(a.chat.toLowerCase())||e.login.toLowerCase().includes(a.chat.toLowerCase())||function(e){var t="".concat(e.slice(6,8),".").concat(e.slice(4,6)),n="".concat(e.slice(8,10),":").concat(e.slice(10,12));return"".concat(t," ").concat(n)}(e.date).includes(a.chat)})):n,t=99,r=99,i=!1;return n.length?e.map((function(e){return i=Number(e.date.slice(4,6))>r||Number(e.date.slice(6,8))>t,t=Number(e.date.slice(6,8)),r=Number(e.date.slice(4,6)),(0,qr.jsxs)("div",{children:[i&&(0,qr.jsx)("div",{className:VP.space,children:(0,qr.jsx)("div",{className:VP.line})}),(0,qr.jsx)(HP,{messageObj:e})]},e.uuid)})):l(new Array(15)).map((function(e,t){return(0,qr.jsx)(zP,{},t)}))}()})})},KP="SendMessage_container__DvfVv",GP="SendMessage_sendInput__4l7ao",QP="SendMessage_sendButton__wv4YX",$P="SendMessage_buttonSVG__6LmK8",YP=function(){var e=_t((function(e){return e.userSlice})).user,n=E((0,t.useState)(""),2),r=n[0],i=n[1];return(0,qr.jsxs)("form",{className:KP,children:[(0,qr.jsx)("input",{className:GP,value:r,onChange:function(e){return i(e.target.value)}}),(0,qr.jsx)("button",{onClick:function(t){if(t.preventDefault(),r.length){var n=eT(),a={uuid:n,inputMessage:r,login:e.login,date:pi()};kd(gd($C,"/".concat(n)),a).then().catch()}console.log(function(e){var t=parseInt(e.slice(0,4),10),n=parseInt(e.slice(4,6),10)-1,r=parseInt(e.slice(6,8),10),i=parseInt(e.slice(8,10),10),a=parseInt(e.slice(10,12),10),o=parseInt(e.slice(12,14),10),s=new Date(t,n,r,i,a,o);s.setHours(s.getHours()-(new Date).getTimezoneOffset()/60);var u=s.getFullYear(),l=String(s.getMonth()+1).padStart(2,"0"),c=String(s.getDate()).padStart(2,"0"),f=String(s.getHours()).padStart(2,"0"),h=String(s.getMinutes()).padStart(2,"0"),d=String(s.getSeconds()).padStart(2,"0");return"".concat(u).concat(l).concat(c).concat(f).concat(h).concat(d)}(pi())),i("")},className:QP,children:(0,qr.jsx)("svg",{className:$P,width:"13px",height:"13px",viewBox:"3 3 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,qr.jsx)("path",{d:"M20 12L4 4L6 12M20 12L4 20L6 12M20 12H6",stroke:"#78BBB8",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})},XP=function(){return(0,qr.jsxs)("div",{className:FP,children:[(0,qr.jsx)("div",{className:jP,children:"Programmers"}),(0,qr.jsxs)("div",{className:UP,children:[(0,qr.jsx)(WP,{}),(0,qr.jsx)(YP,{})]})]})},JP=function(){var e=zr(),n=xe(),r=_t((function(e){return e.registrationSlice})).registrationUser,i=E((0,t.useState)(!1),2),a=i[0],o=i[1],s=E((0,t.useState)(r.login||""),2),u=s[0],l=s[1],c=E((0,t.useState)(r.password||""),2),f=c[0],h=c[1],d=E((0,t.useState)(r.repeatPassword||""),2),p=d[0],v=d[1],m=E((0,t.useState)(""),2),y=m[0],g=m[1],_=E((0,t.useState)(!1),2),k=_[0],b=_[1],w=u.length>0&&f.length>0&&p.length>0&&!k&&!y,S=[{title:"Enter a new login",inputValue:u,inputOnChange:l},{title:"Enter a new password",inputValue:f,inputOnChange:h},{title:"Repeat new password",inputValue:p,inputOnChange:v}],x=function(){var t=ti(Zr().mark((function t(){var i,a,o,s,l,c;return Zr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),t.next=3,e(Ur({login:u,password:f,repeatPassword:p}));case 3:if(!(u.match(/^[A-Za-z]+$/)?!(f.length<6)||(g("Password must contain at least 6 characters."),0):(g("Username must have alpha bet characters only."),0))){t.next=26;break}return t.next=6,dT(u);case 6:if(i=t.sent,f!==p||i){t.next=24;break}return s={login:u||"",password:f||"",name:(null===(a=r.name)||void 0===a?void 0:a.toLowerCase())||"",surname:(null===(o=r.surname)||void 0===o?void 0:o.toLowerCase())||"",level:r.level||"",birthday:r.birthday||"",uid:"",imageURL:""},t.next=11,hT(s);case 11:return l=t.sent,s.uid=l||"",t.next=15,e(Rr(s));case 15:return t.next=17,n("/menu/profile");case 17:return c=JSON.parse(localStorage.getItem("user")||"{}"),localStorage.setItem("user",JSON.stringify(On({uid:l},c))),setTimeout((function(){return e(Vr())}),1e3),t.next=22,sT(s.name,"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435","\u0412 \u0434\u0430\u043d\u043d\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0430\u0434\u0438\u043c\u043d \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0434\u0430\u0432\u0430\u0442\u044c \u0442\u0435\u0431\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0439 \u0438\u0445 \u0432\u043e\u0432\u0440\u0435\u043c\u044f, \u0438 \u0431\u0443\u0434\u0435\u0442 \u0442\u0435\u0431\u0435 \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435!!!",l);case 22:t.next=26;break;case 24:g(i?"This username already exists.":"Passwords don't match, please try again.");case 26:b(!1);case 27:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){g("")}),[p,f,u]),(0,qr.jsxs)("div",{className:SN,children:[(0,qr.jsx)("div",{className:xN,children:(0,qr.jsxs)("form",{children:[(0,qr.jsx)(DN,{inputBlockArr:S,showPassword:a}),(0,qr.jsx)(jN,{showIf:f.length>0,showPassword:a,setShowPassword:o}),(0,qr.jsx)(VN,{errorMessage:y}),(0,qr.jsx)(WN,{title:"Sign up",activeIf:w,onClickProps:x,buttonIsLoading:k})]})}),(0,qr.jsx)(MN,{title:"Go back",linkTo:"/registration/about",onClickProps:function(){e(Ur({login:u,password:f,repeatPassword:p}))}})]})};var ZP=function(){var e=_t((function(e){return e.userSlice})).user,t=_t((function(e){return e.registrationSlice})).registrationUser;return(0,qr.jsx)("div",{className:a,children:(0,qr.jsxs)(Be,{children:[e.login?(0,qr.jsx)(Ue,{path:"/*",element:(0,qr.jsx)(Fe,{to:"/menu/profile"})}):(0,qr.jsx)(Ue,{path:"/*",element:(0,qr.jsx)(Fe,{to:"/authentication"})}),!e.login&&(0,qr.jsxs)(qr.Fragment,{children:[(0,qr.jsx)(Ue,{path:"/authentication",element:(0,qr.jsx)(GN,{})}),(0,qr.jsx)(Ue,{path:"/registration/*",element:(0,qr.jsx)(Fe,{to:"/registration/about"})}),(0,qr.jsx)(Ue,{path:"/registration/about",element:(0,qr.jsx)(JN,{})})]}),!t.name&&(0,qr.jsx)(Ue,{path:"/registration/login",element:(0,qr.jsx)(Fe,{to:"/registration/about"})}),(0,qr.jsx)(Ue,{path:"/registration/login",element:(0,qr.jsx)(JP,{})}),(0,qr.jsx)(Ue,{path:"*",element:(0,qr.jsx)(Fe,{to:"/authentication"})}),!!e.login&&(0,qr.jsxs)(Ue,{path:"/menu",element:(0,qr.jsx)(Jr,{}),children:[(0,qr.jsx)(Ue,{path:"/menu",element:(0,qr.jsx)(Fe,{to:"/menu/profile"})}),(0,qr.jsx)(Ue,{path:"/menu/*",element:(0,qr.jsx)(Fe,{to:"/menu/profile"})}),(0,qr.jsx)(Ue,{path:"/menu/profile",element:(0,qr.jsx)(mT,{})}),(0,qr.jsx)(Ue,{path:"/menu/programmers",element:(0,qr.jsx)(EN,{})}),(0,qr.jsx)(Ue,{path:"/menu/tasks",element:(0,qr.jsx)(MP,{})}),(0,qr.jsx)(Ue,{path:"/menu/chat",element:(0,qr.jsx)(XP,{})})]})]})})};i.createRoot(document.getElementById("root")).render((0,qr.jsx)(t.StrictMode,{children:(0,qr.jsx)(Xe,{children:(0,qr.jsx)(Et,{store:Br,children:(0,qr.jsx)(ZP,{})})})}))}()}();
//# sourceMappingURL=main.9ba1d121.js.map